"use strict";(self.webpackChunkhadinayebi=self.webpackChunkhadinayebi||[]).push([[179],{2011:(Ge,ve,x)=>{x.d(ve,{Dh:()=>ue,GT:()=>de,cc:()=>Ie,hO:()=>Fe,on:()=>j,pX:()=>J,xv:()=>ae});var p=x(5e3),q=x(127),O=x(5813);Ge=x.hmd(Ge);const se=["ngOnDestroy"],J=(_e,$e,Ue,Ee={})=>new Proxy(_e,{get:(pe,me)=>Ue.runOutsideAngular(()=>{var ke;if(_e[me])return(null===(ke=null==Ee?void 0:Ee.spy)||void 0===ke?void 0:ke.get)&&Ee.spy.get(me,_e[me]),_e[me];if(se.indexOf(me)>-1)return()=>{};const Ne=$e.toPromise().then(ee=>{const z=ee&&ee[me];return"function"==typeof z?z.bind(ee):z&&z.then?z.then(te=>Ue.run(()=>te)):Ue.run(()=>z)});return new Proxy(()=>{},{get:(ee,z)=>Ne[z],apply:(ee,z,te)=>Ne.then(he=>{var ne;const Te=he&&he(...te);return(null===(ne=null==Ee?void 0:Ee.spy)||void 0===ne?void 0:ne.apply)&&Ee.spy.apply(me,te,Te),Te})})})}),de=(_e,$e)=>{$e.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Ee=>{Object.defineProperty(_e.prototype,Ee,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Ee))})})};class ie{constructor($e){return $e}}const ue=new p.OlP("angularfire2.app.options"),ae=new p.OlP("angularfire2.app.name");function j(_e,$e,Ue){const pe="object"==typeof Ue&&Ue||{};pe.name=pe.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const ke=q.Z.apps.filter(Ne=>Ne&&Ne.name===pe.name)[0]||$e.runOutsideAngular(()=>q.Z.initializeApp(_e,pe));try{JSON.stringify(_e)!==JSON.stringify(ke.options)&&H("error",`${ke.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new ie(ke)}const H=(_e,...$e)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...$e)},Q={provide:ie,useFactory:j,deps:[ue,p.R0b,[new p.FiY,ae]]};let Fe=(()=>{class _e{constructor(Ue){q.Z.registerVersion("angularfire",O.q4.full,"core"),q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),q.Z.registerVersion("angular",p.q4F.full,Ue.toString())}static initializeApp(Ue,Ee){return{ngModule:_e,providers:[{provide:ue,useValue:Ue},{provide:ae,useValue:Ee}]}}}return _e.\u0275fac=function(Ue){return new(Ue||_e)(p.LFG(p.Lbi))},_e.\u0275mod=p.oAB({type:_e}),_e.\u0275inj=p.cJS({providers:[Q]}),_e})();function Ie(_e,$e,Ue,Ee,pe){const[,me,ke]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===_e)||[];if(me)return function Ae(_e,$e){try{return _e.toString()===$e.toString()}catch(Ue){return _e===$e}}(pe,ke)||(ce("error",`${$e} was already initialized on the ${Ue} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:pe,was:ke})),me;{const Ne=Ee();return globalThis.\u0275AngularfireInstanceCache.push([_e,Ne,pe]),Ne}}const Re=!!Ge.hot,ce=(_e,...$e)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ge,ve,x)=>{x.d(ve,{q4:()=>gl,iC:()=>El,HU:()=>Ca,vb:()=>Cu,JM:()=>is});var p=x(5e3),q=x(5867),O=x(5861),se=x(9681),J=x(2090),de=x(4859),ie=x(1877);const ue="@firebase/installations",H="w:0.5.8",Q="FIS_v2",_e=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(w){return w instanceof J.ZR&&w.code.includes("request-failed")}function Ue({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ee(w){return{token:w.token,requestStatus:2,expiresIn:te(w.expiresIn),creationTime:Date.now()}}function pe(w,I){return me.apply(this,arguments)}function me(){return(me=(0,O.Z)(function*(w,I){const L=(yield I.json()).error;return _e.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ke({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Ne(w,{refreshToken:I}){const S=ke(w);return S.append("Authorization",function he(w){return`${Q} ${w}`}(I)),S}function ee(w){return z.apply(this,arguments)}function z(){return(z=(0,O.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function te(w){return Number(w.replace("s","000"))}function ne(w,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:S}){const L=Ue(w),G=ke(w),X=I.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&G.append("x-firebase-client",ot)}const be={method:"POST",headers:G,body:JSON.stringify({fid:S,authVersion:Q,appId:w.appId,sdkVersion:H})},je=yield ee(()=>fetch(L,be));if(je.ok){const ot=yield je.json();return{fid:ot.fid||S,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Ee(ot.authToken)}}throw yield pe("Create Installation",je)})).apply(this,arguments)}function oe(w){return new Promise(I=>{setTimeout(I,w)})}const Pt=/^[cdef][\w-]{21}$/;function Ze(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function Xe(w){return function lt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Pt.test(S)?S:""}catch(w){return""}}function Vt(w){return`${w.appName}!${w.appId}`}const jt=new Map;function xr(w,I){const S=Vt(w);xt(S,I),function Et(w,I){const S=function sr(){return!Sn&&"BroadcastChannel"in self&&(Sn=new BroadcastChannel("[Firebase] FID Change"),Sn.onmessage=w=>{xt(w.data.key,w.data.fid)}),Sn}();S&&S.postMessage({key:w,fid:I}),function ki(){0===jt.size&&Sn&&(Sn.close(),Sn=null)}()}(S,I)}function xt(w,I){const S=jt.get(w);if(S)for(const L of S)L(I)}let Sn=null;const er="firebase-installations-store";let fi=null;function Yr(){return fi||(fi=(0,J.X3)("firebase-installations-database",1,(w,I)=>{0===I&&w.createObjectStore(er)})),fi}function qe(w,I){return or.apply(this,arguments)}function or(){return(or=(0,O.Z)(function*(w,I){const S=Vt(w),G=(yield Yr()).transaction(er,"readwrite"),X=G.objectStore(er),De=yield X.get(S);return yield X.put(I,S),yield G.complete,(!De||De.fid!==I.fid)&&xr(w,I.fid),I})).apply(this,arguments)}function bn(w){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(w){const I=Vt(w),L=(yield Yr()).transaction(er,"readwrite");yield L.objectStore(er).delete(I),yield L.complete})).apply(this,arguments)}function vr(w,I){return Li.apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(w,I){const S=Vt(w),G=(yield Yr()).transaction(er,"readwrite"),X=G.objectStore(er),De=yield X.get(S),be=I(De);return void 0===be?yield X.delete(S):yield X.put(be,S),yield G.complete,be&&(!De||De.fid!==be.fid)&&xr(w,be.fid),be})).apply(this,arguments)}function zt(w){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,O.Z)(function*(w){let I;const S=yield vr(w.appConfig,L=>{const G=pi(L),X=Ks(w,G);return I=X.registrationPromise,X.installationEntry});return""===S.fid?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}})).apply(this,arguments)}function pi(w){return wt(w||{fid:Ze(),registrationStatus:0})}function Ks(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Ct(w,I){return ze.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:st(w)}:{installationEntry:I}}function ze(){return(ze=(0,O.Z)(function*(w,I){try{const S=yield ne(w,I);return qe(w.appConfig,S)}catch(S){throw $e(S)&&409===S.customData.serverCode?yield bn(w.appConfig):yield qe(w.appConfig,{fid:I.fid,registrationStatus:0}),S}})).apply(this,arguments)}function st(w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(w){let I=yield Qr(w.appConfig);for(;1===I.registrationStatus;)yield oe(100),I=yield Qr(w.appConfig);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield zt(w);return L||S}return I})).apply(this,arguments)}function Qr(w){return vr(w,I=>{if(!I)throw _e.create("installation-not-found");return wt(I)})}function wt(w){return function ms(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Fn(w,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*({appConfig:w,heartbeatServiceProvider:I},S){const L=Ye(w,S),G=Ne(w,S),X=I.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&G.append("x-firebase-client",ot)}const be={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:H,appId:w.appId}})},je=yield ee(()=>fetch(L,be));if(je.ok)return Ee(yield je.json());throw yield pe("Generate Auth Token",je)})).apply(this,arguments)}function Ye(w,{fid:I}){return`${Ue(w)}/${I}/authTokens:generate`}function Un(w){return yt.apply(this,arguments)}function yt(){return(yt=(0,O.Z)(function*(w,I=!1){let S;const L=yield vr(w.appConfig,X=>{if(!mt(X))throw _e.create("not-registered");const De=X.authToken;if(!I&&B(De))return X;if(1===De.requestStatus)return S=Be(w,I),X;{if(!navigator.onLine)throw _e.create("app-offline");const be=$(X);return S=Qe(w,be),be}});return S?yield S:L.authToken})).apply(this,arguments)}function Be(w,I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(w,I){let S=yield Ve(w.appConfig);for(;1===S.authToken.requestStatus;)yield oe(100),S=yield Ve(w.appConfig);const L=S.authToken;return 0===L.requestStatus?Un(w,I):L})).apply(this,arguments)}function Ve(w){return vr(w,I=>{if(!mt(I))throw _e.create("not-registered");return function le(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Qe(w,I){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(w,I){try{const S=yield Fn(w,I),L=Object.assign(Object.assign({},I),{authToken:S});return yield qe(w.appConfig,L),S}catch(S){if(!$e(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield qe(w.appConfig,L)}else yield bn(w.appConfig);throw S}})).apply(this,arguments)}function mt(w){return void 0!==w&&2===w.registrationStatus}function B(w){return 2===w.requestStatus&&!function F(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function $(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function xe(){return(xe=(0,O.Z)(function*(w){const I=w,{installationEntry:S,registrationPromise:L}=yield zt(I);return L?L.catch(console.error):Un(I).catch(console.error),S.fid})).apply(this,arguments)}function St(){return(St=(0,O.Z)(function*(w,I=!1){const S=w;return yield Bn(S),(yield Un(S,I)).token})).apply(this,arguments)}function Bn(w){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(w){const{registrationPromise:I}=yield zt(w);I&&(yield I)})).apply(this,arguments)}function Cn(w){return _e.create("missing-app-config-values",{valueName:w})}const wo="installations",Se=w=>{const I=w.getProvider("app").getImmediate(),S=function gi(w){if(!w||!w.options)throw Cn("App Configuration");if(!w.name)throw Cn("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!w.options[S])throw Cn(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ft=w=>{const I=w.getProvider("app").getImmediate(),S=(0,se._getProvider)(I,wo).getImmediate();return{getId:()=>function Y(w){return xe.apply(this,arguments)}(S),getToken:G=>function et(w){return St.apply(this,arguments)}(S,G)}};(function $t(){(0,se._registerComponent)(new de.wA(wo,Se,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",ft,"PRIVATE"))})(),(0,se.registerVersion)(ue,"0.5.8"),(0,se.registerVersion)(ue,"0.5.8","esm2017");const Pn="@firebase/remote-config",cn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bc{constructor(I,S,L,G){this.client=I,this.storage=S,this.storageCache=L,this.logger=G}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,G=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${G}.`),G}fetch(I){var S=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(G&&S.isCachedDataFresh(I.cacheMaxAgeMillis,L))return G;I.eTag=G&&G.eTag;const X=yield S.client.fetch(I),De=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&De.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(De),X})()}}function eu(w=navigator){return w.languages&&w.languages[0]||w.language}class ta{constructor(I,S,L,G,X,De){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=L,this.projectId=G,this.apiKey=X,this.appId=De}fetch(I){var S=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},je={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:S.appId,language_code:eu()},ot={method:"POST",headers:be,body:JSON.stringify(je)},ht=fetch(De,ot),ut=new Promise((Sr,Br)=>{I.signal.addEventListener(()=>{const Ps=new Error("The operation was aborted.");Ps.name="AbortError",Br(Ps)})});let vn;try{yield Promise.race([ht,ut]),vn=yield ht}catch(Sr){let Br="fetch-client-network";throw"AbortError"===Sr.name&&(Br="fetch-timeout"),cn.create(Br,{originalErrorMessage:Sr.message})}let on=vn.status;const fo=vn.headers.get("ETag")||void 0;let Rs,nr;if(200===vn.status){let Sr;try{Sr=yield vn.json()}catch(Br){throw cn.create("fetch-client-parse",{originalErrorMessage:Br.message})}Rs=Sr.entries,nr=Sr.state}if("INSTANCE_STATE_UNSPECIFIED"===nr?on=500:"NO_CHANGE"===nr?on=304:("NO_TEMPLATE"===nr||"EMPTY_CONFIG"===nr)&&(Rs={}),304!==on&&200!==on)throw cn.create("fetch-status",{httpStatus:on});return{status:on,eTag:fo,config:Rs}})()}}class _h{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,O.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:L}){var G=this;return(0,O.Z)(function*(){yield function _n(w,I){return new Promise((S,L)=>{const G=Math.max(I-Date.now(),0),X=setTimeout(S,G);w.addEventListener(()=>{clearTimeout(X),L(cn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const X=yield G.client.fetch(I);return yield G.storage.deleteThrottleMetadata(),X}catch(X){if(!function tu(w){if(!(w instanceof J.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(X))throw X;const De={throttleEndTimeMillis:Date.now()+(0,J.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(De),G.attemptFetch(I,De)}})()}}class nu{constructor(I,S,L,G,X){this.app=I,this._client=S,this._storageCache=L,this._storage=G,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ga(w,I){const S=w.target.error||void 0;return cn.create(I,{originalErrorMessage:S&&S.message})}const ji="app_namespace_store";class Ch{constructor(I,S,L,G=function Eh(){return new Promise((w,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{I(Ga(L,"storage-open"))},S.onsuccess=L=>{w(L.target.result)},S.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ji,{keyPath:"compositeKey"})}}catch(S){I(cn.create("storage-open",{originalErrorMessage:S}))}})}()){this.appId=I,this.appName=S,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((G,X)=>{const be=L.transaction([ji],"readonly").objectStore(ji),je=S.createCompositeKey(I);try{const ot=be.get(je);ot.onerror=ht=>{X(Ga(ht,"storage-get"))},ot.onsuccess=ht=>{const ut=ht.target.result;G(ut?ut.value:void 0)}}catch(ot){X(cn.create("storage-get",{originalErrorMessage:ot&&ot.message}))}})})()}set(I,S){var L=this;return(0,O.Z)(function*(){const G=yield L.openDbPromise;return new Promise((X,De)=>{const je=G.transaction([ji],"readwrite").objectStore(ji),ot=L.createCompositeKey(I);try{const ht=je.put({compositeKey:ot,value:S});ht.onerror=ut=>{De(Ga(ut,"storage-set"))},ht.onsuccess=()=>{X()}}catch(ht){De(cn.create("storage-set",{originalErrorMessage:ht&&ht.message}))}})})()}delete(I){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((G,X)=>{const be=L.transaction([ji],"readwrite").objectStore(ji),je=S.createCompositeKey(I);try{const ot=be.delete(je);ot.onerror=ht=>{X(Ga(ht,"storage-delete"))},ot.onsuccess=()=>{G()}}catch(ot){X(cn.create("storage-delete",{originalErrorMessage:ot&&ot.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class iu{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const S=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),G=I.storage.getActiveConfig(),X=yield S;X&&(I.lastFetchStatus=X);const De=yield L;De&&(I.lastSuccessfulFetchTimestampMillis=De);const be=yield G;be&&(I.activeConfig=be)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function vs(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,O.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Ys(){(0,se._registerComponent)(new de.wA("remote-config",function w(I,{instanceIdentifier:S}){const L=I.getProvider("app").getImmediate(),G=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw cn.create("registration-window");if(!(0,J.hl)())throw cn.create("indexed-db-unavailable");const{projectId:X,apiKey:De,appId:be}=L.options;if(!X)throw cn.create("registration-project-id");if(!De)throw cn.create("registration-api-key");if(!be)throw cn.create("registration-app-id");const je=new Ch(be,L.name,S=S||"firebase"),ot=new iu(je),ht=new ie.Yd(Pn);ht.logLevel=ie.in.ERROR;const ut=new ta(G,se.SDK_VERSION,S,X,De,be),vn=new _h(ut,je),on=new bc(vn,je,ot,ht),fo=new nu(L,on,ot,je,ht);return function Or(w){const I=(0,J.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Pn,"0.3.7"),(0,se.registerVersion)(Pn,"0.3.7","esm2017")}();const Za="/firebase-messaging-sw.js",Hi="/firebase-cloud-messaging-push-scope",ur="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Es="google.c.a.c_id",Do="google.c.a.c_l",su="google.c.a.ts",wh="google.c.a.e";var $i=(()=>{return(w=$i||($i={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",$i;var w})();function wr(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ra(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),G=new Uint8Array(L.length);for(let X=0;X<L.length;++X)G[X]=L.charCodeAt(X);return G}const ia="fcm_token_details_db",jn="fcm_token_object_Store";function Ac(w){return sa.apply(this,arguments)}function sa(){return sa=(0,O.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(ia))return null;let I=null;return(yield(0,J.X3)(ia,5,function(){var L=(0,O.Z)(function*(G,X,De,be){var je;if(X<2||!G.objectStoreNames.contains(jn))return;const ot=be.objectStore(jn),ht=yield ot.index("fcmSenderId").get(w);if(yield ot.clear(),ht)if(2===X){const ut=ht;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;I={token:ut.fcmToken,createTime:null!==(je=ut.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:wr(ut.vapidKey)}}}else if(3===X){const ut=ht;I={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:wr(ut.auth),p256dh:wr(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:wr(ut.vapidKey)}}}else if(4===X){const ut=ht;I={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:wr(ut.auth),p256dh:wr(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:wr(ut.vapidKey)}}}});return function(G,X,De,be){return L.apply(this,arguments)}}())).close(),yield(0,J.Lj)(ia),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),ou(I)?I:null}),sa.apply(this,arguments)}function ou(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const vi="firebase-messaging-store";let bo=null;function Ka(){return bo||(bo=(0,J.X3)("firebase-messaging-database",1,(w,I)=>{0===I&&w.createObjectStore(vi)})),bo}function Gt(w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(w){const I=ws(w),L=yield(yield Ka()).transaction(vi).objectStore(vi).get(I);if(L)return L;{const G=yield Ac(w.appConfig.senderId);if(G)return yield Wi(w,G),G}})).apply(this,arguments)}function Wi(w,I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,O.Z)(function*(w,I){const S=ws(w),G=(yield Ka()).transaction(vi,"readwrite");return yield G.objectStore(vi).put(I,S),yield G.complete,I})).apply(this,arguments)}function au(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,O.Z)(function*(w){const I=ws(w),L=(yield Ka()).transaction(vi,"readwrite");yield L.objectStore(vi).delete(I),yield L.complete})).apply(this,arguments)}function ws({appConfig:w}){return w.appId}const dn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function To(w,I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(w,I){const S=yield Gi(w),L=Je(I),G={method:"POST",headers:S,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(dr(w.appConfig),G)).json()}catch(De){throw dn.create("token-subscribe-failed",{errorInfo:De})}if(X.error)throw dn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw dn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function $n(w,I){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(w,I){const S=yield Gi(w),L=Je(I.subscriptionOptions),G={method:"PATCH",headers:S,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${dr(w.appConfig)}/${I.token}`,G)).json()}catch(De){throw dn.create("token-update-failed",{errorInfo:De})}if(X.error)throw dn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw dn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Ei(w,I){return la.apply(this,arguments)}function la(){return(la=(0,O.Z)(function*(w,I){const L={method:"DELETE",headers:yield Gi(w)};try{const X=yield(yield fetch(`${dr(w.appConfig)}/${I}`,L)).json();if(X.error)throw dn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(G){throw dn.create("token-unsubscribe-failed",{errorInfo:G})}})).apply(this,arguments)}function dr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Gi(w){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*({appConfig:w,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Je({p256dh:w,auth:I,endpoint:S,vapidKey:L}){const G={web:{endpoint:S,auth:I,p256dh:w}};return L!==ur&&(G.web.applicationPubKey=L),G}const ua=6048e5;function Ao(w){return ca.apply(this,arguments)}function ca(){return(ca=(0,O.Z)(function*(w){const I=yield Qa(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:wr(I.getKey("auth")),p256dh:wr(I.getKey("p256dh"))},L=yield Gt(w.firebaseDependencies);if(L){if(eo(L.subscriptionOptions,S))return Date.now()>=L.createTime+ua?qa(w,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield Ei(w.firebaseDependencies,L.token)}catch(G){console.warn(G)}return ye(w.firebaseDependencies,S)}return ye(w.firebaseDependencies,S)})).apply(this,arguments)}function da(w){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*(w){const I=yield Gt(w.firebaseDependencies);I&&(yield Ei(w.firebaseDependencies,I.token),yield au(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function qa(w,I){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(w,I){try{const S=yield $n(w.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield Wi(w.firebaseDependencies,L),S}catch(S){throw yield da(w),S}})).apply(this,arguments)}function ye(w,I){return _t.apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(w,I){const L={token:yield To(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Wi(w,L),L.token})).apply(this,arguments)}function Qa(w,I){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ra(I)})})).apply(this,arguments)}function eo(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function to(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function hr(w,I){if(!I.notification)return;w.notification={};const S=I.notification.title;S&&(w.notification.title=S);const L=I.notification.body;L&&(w.notification.body=L);const G=I.notification.image;G&&(w.notification.image=G)}(I,w),function Ja(w,I){!I.data||(w.data=I.data)}(I,w),function Xa(w,I){if(!I.fcmOptions)return;w.fcmOptions={};const S=I.fcmOptions.link;S&&(w.fcmOptions.link=S);const L=I.fcmOptions.analytics_label;L&&(w.fcmOptions.analyticsLabel=L)}(I,w),I}function lu(w){return"object"==typeof w&&!!w&&Es in w}function el(w,I){const S=[];for(let L=0;L<w.length;L++)S.push(w.charAt(L)),L<I.length&&S.push(I.charAt(L));return S.join("")}function Ki(w){return dn.create("missing-app-config-values",{valueName:w})}el("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),el("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xn{constructor(I,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function fa(w){if(!w||!w.options)throw Ki("App Configuration Object");if(!w.name)throw Ki("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const L of I)if(!S[L])throw Ki(L);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:G,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ir(w){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Za,{scope:Hi}),w.swRegistration.update().catch(()=>{})}catch(I){throw dn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function qi(w,I){return kr.apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield Ir(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function tl(w,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=ur)})).apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(w,I){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield tl(w,null==I?void 0:I.vapidKey),yield qi(w,null==I?void 0:I.serviceWorkerRegistration),Ao(w)})).apply(this,arguments)}function So(w,I,S){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*(w,I,S){const L=rl(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[Es],message_name:S[Do],message_time:S[su],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rl(w){switch(w){case $i.NOTIFICATION_CLICKED:return"notification_open";case $i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uu(){return(uu=(0,O.Z)(function*(w,I){const S=I.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===$i.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(to(S)):w.onMessageHandler.next(to(S)));const L=S.data;lu(L)&&"1"===L[wh]&&(yield So(w,S.messageType,L))})).apply(this,arguments)}const sl="@firebase/messaging",cu=w=>{const I=new xn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function il(w,I){return uu.apply(this,arguments)}(I,S)),I},Ds=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:L=>function ma(w,I){return nl.apply(this,arguments)}(I,L)}};function hu(){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(){try{yield(0,J.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function du(){(0,se._registerComponent)(new de.wA("messaging",cu,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Ds,"PRIVATE")),(0,se.registerVersion)(sl,"0.9.12"),(0,se.registerVersion)(sl,"0.9.12","esm2017")}();const al="analytics",op="firebase_id",Ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_a="https://www.googletagmanager.com/gtag/js",yn=new ie.Yd("@firebase/analytics");function pu(w){return Promise.all(w.map(I=>I.catch(S=>S)))}function Ih(w,I){const S=document.createElement("script");S.src=`${_a}?l=${w}&id=${I}`,S.async=!0,document.head.appendChild(S)}function no(w,I,S,L,G,X){return gu.apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(w,I,S,L,G,X){const De=L[G];try{if(De)yield I[De];else{const je=(yield pu(S)).find(ot=>ot.measurementId===G);je&&(yield I[je.appId])}}catch(be){yn.error(be)}w("config",G,X)})).apply(this,arguments)}function ul(w,I,S,L,G){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(w,I,S,L,G){try{let X=[];if(G&&G.send_to){let De=G.send_to;Array.isArray(De)||(De=[De]);const be=yield pu(S);for(const je of De){const ot=be.find(ut=>ut.measurementId===je),ht=ot&&I[ot.appId];if(!ht){X=[];break}X.push(ht)}}0===X.length&&(X=Object.values(I)),yield Promise.all(X),w("event",L,G||{})}catch(X){yn.error(X)}})).apply(this,arguments)}function Dh(){const w=window.document.getElementsByTagName("script");for(const I of Object.values(w))if(I.src&&I.src.includes(_a))return I;return null}const hn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dr=new class fr{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ro(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function _u(w){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(w){var I;const{appId:S,apiKey:L}=w,G={method:"GET",headers:ro(L)},X=Ro.replace("{app-id}",S),De=yield fetch(X,G);if(200!==De.status&&304!==De.status){let be="";try{const je=yield De.json();(null===(I=je.error)||void 0===I?void 0:I.message)&&(be=je.error.message)}catch(je){}throw hn.create("config-fetch-failed",{httpStatus:De.status,responseMessage:be})}return De.json()})).apply(this,arguments)}function Mc(w){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*(w,I=Dr,S){const{appId:L,apiKey:G,measurementId:X}=w.options;if(!L)throw hn.create("no-app-id");if(!G){if(X)return{measurementId:X,appId:L};throw hn.create("no-api-key")}const De=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},be=new cl;return setTimeout((0,O.Z)(function*(){be.abort()}),void 0!==S?S:6e4),ya({appId:L,apiKey:G,measurementId:X},De,be,I)})).apply(this,arguments)}function ya(w,I,S){return pr.apply(this,arguments)}function pr(){return(pr=(0,O.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:S},L,G=Dr){const{appId:X,measurementId:De}=w;try{yield Mt(L,I)}catch(be){if(De)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${be.message}]`),{appId:X,measurementId:De};throw be}try{const be=yield _u(w);return G.deleteThrottleMetadata(X),be}catch(be){if(!yu(be)){if(G.deleteThrottleMetadata(X),De)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${be.message}]`),{appId:X,measurementId:De};throw be}const je=503===Number(be.customData.httpStatus)?(0,J.$s)(S,G.intervalMillis,30):(0,J.$s)(S,G.intervalMillis),ot={throttleEndTimeMillis:Date.now()+je,backoffCount:S+1};return G.setThrottleMetadata(X,ot),yn.debug(`Calling attemptFetch again in ${je} millis`),ya(w,ot,L,G)}})).apply(this,arguments)}function Mt(w,I){return new Promise((S,L)=>{const G=Math.max(I-Date.now(),0),X=setTimeout(S,G);w.addEventListener(()=>{clearTimeout(X),L(hn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function yu(w){if(!(w instanceof J.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class cl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Rc(){return io.apply(this,arguments)}function io(){return(io=(0,O.Z)(function*(){if(!(0,J.hl)())return yn.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(w){return yn.warn(hn.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function Ii(){return(Ii=(0,O.Z)(function*(w,I,S,L,G,X,De){var be;const je=Mc(w);je.then(on=>{S[on.measurementId]=on.appId,w.options.measurementId&&on.measurementId!==w.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${on.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(on=>yn.error(on)),I.push(je);const ot=Rc().then(on=>{if(on)return L.getId()}),[ht,ut]=yield Promise.all([je,ot]);Dh()||Ih(X,ht.measurementId),G("js",new Date);const vn=null!==(be=null==De?void 0:De.config)&&void 0!==be?be:{};return vn.origin="firebase",vn.update=!0,null!=ut&&(vn[op]=ut),G("config",ht.measurementId,vn),ht.measurementId})).apply(this,arguments)}class so{constructor(I){this.app=I}_delete(){return delete br[this.app.options.appId],Promise.resolve()}}let br={},Ji=[];const Po={};let Xi,ti,ei="dataLayer",hl=!1;function Lr(w,I,S){!function oo(){const w=[];if((0,J.ru)()&&w.push("This is a browser extension environment."),(0,J.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((L,G)=>`(${G+1}) ${L}`).join(" "),S=hn.create("invalid-analytics-context",{errorInfo:I});yn.warn(S.message)}}();const L=w.options.appId;if(!L)throw hn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw hn.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=br[L])throw hn.create("already-exists",{id:L});if(!hl){!function wi(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(ei);const{wrappedGtag:X,gtagCore:De}=function Sc(w,I,S,L,G){let X=function(...De){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(X=window[G]),window[G]=function mu(w,I,S,L){function X(){return(X=(0,O.Z)(function*(De,be,je){try{"event"===De?yield ul(w,I,S,be,je):"config"===De?yield no(w,I,S,L,be,je):w("set",be)}catch(ot){yn.error(ot)}})).apply(this,arguments)}return function G(De,be,je){return X.apply(this,arguments)}}(X,w,I,S),{gtagCore:X,wrappedGtag:window[G]}}(br,Ji,Po,ei,"gtag");ti=X,Xi=De,hl=!0}return br[L]=function fn(w,I,S,L,G,X,De){return Ii.apply(this,arguments)}(w,Ji,Po,I,Xi,ei,S),new so(w)}function xo(){return(xo=(0,O.Z)(function*(w,I,S,L,G){if(G&&G.global)w("event",S,L);else{const X=yield I;w("event",S,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function rn(){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(w){return!1}})).apply(this,arguments)}const ns="@firebase/analytics";!function Sh(){(0,se._registerComponent)(new de.wA(al,(I,{options:S})=>Lr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function w(I){try{const S=I.getProvider(al).getImmediate();return{logEvent:(L,G,X)=>function Ah(w,I,S,L){w=(0,J.m9)(w),function ao(w,I,S,L,G){return xo.apply(this,arguments)}(ti,br[w.app.options.appId],I,S,L).catch(G=>yn.error(G))}(S,L,G,X)}}catch(S){throw hn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(ns,"0.7.8"),(0,se.registerVersion)(ns,"0.7.8","esm2017")}();var rs=x(4408),va=x(7565);const fl=new class Qt extends va.v{}(class Di extends rs.o{constructor(I,S){super(I,S),this.scheduler=I,this.work=S}schedule(I,S=0){return S>0?super.schedule(I,S):(this.delay=S,this.state=I,this.scheduler.flush(this),this)}execute(I,S){return S>0||this.closed?super.execute(I,S):this._execute(I,S)}requestAsyncId(I,S,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,S,L):I.flush(this)}});var Mh=x(4986),pl=x(8505),Zn=x(9468),Tr=x(5363);const gl=new p.GfV("7.3.0"),bi="__angularfire_symbol__analyticsIsSupportedValue",Ur="__angularfire_symbol__analyticsIsSupported",ri="__angularfire_symbol__remoteConfigIsSupportedValue",Oo="__angularfire_symbol__remoteConfigIsSupported",ml="__angularfire_symbol__messagingIsSupportedValue",_l="__angularfire_symbol__messagingIsSupported";function is(w,I,S){if(I){if(1===I.length)return I[0];const X=I.filter(De=>De.app===S);if(1===X.length)return X[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ur]||(globalThis[Ur]=rn().then(w=>globalThis[bi]=w).catch(()=>globalThis[bi]=!1)),globalThis[_l]||(globalThis[_l]=hu().then(w=>globalThis[ml]=w).catch(()=>globalThis[ml]=!1)),globalThis[Oo]||(globalThis[Oo]=vs().then(w=>globalThis[ri]=w).catch(()=>globalThis[ri]=!1));const Cu=(w,I)=>{const S=I?[I]:(0,q.C6)(),L=[];return S.forEach(G=>{G.container.getProvider(w).instances.forEach(De=>{L.includes(De)||L.push(De)})}),L};function Ss(){}class Ea{constructor(I,S=fl){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,L){const G=this.zone;return this.delegate.schedule(function(De){G.runGuarded(()=>{I.apply(this,[De])})},S,L)}}class ii{constructor(I){this.zone=I,this.task=null}call(I,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),S.pipe((0,pl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ca=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ea(Zone.current)),this.insideAngular=S.run(()=>new Ea(Zone.current,Mh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(p.LFG(p.R0b))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function si(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function El(w){return si(),function Ms(w){return function(S){return(S=S.lift(new ii(w.ngZone))).pipe((0,Zn.R)(w.outsideAngular),(0,Tr.Q)(w.insideAngular))}}(si())(w)}},2090:(Ge,ve,x)=>{x.d(ve,{$s:()=>ms,BH:()=>Ie,DV:()=>Et,Dv:()=>Li,GJ:()=>Kr,L:()=>ae,LL:()=>lt,Lj:()=>vt,Pz:()=>Xe,Sg:()=>Ae,UG:()=>_e,UI:()=>sr,US:()=>ie,Wj:()=>pi,X3:()=>Qe,Yr:()=>Ne,ZB:()=>Q,ZR:()=>oe,b$:()=>Ee,cI:()=>Ze,dS:()=>Ct,eu:()=>te,g5:()=>se,gK:()=>zt,gQ:()=>Yr,h$:()=>ue,hl:()=>z,hu:()=>O,jU:()=>$e,lb:()=>Ks,m9:()=>Ye,ne:()=>qe,p$:()=>H,pd:()=>fi,r3:()=>xt,ru:()=>Ue,tV:()=>j,uI:()=>ce,ug:()=>ze,vZ:()=>ki,w1:()=>me,w9:()=>Ot,xO:()=>qr,xb:()=>Sn,z$:()=>Re,zI:()=>he,zd:()=>er});var p=x(5861);const O=function(B,F){if(!B)throw se(F)},se=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},J=function(B){const F=[];let $=0;for(let le=0;le<B.length;le++){let Y=B.charCodeAt(le);Y<128?F[$++]=Y:Y<2048?(F[$++]=Y>>6|192,F[$++]=63&Y|128):55296==(64512&Y)&&le+1<B.length&&56320==(64512&B.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&B.charCodeAt(++le)),F[$++]=Y>>18|240,F[$++]=Y>>12&63|128,F[$++]=Y>>6&63|128,F[$++]=63&Y|128):(F[$++]=Y>>12|224,F[$++]=Y>>6&63|128,F[$++]=63&Y|128)}return F},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,F){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<B.length;Y+=3){const xe=B[Y],et=Y+1<B.length,St=et?B[Y+1]:0,Bn=Y+2<B.length,Tt=Bn?B[Y+2]:0;let Ht=(15&St)<<2|Tt>>6,An=63&Tt;Bn||(An=64,et||(Ht=64)),le.push($[xe>>2],$[(3&xe)<<4|St>>4],$[Ht],$[An])}return le.join("")},encodeString(B,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(B):this.encodeByteArray(J(B),F)},decodeString(B,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(B):function(B){const F=[];let $=0,le=0;for(;$<B.length;){const Y=B[$++];if(Y<128)F[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const xe=B[$++];F[le++]=String.fromCharCode((31&Y)<<6|63&xe)}else if(Y>239&&Y<365){const Bn=((7&Y)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;F[le++]=String.fromCharCode(55296+(Bn>>10)),F[le++]=String.fromCharCode(56320+(1023&Bn))}else{const xe=B[$++],et=B[$++];F[le++]=String.fromCharCode((15&Y)<<12|(63&xe)<<6|63&et)}}return F.join("")}(this.decodeStringToByteArray(B,F))},decodeStringToByteArray(B,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<B.length;){const xe=$[B.charAt(Y++)],St=Y<B.length?$[B.charAt(Y)]:0;++Y;const Tt=Y<B.length?$[B.charAt(Y)]:64;++Y;const dt=Y<B.length?$[B.charAt(Y)]:64;if(++Y,null==xe||null==St||null==Tt||null==dt)throw Error();le.push(xe<<2|St>>4),64!==Tt&&(le.push(St<<4&240|Tt>>2),64!==dt&&le.push(Tt<<6&192|dt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ue=function(B){const F=J(B);return ie.encodeByteArray(F,!0)},ae=function(B){return ue(B).replace(/\./g,"")},j=function(B){try{return ie.decodeString(B,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function H(B){return Q(void 0,B)}function Q(B,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Fe($)||(B[$]=Q(B[$],F[$]));return B}function Fe(B){return"__proto__"!==B}class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Ae(B,F){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Y=B.iat||0,xe=B.sub||B.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(et)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function $e(){return"object"==typeof self&&self.self===self}function Ue(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const B=Re();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ne(){return!1}function z(){return"object"==typeof indexedDB}function te(){return new Promise((B,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),$||self.indexedDB.deleteDatabase(le),B(!0)},Y.onupgradeneeded=()=>{$=!1},Y.onerror=()=>{var xe;F((null===(xe=Y.error)||void 0===xe?void 0:xe.message)||"")}}catch($){F($)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class oe extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Y=`${this.service}/${F}`,xe=this.errors[F],et=xe?function Pt(B,F){return B.replace(un,($,le)=>{const Y=F[le];return null!=Y?String(Y):`<${le}?>`})}(xe,le):"Error";return new oe(Y,`${this.serviceName}: ${et} (${Y}).`,le)}}const un=/\{\$([^}]+)}/g;function Ze(B){return JSON.parse(B)}function Xe(B){return JSON.stringify(B)}const Vt=function(B){let F={},$={},le={},Y="";try{const xe=B.split(".");F=Ze(j(xe[0])||""),$=Ze(j(xe[1])||""),Y=xe[2],le=$.d||{},delete $.d}catch(xe){}return{header:F,claims:$,data:le,signature:Y}},Ot=function(B){const $=Vt(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Kr=function(B){const F=Vt(B).claims;return"object"==typeof F&&!0===F.admin};function xt(B,F){return Object.prototype.hasOwnProperty.call(B,F)}function Et(B,F){if(Object.prototype.hasOwnProperty.call(B,F))return B[F]}function Sn(B){for(const F in B)if(Object.prototype.hasOwnProperty.call(B,F))return!1;return!0}function sr(B,F,$){const le={};for(const Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(le[Y]=F.call($,B[Y],Y,B));return le}function ki(B,F){if(B===F)return!0;const $=Object.keys(B),le=Object.keys(F);for(const Y of $){if(!le.includes(Y))return!1;const xe=B[Y],et=F[Y];if(Xn(xe)&&Xn(et)){if(!ki(xe,et))return!1}else if(xe!==et)return!1}for(const Y of le)if(!$.includes(Y))return!1;return!0}function Xn(B){return null!==B&&"object"==typeof B}function qr(B){const F=[];for(const[$,le]of Object.entries(B))Array.isArray(le)?le.forEach(Y=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Y))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function er(B){const F={};return B.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,xe]=le.split("=");F[decodeURIComponent(Y)]=decodeURIComponent(xe)}}),F}function fi(B){const F=B.indexOf("?");if(!F)return"";const $=B.indexOf("#",F);return B.substring(F,$>0?$:void 0)}class Yr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,$){$||($=0);const le=this.W_;if("string"==typeof F)for(let dt=0;dt<16;dt++)le[dt]=F.charCodeAt($)<<24|F.charCodeAt($+1)<<16|F.charCodeAt($+2)<<8|F.charCodeAt($+3),$+=4;else for(let dt=0;dt<16;dt++)le[dt]=F[$]<<24|F[$+1]<<16|F[$+2]<<8|F[$+3],$+=4;for(let dt=16;dt<80;dt++){const Ht=le[dt-3]^le[dt-8]^le[dt-14]^le[dt-16];le[dt]=4294967295&(Ht<<1|Ht>>>31)}let Tt,en,Y=this.chain_[0],xe=this.chain_[1],et=this.chain_[2],St=this.chain_[3],Bn=this.chain_[4];for(let dt=0;dt<80;dt++){dt<40?dt<20?(Tt=St^xe&(et^St),en=1518500249):(Tt=xe^et^St,en=1859775393):dt<60?(Tt=xe&et|St&(xe|et),en=2400959708):(Tt=xe^et^St,en=3395469782);const Ht=(Y<<5|Y>>>27)+Tt+Bn+en+le[dt]&4294967295;Bn=St,St=et,et=4294967295&(xe<<30|xe>>>2),xe=Y,Y=Ht}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+Bn&4294967295}update(F,$){if(null==F)return;void 0===$&&($=F.length);const le=$-this.blockSize;let Y=0;const xe=this.buf_;let et=this.inbuf_;for(;Y<$;){if(0===et)for(;Y<=le;)this.compress_(F,Y),Y+=this.blockSize;if("string"==typeof F){for(;Y<$;)if(xe[et]=F.charCodeAt(Y),++et,++Y,et===this.blockSize){this.compress_(xe),et=0;break}}else for(;Y<$;)if(xe[et]=F[Y],++et,++Y,et===this.blockSize){this.compress_(xe),et=0;break}}this.inbuf_=et,this.total_+=$}digest(){const F=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&$,$/=256;this.compress_(this.buf_);let le=0;for(let Y=0;Y<5;Y++)for(let xe=24;xe>=0;xe-=8)F[le]=this.chain_[Y]>>xe&255,++le;return F}}function qe(B,F){const $=new or(B,F);return $.subscribe.bind($)}class or{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Y;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Y=function En(B,F){if("object"!=typeof B||null===B)return!1;for(const $ of F)if($ in B&&"function"==typeof B[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Y.next&&(Y.next=vr),void 0===Y.error&&(Y.error=vr),void 0===Y.complete&&(Y.complete=vr);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(et){}}),this.observers.push(Y),xe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Li=function(B,F,$,le){let Y;if(le<F?Y="at least "+F:le>$&&(Y=0===$?"none":"no more than "+$),Y)throw new Error(B+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+Y+".")};function zt(B,F){return`${B} failed: ${F} argument `}function pi(B,F,$,le){if((!le||$)&&"function"!=typeof $)throw new Error(zt(B,F)+"must be a valid function.")}function Ks(B,F,$,le){if((!le||$)&&("object"!=typeof $||null===$))throw new Error(zt(B,F)+"must be a valid context object.")}const Ct=function(B){const F=[];let $=0;for(let le=0;le<B.length;le++){let Y=B.charCodeAt(le);if(Y>=55296&&Y<=56319){const xe=Y-55296;le++,O(le<B.length,"Surrogate pair missing trail surrogate."),Y=65536+(xe<<10)+(B.charCodeAt(le)-56320)}Y<128?F[$++]=Y:Y<2048?(F[$++]=Y>>6|192,F[$++]=63&Y|128):Y<65536?(F[$++]=Y>>12|224,F[$++]=Y>>6&63|128,F[$++]=63&Y|128):(F[$++]=Y>>18|240,F[$++]=Y>>12&63|128,F[$++]=Y>>6&63|128,F[$++]=63&Y|128)}return F},ze=function(B){let F=0;for(let $=0;$<B.length;$++){const le=B.charCodeAt($);le<128?F++:le<2048?F+=2:le>=55296&&le<=56319?(F+=4,$++):F+=3}return F};function ms(B,F=1e3,$=2){const le=F*Math.pow($,B),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function Ye(B){return B&&B._delegate?B._delegate:B}function Un(B,F){return new Promise(($,le)=>{B.onsuccess=Y=>{$(Y.target.result)},B.onerror=Y=>{var xe;le(`${F}: ${null===(xe=Y.target.error)||void 0===xe?void 0:xe.message}`)}})}class yt{constructor(F){this._db=F,this.objectStoreNames=this._db.objectStoreNames}transaction(F,$="readonly"){return new Be(this._db.transaction.call(this._db,F,$))}createObjectStore(F,$){return new Ce(this._db.createObjectStore(F,$))}close(){this._db.close()}}class Be{constructor(F){this._transaction=F,this.complete=new Promise(($,le)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(F){return new Ce(this._transaction.objectStore(F))}}class Ce{constructor(F){this._store=F}index(F){return new Ve(this._store.index(F))}createIndex(F,$,le){return new Ve(this._store.createIndex(F,$,le))}get(F){return Un(this._store.get(F),"Error reading from IndexedDB")}put(F,$){return Un(this._store.put(F,$),"Error writing to IndexedDB")}delete(F){return Un(this._store.delete(F),"Error deleting from IndexedDB")}clear(){return Un(this._store.clear(),"Error clearing IndexedDB object store")}}class Ve{constructor(F){this._index=F}get(F){return Un(this._index.get(F),"Error reading from IndexedDB")}}function Qe(B,F,$){return new Promise((le,Y)=>{try{const xe=indexedDB.open(B,F);xe.onsuccess=et=>{le(new yt(et.target.result))},xe.onerror=et=>{var St;Y(`Error opening indexedDB: ${null===(St=et.target.error)||void 0===St?void 0:St.message}`)},xe.onupgradeneeded=et=>{$(new yt(xe.result),et.oldVersion,et.newVersion,new Be(xe.transaction))}}catch(xe){Y(`Error opening indexedDB: ${xe.message}`)}})}function vt(B){return mt.apply(this,arguments)}function mt(){return(mt=(0,p.Z)(function*(B){return new Promise((F,$)=>{try{const le=indexedDB.deleteDatabase(B);le.onsuccess=()=>{F()},le.onerror=Y=>{var xe;$(`Error deleting indexedDB database "${B}": ${null===(xe=Y.target.error)||void 0===xe?void 0:xe.message}`)}}catch(le){$(`Error deleting indexedDB database "${B}": ${le.message}`)}})})).apply(this,arguments)}},3939:(Ge,ve,x)=>{var p=x(5e3);let q=null;function O(){return q}const ie=new p.OlP("DocumentToken");let ue=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:function(){return function ae(){return(0,p.LFG)(H)}()},providedIn:"platform"}),i})();const j=new p.OlP("Location Initialized");let H=(()=>{class i extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){Q()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){Q()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ie))},i.\u0275prov=p.Yz7({token:i,factory:function(){return function Fe(){return new H((0,p.LFG)(ie))}()},providedIn:"platform"}),i})();function Q(){return!!window.history.pushState}function Ie(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Ae(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Re(i){return i&&"?"!==i[0]?"?"+i:i}let ce=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:function(){return function _e(i){const t=(0,p.LFG)(ie).location;return new Ue((0,p.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),i})();const $e=new p.OlP("appBaseHref");let Ue=(()=>{class i extends ce{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Re(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const g=this.prepareExternalUrl(l+Re(d));this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){const g=this.prepareExternalUrl(l+Re(d));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ue),p.LFG($e,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Ee=(()=>{class i extends ce{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=Ie(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let g=this.prepareExternalUrl(l+Re(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){let g=this.prepareExternalUrl(l+Re(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ue),p.LFG($e,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),pe=(()=>{class i{constructor(e,o){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ae(Ne(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Re(o))}normalize(e){return i.stripTrailingSlash(function ke(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return i.normalizeQueryParams=Re,i.joinWithSlash=Ie,i.stripTrailingSlash=Ae,i.\u0275fac=function(e){return new(e||i)(p.LFG(ce),p.LFG(ue))},i.\u0275prov=p.Yz7({token:i,factory:function(){return function me(){return new pe((0,p.LFG)(ce),(0,p.LFG)(ue))}()},providedIn:"root"}),i})();function Ne(i){return i.replace(/\/index.html$/,"")}class Xo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Cr=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),ar=(()=>{class i{constructor(e,o,l){this.ngSwitch=l,l._addCase(),this._view=new Xo(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Cr,9))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),za=(()=>{class i{constructor(e,o,l){l._addDefault(new Xo(e,o))}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Cr,9))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),Js=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();let oa=(()=>{class i{}return i.\u0275prov=(0,p.Yz7)({token:i,providedIn:"root",factory:()=>new aa((0,p.LFG)(ie),window)}),i})();class aa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bo(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function vi(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Wi extends class Xs extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(i){q||(q=i)}(new Wi)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function au(){return Ft=Ft||document.querySelector("base"),Ft?Ft.getAttribute("href"):null}();return null==e?null:function ws(i){Cs=Cs||document.createElement("a"),Cs.setAttribute("href",i);const t=Cs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ft=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qs(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Cs,Ft=null;const Hn=new p.OlP("TRANSITION_ID"),To=[{provide:p.ip1,useFactory:function dn(i,t,e){return()=>{e.get(p.CZH).donePromise.then(()=>{const o=O(),l=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[Hn,ie,p.zs3],multi:!0}];class Nr{static init(){(0,p.VLi)(new Nr)}addToWindow(t){p.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},p.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(o=>{const l=p.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const E=function(D){g=g||D,d--,0==d&&o(g)};l.forEach(function(D){D.whenStable(E)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $n=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const zi=new p.OlP("EventManagerPlugins");let Ei=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(zi),p.LFG(p.R0b))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class la{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=O().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let dr=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Gi=(()=>{class i extends dr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Zi),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Zi))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ie))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function Zi(i){O().remove(i)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ua=/%COMP%/g;function ye(i,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?ye(i,l,e):(l=l.replace(ua,i),e.push(l))}return e}function _t(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let qt=(()=>{class i{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new eo(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case p.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new Ja(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case p.ifc.ShadowDom:return new Xa(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=ye(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Ei),p.LFG(Gi),p.LFG(p.AFp))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class eo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Je[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Je[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Je[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(p.JOm.DashCase|p.JOm.Important)?t.style.setProperty(e,o,l&p.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&p.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_t(o)):this.eventManager.addEventListener(t,e,_t(o))}}class Ja extends eo{constructor(t,e,o,l){super(t),this.component=o;const d=ye(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function qa(i){return"_ngcontent-%COMP%".replace(ua,i)}(l+"-"+o.id),this.hostAttr=function Ya(i){return"_nghost-%COMP%".replace(ua,i)}(l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class Xa extends eo{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ye(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const E=document.createElement("style");E.textContent=d[g],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lu=(()=>{class i extends la{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ie))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const el=["alt","control","meta","shift"],Ki={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ir={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let pa=(()=>{class i extends la{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,l){const d=i.parseEventName(o),g=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(o.pop());let g="";if(el.forEach(D=>{const M=o.indexOf(D);M>-1&&(o.splice(M,1),g+=D+".")}),g+=d,0!=o.length||0===d.length)return null;const E={};return E.domEventName=l,E.fullKey=g,E}static getEventFullKey(e){let o="",l=function qi(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&xn.hasOwnProperty(t)&&(t=xn[t]))}return Ki[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),el.forEach(d=>{d!=l&&Ir[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{i.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ie))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const nl=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function kr(){Wi.makeCurrent(),Nr.init()},multi:!0},{provide:ie,useFactory:function ga(){return(0,p.RDi)(document),document},deps:[]}]),So=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function tl(){return new p.qLn},deps:[]},{provide:zi,useClass:lu,multi:!0,deps:[ie,p.R0b,p.Lbi]},{provide:zi,useClass:pa,multi:!0,deps:[ie]},{provide:qt,useClass:qt,deps:[Ei,Gi,p.AFp]},{provide:p.FYo,useExisting:qt},{provide:dr,useExisting:Gi},{provide:Gi,useClass:Gi,deps:[ie]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Ei,useClass:Ei,deps:[zi,p.R0b]},{provide:class Gt{},useClass:$n,deps:[]}];let Mo=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:p.AFp,useValue:e.appId},{provide:Hn,useExisting:p.AFp},To]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(i,12))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:So,imports:[Js,p.hGG]}),i})();"undefined"!=typeof window&&window;var zn=x(8996),hn=x(7669);function rt(...i){const t=(0,hn.yG)(i);return(0,zn.D)(i,t)}var On=x(7579);class fr extends On.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}var Dr=x(8306);const{isArray:ro}=Array,{getPrototypeOf:_u,prototype:Wt,keys:Mc}=Object;var pr=x(4671),Mt=x(4004);const{isArray:yu}=Array;var fn=x(5403),Ii=x(9672);function so(...i){const t=(0,hn.yG)(i),e=(0,hn.jO)(i),{args:o,keys:l}=function Xr(i){if(1===i.length){const t=i[0];if(ro(t))return{args:t,keys:null};if(function ya(i){return i&&"object"==typeof i&&_u(i)===Wt}(t)){const e=Mc(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:i,keys:null}}(i);if(0===o.length)return(0,zn.D)([],t);const d=new Dr.y(function br(i,t,e=pr.y){return o=>{Ji(t,()=>{const{length:l}=i,d=new Array(l);let g=l,E=l;for(let D=0;D<l;D++)Ji(t,()=>{const M=(0,zn.D)(i[D],t);let U=!1;M.subscribe((0,fn.x)(o,k=>{d[D]=k,U||(U=!0,E--),E||o.next(e(d.slice()))},()=>{--g||o.complete()}))},o)},o)}}(o,t,l?g=>function io(i,t){return i.reduce((e,o,l)=>(e[o]=t[l],e),{})}(l,g):pr.y));return e?d.pipe(function Rc(i){return(0,Mt.U)(t=>function cl(i,t){return yu(t)?i(...t):i(t)}(i,t))}(e)):d}function Ji(i,t,e){i?(0,Ii.f)(e,i,t):t()}var Po=x(576);function ei(i,t){const e=(0,Po.m)(i)?i:()=>i,o=l=>l.error(e());return new Dr.y(t?l=>t.schedule(o,0,l):o)}const Xi=(0,x(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var ti=x(8189);function vu(...i){return function hl(){return(0,ti.J)(1)}()((0,zn.D)(i,(0,hn.yG)(i)))}var oo=x(8421);function Lr(i){return new Dr.y(t=>{(0,oo.Xf)(i()).subscribe(t)})}var ao=x(515),xo=x(727),Gn=x(4482);function Fr(){return(0,Gn.e)((i,t)=>{let e=null;i._refCount++;const o=(0,fn.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const l=i._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});i.subscribe(o),o.closed||(e=i.connect())})}class Pc extends Dr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Gn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xo.w0;const e=this.getSubject();t.add(this.source.subscribe((0,fn.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xo.w0.EMPTY)}return t}refCount(){return Fr()(this)}}function nn(i,t){return(0,Gn.e)((e,o)=>{let l=null,d=0,g=!1;const E=()=>g&&!l&&o.complete();e.subscribe((0,fn.x)(o,D=>{null==l||l.unsubscribe();let M=0;const U=d++;(0,oo.Xf)(i(D,U)).subscribe(l=(0,fn.x)(o,k=>o.next(t?t(D,k,U,M++):k),()=>{l=null,E()}))},()=>{g=!0,E()}))})}var lo=x(5698);function uo(i,t,e,o,l){return(d,g)=>{let E=e,D=t,M=0;d.subscribe((0,fn.x)(g,U=>{const k=M++;D=E?i(D,U,k):(E=!0,U),o&&g.next(D)},l&&(()=>{E&&g.next(D),g.complete()})))}}function tr(i,t){return(0,Gn.e)(uo(i,t,arguments.length>=2,!0))}function As(i,t){return(0,Gn.e)((e,o)=>{let l=0;e.subscribe((0,fn.x)(o,d=>i.call(t,d,l++)&&o.next(d)))})}function ni(i){return(0,Gn.e)((t,e)=>{let d,o=null,l=!1;o=t.subscribe((0,fn.x)(e,void 0,void 0,g=>{d=(0,oo.Xf)(i(g,ni(i)(t))),o?(o.unsubscribe(),o=null,d.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,d.subscribe(e))})}var rn=x(5577);function ts(i,t){return(0,Po.m)(t)?(0,rn.z)(i,t,1):(0,rn.z)(i,1)}function Eu(i){return i<=0?()=>ao.E:(0,Gn.e)((t,e)=>{let o=[];t.subscribe((0,fn.x)(e,l=>{o.push(l),i<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}function sn(i=bh){return(0,Gn.e)((t,e)=>{let o=!1;t.subscribe((0,fn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(i())))})}function bh(){return new Xi}function Th(i){return(0,Gn.e)((t,e)=>{let o=!1;t.subscribe((0,fn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(i),e.complete()}))})}function ns(i,t){const e=arguments.length>=2;return o=>o.pipe(i?As((l,d)=>i(l,d,o)):pr.y,(0,lo.q)(1),e?Th(t):sn(()=>new Xi))}var gr=x(8505);class rs{constructor(t,e){this.id=t,this.url=e}}class Di extends rs{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class va extends rs{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qt extends rs{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fl extends rs{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class co extends rs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh extends rs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pl extends rs{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zn extends rs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends rs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bi{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ur{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ml{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _l{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class yl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wn(i){return new yl(i)}const vl="ngNavigationCancelingError";function is(i){const t=Error("NavigationCancelingError: "+i);return t[vl]=!0,t}function Ss(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const l={};for(let d=0;d<o.length;d++){const g=o[d],E=i[d];if(g.startsWith(":"))l[g.substring(1)]=E;else if(g!==E.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function ii(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!Ca(i[l],t[l]))return!1;return!0}function Ca(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return i===t}function si(i){return Array.prototype.concat.apply([],i)}function wu(i){return i.length>0?i[i.length-1]:null}function In(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Ar(i){return(0,p.CqO)(i)?i:(0,p.QGY)(i)?(0,zn.D)(Promise.resolve(i)):rt(i)}const Ms={exact:function I(i,t,e){if(!ht(i.segments,t.segments)||!X(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!I(i.children[o],t.children[o],e))return!1;return!0},subset:L},ho={exact:function w(i,t){return ii(i,t)},subset:function S(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Ca(i[e],t[e]))},ignored:()=>!0};function wa(i,t,e){return Ms[e.paths](i.root,t.root,e.matrixParams)&&ho[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function L(i,t,e){return G(i,t,t.segments,e)}function G(i,t,e,o){if(i.segments.length>e.length){const l=i.segments.slice(0,e.length);return!(!ht(l,e)||t.hasChildren()||!X(l,e,o))}if(i.segments.length===e.length){if(!ht(i.segments,e)||!X(i.segments,e,o))return!1;for(const l in t.children)if(!i.children[l]||!L(i.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,i.segments.length),d=e.slice(i.segments.length);return!!(ht(i.segments,l)&&X(i.segments,l,o)&&i.children[pt])&&G(i.children[pt],t,d,o)}}function X(i,t,e){return t.every((o,l)=>ho[e](i[l].parameters,o.parameters))}class De{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return fo.serialize(this)}}class be{constructor(t,e){this.segments=t,this.children=e,this.parent=null,In(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rs(this)}}class je{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return No(this)}}function ht(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class vn{}class on{parse(t){const e=new Du(t);return new De(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${nr(t.root,!0)}`,o=function ap(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(l=>`${Br(e)}=${Br(l)}`).join("&"):`${Br(e)}=${Br(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function Ps(i){return encodeURI(i)}(t.fragment)}`:""}`}}const fo=new on;function Rs(i){return i.segments.map(t=>No(t)).join("/")}function nr(i,t){if(!i.hasChildren())return Rs(i);if(t){const e=i.children[pt]?nr(i.children[pt],!1):"",o=[];return In(i.children,(l,d)=>{d!==pt&&o.push(`${d}:${nr(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function ut(i,t){let e=[];return In(i.children,(o,l)=>{l===pt&&(e=e.concat(t(o,l)))}),In(i.children,(o,l)=>{l!==pt&&(e=e.concat(t(o,l)))}),e}(i,(o,l)=>l===pt?[nr(i.children[pt],!1)]:[`${l}:${nr(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[pt]?`${Rs(i)}/${e[0]}`:`${Rs(i)}/(${e.join("//")})`}}function Sr(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Br(i){return Sr(i).replace(/%3B/gi,";")}function Iu(i){return Sr(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(i){return decodeURIComponent(i)}function wl(i){return Cl(i.replace(/\+/g,"%20"))}function No(i){return`${Iu(i.path)}${function Rh(i){return Object.keys(i).map(t=>`;${Iu(t)}=${Iu(i[t])}`).join("")}(i.parameters)}`}const lp=/^[^\/()?;=#]+/;function Ti(i){const t=i.match(lp);return t?t[0]:""}const Il=/^[^=?&#]+/,cp=/^[^&#]+/;class Du{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[pt]=new be(t,e)),o}parseSegment(){const t=Ti(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new je(Cl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ti(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Ti(this.remaining);l&&(o=l,this.capture(o))}t[Cl(e)]=Cl(o)}parseQueryParam(t){const e=function up(i){const t=i.match(Il);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function Ph(i){const t=i.match(cp);return t?t[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const l=wl(e),d=wl(o);if(t.hasOwnProperty(l)){let g=t[l];Array.isArray(g)||(g=[g],t[l]=g),g.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Ti(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=pt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[pt]:new be([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xc(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=xc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Oc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return Oc(t,this._root).map(e=>e.value)}}function xc(i,t){if(i===t.value)return t;for(const e of t.children){const o=xc(i,e);if(o)return o}return null}function Oc(i,t){if(i===t.value)return[t];for(const e of t.children){const o=Oc(i,e);if(o.length)return o.unshift(t),o}return[]}class xs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Os(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class bu extends dp{constructor(t,e){super(t),this.snapshot=e,Au(this,t)}toString(){return this.snapshot.toString()}}function ko(i,t){const e=function hp(i,t){const g=new Ia([],{},{},"",{},pt,t,null,i.root,-1,{});return new Nc("",new xs(g,[]))}(i,t),o=new fr([new je("",{})]),l=new fr({}),d=new fr({}),g=new fr({}),E=new fr(""),D=new po(o,l,g,E,d,pt,t,e.root);return D.snapshot=e.root,new bu(new xs(D,[]),e)}class po{constructor(t,e,o,l,d,g,E,D){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=E,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(t=>wn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(t=>wn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fp(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function Tu(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Ia{constructor(t,e,o,l,d,g,E,D,M,U,k){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=E,this.routeConfig=D,this._urlSegment=M,this._lastPathIndex=U,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nc extends dp{constructor(t,e){super(e),this.url=t,Au(this,e)}toString(){return Su(this._root)}}function Au(i,t){t.value._routerState=i,t.children.forEach(e=>Au(i,e))}function Su(i){const t=i.children.length>0?` { ${i.children.map(Su).join(", ")} } `:"";return`${i.value}${t}`}function Mu(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ii(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),ii(t.params,e.params)||i.params.next(e.params),function Ea(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ii(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),ii(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function kc(i,t){const e=ii(i.params,t.params)&&function ot(i,t){return ht(i,t)&&i.every((e,o)=>ii(e.parameters,t[o].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||kc(i.parent,t.parent))}function Dl(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function Lc(i,t,e){return t.children.map(o=>{for(const l of e.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return Dl(i,o,l);return Dl(i,o)})}(i,t,e);return new xs(o,l)}{if(i.shouldAttach(t.value)){const d=i.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(E=>Dl(i,E)),g}}const o=function gp(i){return new po(new fr(i.url),new fr(i.params),new fr(i.queryParams),new fr(i.fragment),new fr(i.data),i.outlet,i.component,i)}(t.value),l=t.children.map(d=>Dl(i,d));return new xs(o,l)}}function go(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Da(i){return"object"==typeof i&&null!=i&&i.outlets}function xh(i,t,e,o,l){let d={};if(o&&In(o,(E,D)=>{d[D]=Array.isArray(E)?E.map(M=>`${M}`):`${E}`}),i===t)return new De(e,d,l);const g=Fc(i,t,e);return new De(g,d,l)}function Fc(i,t,e){const o={};return In(i.children,(l,d)=>{o[d]=l===t?e:Fc(l,t,e)}),new be(i.segments,o)}class mp{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&go(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Da);if(l&&l!==wu(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uc{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function Ep(i,t,e){if(i||(i=new be([],{})),0===i.segments.length&&i.hasChildren())return os(i,t,e);const o=function Jm(i,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=e.length)return d;const g=i.segments[l],E=e[o];if(Da(E))break;const D=`${E}`,M=o<e.length-1?e[o+1]:null;if(l>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!Vr(D,M,g))return d;o+=2}else{if(!Vr(D,{},g))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new be(i.segments.slice(0,o.pathIndex),{});return d.children[pt]=new be(i.segments.slice(o.pathIndex),i.children),os(d,0,l)}return o.match&&0===l.length?new be(i.segments,{}):o.match&&!i.hasChildren()?Bc(i,t,e):o.match?os(i,0,l):Bc(i,t,e)}function os(i,t,e){if(0===e.length)return new be(i.segments,{});{const o=function vp(i){return Da(i[0])?i[0].outlets:{[pt]:i}}(e),l={};return In(o,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=Ep(i.children[g],t,d))}),In(i.children,(d,g)=>{void 0===o[g]&&(l[g]=d)}),new be(i.segments,l)}}function Bc(i,t,e){const o=i.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(Da(d)){const D=ba(d.outlets);return new be(o,D)}if(0===l&&go(e[0])){o.push(new je(i.segments[t].path,Vc(e[0]))),l++;continue}const g=Da(d)?d.outlets[pt]:`${d}`,E=l<e.length-1?e[l+1]:null;g&&E&&go(E)?(o.push(new je(g,Vc(E))),l+=2):(o.push(new je(g,{})),l++)}return new be(o,{})}function ba(i){const t={};return In(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Bc(new be([],{}),0,e))}),t}function Vc(i){const t={};return In(i,(e,o)=>t[o]=`${e}`),t}function Vr(i,t,e){return i==e.path&&ii(t,e.parameters)}class Nh{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Mu(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=Os(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],o),delete l[g]}),In(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const g=o.getContext(l.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=Os(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);if(o&&o.outlet){const g=o.outlet.detach(),E=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=Os(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=Os(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new ml(d.value.snapshot))}),t.children.length&&this.forwardEvent(new ri(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Mu(l),l===d)if(l.component){const g=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const g=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(E.contexts),g.attachRef=E.componentRef,g.route=E.route.value,g.outlet&&g.outlet.attach(E.componentRef,E.route.value),Mu(E.route.value),this.activateChildRoutes(t,null,g.children)}else{const E=function Ru(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),D=E?E.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=D,g.outlet&&g.outlet.activateWith(l,D),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,o)}}class Pu{constructor(t,e){this.routes=t,this.module=e}}function Lo(i){return"function"==typeof i}function Ta(i){return i instanceof De}const Tl=Symbol("INITIAL_VALUE");function mo(){return nn(i=>so(i.map(t=>t.pipe((0,lo.q)(1),function es(...i){const t=(0,hn.yG)(i);return(0,Gn.e)((e,o)=>{(t?vu(i,e,t):vu(i,e)).subscribe(o)})}(Tl)))).pipe(tr((t,e)=>{let o=!1;return e.reduce((l,d,g)=>l!==Tl?l:(d===Tl&&(o=!0),o||!1!==d&&g!==e.length-1&&!Ta(d)?l:d),t)},Tl),As(t=>t!==Tl),(0,Mt.U)(t=>Ta(t)?t:!0===t),(0,lo.q)(1)))}class Cp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Al,this.attachRef=null}}class Al{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Cp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Sl=(()=>{class i{constructor(e,o,l,d,g){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=d||pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,D=new Wc(e,E,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Al),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},i.\u0275dir=p.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class Wc{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===po?this.route:t===Al?this.childContexts:this.parent.get(t,e)}}let zc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&p._UZ(0,"router-outlet")},directives:[Sl],encapsulation:2}),i})();function Ml(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];xu(o,Gc(t,o))}}function xu(i,t){i.children&&Ml(i.children,t)}function Gc(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Zc(i){const t=i.children&&i.children.map(Zc),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=zc),e}function Nt(i){return i.outlet||pt}function Kc(i,t){const e=i.filter(o=>Nt(o)===t);return e.push(...i.filter(o=>Nt(o)!==t)),e}const Lh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Aa(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Lh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Ss)(e,i,t);if(!d)return Object.assign({},Lh);const g={};In(d.posParams,(D,M)=>{g[M]=D.path});const E=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:E,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Rl(i,t,e,o,l="corrected"){if(e.length>0&&function Ip(i,t,e){return e.some(o=>Nu(i,t,o)&&Nt(o)!==pt)}(i,e,o)){const g=new be(t,function Ou(i,t,e,o){const l={};l[pt]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Nt(d)!==pt){const g=new be([],{});g._sourceSegment=i,g._segmentIndexShift=t.length,l[Nt(d)]=g}return l}(i,t,o,new be(e,i.children)));return g._sourceSegment=i,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function Fh(i,t,e){return e.some(o=>Nu(i,t,o))}(i,e,o)){const g=new be(i.segments,function wp(i,t,e,o,l,d){const g={};for(const E of o)if(Nu(i,e,E)&&!l[Nt(E)]){const D=new be([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===d?i.segments.length:t.length,g[Nt(E)]=D}return Object.assign(Object.assign({},l),g)}(i,t,e,o,i.children,l));return g._sourceSegment=i,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new be(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function Nu(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Dp(i,t,e,o){return!!(Nt(i)===o||o!==pt&&Nu(t,e,i))&&("**"===i.path||Aa(t,i,e).matched)}function bp(i,t,e){return 0===t.length&&!i.children[e]}class _o{constructor(t){this.segmentGroup=t||null}}class Kn{constructor(t){this.urlTree=t}}function Ns(i){return ei(new _o(i))}function Pl(i){return ei(new Kn(i))}class Yc{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(p.h0i)}apply(){const t=Rl(this.urlTree.root,[],[],this.config).segmentGroup,e=new be(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,pt).pipe((0,Mt.U)(d=>this.createUrlTree(Uo(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ni(d=>{if(d instanceof Kn)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof _o?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pt).pipe((0,Mt.U)(l=>this.createUrlTree(Uo(l),t.queryParams,t.fragment))).pipe(ni(l=>{throw l instanceof _o?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new be([],{[pt]:t}):t;return new De(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,Mt.U)(d=>new be([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,zn.D)(l).pipe(ts(d=>{const g=o.children[d],E=Kc(e,d);return this.expandSegmentGroup(t,E,g,d).pipe((0,Mt.U)(D=>({segment:D,outlet:d})))}),tr((d,g)=>(d[g.outlet]=g.segment,d),{}),function Ah(i,t){const e=arguments.length>=2;return o=>o.pipe(i?As((l,d)=>i(l,d,o)):pr.y,Eu(1),e?Th(t):sn(()=>new Xi))}())}expandSegment(t,e,o,l,d,g){return(0,zn.D)(o).pipe(ts(E=>this.expandSegmentAgainstRoute(t,e,o,E,l,d,g).pipe(ni(M=>{if(M instanceof _o)return rt(null);throw M}))),ns(E=>!!E),ni((E,D)=>{if(E instanceof Xi||"EmptyError"===E.name)return bp(e,l,d)?rt(new be([],{})):Ns(e);throw E}))}expandSegmentAgainstRoute(t,e,o,l,d,g,E){return Dp(l,e,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,g):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g):Ns(e):Ns(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Pl(d):this.lineralizeSegments(o,d).pipe((0,rn.z)(g=>{const E=new be(g,{});return this.expandSegment(t,E,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){const{matched:E,consumedSegments:D,remainingSegments:M,positionalParamSegments:U}=Aa(e,l,d);if(!E)return Ns(e);const k=this.applyRedirectCommands(D,l.redirectTo,U);return l.redirectTo.startsWith("/")?Pl(k):this.lineralizeSegments(l,k).pipe((0,rn.z)(Z=>this.expandSegment(t,e,o,Z.concat(M),g,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?rt(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,Mt.U)(k=>(o._loadedConfig=k,new be(l,{})))):rt(new be(l,{}));const{matched:g,consumedSegments:E,remainingSegments:D}=Aa(e,o,l);return g?this.getChildConfig(t,o,l).pipe((0,rn.z)(U=>{const k=U.module,Z=U.routes,{segmentGroup:ge,slicedSegments:Pe}=Rl(e,E,D,Z),at=new be(ge.segments,ge.children);if(0===Pe.length&&at.hasChildren())return this.expandChildren(k,Z,at).pipe((0,Mt.U)(Pr=>new be(E,Pr)));if(0===Z.length&&0===Pe.length)return rt(new be(E,{}));const At=Nt(o)===d;return this.expandSegment(k,at,Z,Pe,At?pt:d,!0).pipe((0,Mt.U)(Xt=>new be(E.concat(Xt.segments),Xt.children)))})):Ns(e)}getChildConfig(t,e,o){return e.children?rt(new Pu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?rt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,rn.z)(l=>l?this.configLoader.load(t.injector,e).pipe((0,Mt.U)(d=>(e._loadedConfig=d,d))):function rr(i){return ei(is(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))}(e))):rt(new Pu([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;return l&&0!==l.length?rt(l.map(g=>{const E=t.get(g);let D;if(function jc(i){return i&&Lo(i.canLoad)}(E))D=E.canLoad(e,o);else{if(!Lo(E))throw new Error("Invalid CanLoad guard");D=E(e,o)}return Ar(D)})).pipe(mo(),(0,gr.b)(g=>{if(!Ta(g))return;const E=is(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw E.url=g,E}),(0,Mt.U)(g=>!0===g)):rt(!0)}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return rt(o);if(l.numberOfChildren>1||!l.children[pt])return ei(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));l=l.children[pt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new De(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return In(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);o[d]=e[E]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let g={};return In(e.children,(E,D)=>{g[D]=this.createSegmentGroup(t,E,o,l)}),new be(d,g)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function Uo(i){const t={};for(const o of Object.keys(i.children)){const d=Uo(i.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function jr(i){if(1===i.numberOfChildren&&i.children[pt]){const t=i.children[pt];return new be(i.segments.concat(t.segments),t.children)}return i}(new be(i.segments,t))}class Uh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bo{constructor(t,e){this.component=t,this.route=e}}function Jc(i,t,e){const o=i._root;return Mr(o,t?t._root:null,e,[o.value])}function xl(i,t,e){const o=function Tp(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function Mr(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=Os(t);return i.children.forEach(g=>{(function Vh(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,g=t?t.value:null,E=e?e.getContext(i.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const D=function Ap(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!ht(i.url,t.url);case"pathParamsOrQueryParamsChange":return!ht(i.url,t.url)||!ii(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kc(i,t)||!ii(i.queryParams,t.queryParams);default:return!kc(i,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new Uh(o)):(d.data=g.data,d._resolvedData=g._resolvedData),Mr(i,t,d.component?E?E.children:null:e,o,l),D&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Bo(E.outlet.component,g))}else g&&Vo(t,E,l),l.canActivateChecks.push(new Uh(o)),Mr(i,null,d.component?E?E.children:null:e,o,l)})(g,d[g.value.outlet],e,o.concat([g.value]),l),delete d[g.value.outlet]}),In(d,(g,E)=>Vo(g,e.getContext(E),l)),l}function Vo(i,t,e){const o=Os(i),l=i.value;In(o,(d,g)=>{Vo(d,l.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new Bo(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class td{}function nd(i){return new Dr.y(t=>t.error(i))}class rd{constructor(t,e,o,l,d,g){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const t=Rl(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,pt);if(null===e)return null;const o=new Ia([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new xs(o,e),d=new Nc(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=fp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const g=e.children[d],E=Kc(t,d),D=this.processSegmentGroup(E,g,d);if(null===D)return null;o.push(...D)}const l=Hh(o);return function Pp(i){i.sort((t,e)=>t.value.outlet===pt?-1:e.value.outlet===pt?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,o,l){for(const d of t){const g=this.processSegmentAgainstRoute(d,e,o,l);if(null!==g)return g}return bp(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!Dp(t,e,o,l))return null;let d,g=[],E=[];if("**"===t.path){const ge=o.length>0?wu(o).parameters:{};d=new Ia(o,ge,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(t),Nt(t),t.component,t,c(e),f(e)+o.length,b(t))}else{const ge=Aa(e,t,o);if(!ge.matched)return null;g=ge.consumedSegments,E=ge.remainingSegments,d=new Ia(g,ge.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(t),Nt(t),t.component,t,c(e),f(e)+g.length,b(t))}const D=function xp(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:M,slicedSegments:U}=Rl(e,g,E,D.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===U.length&&M.hasChildren()){const ge=this.processChildren(D,M);return null===ge?null:[new xs(d,ge)]}if(0===D.length&&0===U.length)return[new xs(d,[])];const k=Nt(t)===l,Z=this.processSegment(D,M,U,k?pt:l);return null===Z?null:[new xs(d,Z)]}}function Op(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Hh(i){const t=[],e=new Set;for(const o of i){if(!Op(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Hh(o.children);t.push(new xs(o.value,l))}return t.filter(o=>!e.has(o))}function c(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function f(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function y(i){return i.data||{}}function b(i){return i.resolve||{}}function He(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Ke(i){return nn(t=>{const e=i(t);return e?(0,zn.D)(e).pipe((0,Mt.U)(()=>t)):rt(t)})}class Nl extends class ai{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sa=new p.OlP("ROUTES");class Ma{constructor(t,e,o,l){this.injector=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,Mt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=d.create(t);return new Pu(si(g.injector.get(Sa,void 0,p.XFs.Self|p.XFs.Optional)).map(Zc),g)}),ni(d=>{throw e._loader$=void 0,d}));return e._loader$=new Pc(l,()=>new On.x).pipe(Fr()),e._loader$}loadModuleFactory(t){return Ar(t()).pipe((0,rn.z)(e=>e instanceof p.YKP?rt(e):(0,zn.D)(this.compiler.compileModuleAsync(e))))}}class Np{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yo(i){throw i}function ku(i,t,e){return t.parse("/")}function Lu(i,t){return rt(null)}const sd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class i{constructor(e,o,l,d,g,E,D){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new On.x,this.errorHandler=yo,this.malformedUriErrorHandler=ku,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lu,afterPreactivation:Lu},this.urlHandlingStrategy=new Np,this.routeReuseStrategy=new Nl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(p.h0i),this.console=g.get(p.c2e);const k=g.get(p.R0b);this.isNgZoneEnabled=k instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function El(){return new De(new be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ma(g,E,Z=>this.triggerEvent(new gl(Z)),Z=>this.triggerEvent(new bi(Z))),this.routerState=ko(this.currentUrlTree,this.rootComponentType),this.transitions=new fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(As(l=>0!==l.id),(0,Mt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),nn(l=>{let d=!1,g=!1;return rt(l).pipe((0,gr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nn(E=>{const D=this.browserUrlTree.toString(),M=!this.navigated||E.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return $h(E.source)&&(this.browserUrlTree=E.extractedUrl),rt(E).pipe(nn(k=>{const Z=this.transitions.getValue();return o.next(new Di(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),Z!==this.transitions.getValue()?ao.E:Promise.resolve(k)}),function Qc(i,t,e,o){return nn(l=>function Fo(i,t,e,o,l){return new Yc(i,t,e,o,l).apply()}(i,t,e,l.extractedUrl,o).pipe((0,Mt.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gr.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function R(i,t,e,o,l){return(0,rn.z)(d=>function Rp(i,t,e,o,l="emptyOnly",d="legacy"){try{const g=new rd(i,t,e,o,l,d).recognize();return null===g?nd(new td):rt(g)}catch(g){return nd(g)}}(i,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,Mt.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gr.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(ge,k)}this.browserUrlTree=k.urlAfterRedirects}const Z=new co(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);o.next(Z)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:ge,source:Pe,restoredState:at,extras:At}=E,Ln=new Di(Z,this.serializeUrl(ge),Pe,at);o.next(Ln);const Xt=ko(ge,this.rootComponentType).snapshot;return rt(Object.assign(Object.assign({},E),{targetSnapshot:Xt,urlAfterRedirects:ge,extras:Object.assign(Object.assign({},At),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,E.resolve(null),ao.E}),Ke(E=>{const{targetSnapshot:D,id:M,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:Z,replaceUrl:ge}}=E;return this.hooks.beforePreactivation(D,{navigationId:M,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!Z,replaceUrl:!!ge})}),(0,gr.b)(E=>{const D=new Mh(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),(0,Mt.U)(E=>Object.assign(Object.assign({},E),{guards:Jc(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function Sp(i,t){return(0,rn.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?rt(Object.assign(Object.assign({},e),{guardsResult:!0})):function jh(i,t,e,o){return(0,zn.D)(i).pipe((0,rn.z)(l=>function Ol(i,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?rt(d.map(E=>{const D=xl(E,t,l);let M;if(function Xm(i){return i&&Lo(i.canDeactivate)}(D))M=Ar(D.canDeactivate(i,t,e,o));else{if(!Lo(D))throw new Error("Invalid CanDeactivate guard");M=Ar(D(i,t,e,o))}return M.pipe(ns())})).pipe(mo()):rt(!0)}(l.component,l.route,e,t,o)),ns(l=>!0!==l,!0))}(g,o,l,i).pipe((0,rn.z)(E=>E&&function kh(i){return"boolean"==typeof i}(E)?function qn(i,t,e,o){return(0,zn.D)(t).pipe(ts(l=>vu(function ed(i,t){return null!==i&&t&&t(new Ur(i)),rt(!0)}(l.route.parent,o),function Xc(i,t){return null!==i&&t&&t(new Oo(i)),rt(!0)}(l.route,o),function ks(i,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function Bh(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Lr(()=>rt(g.guards.map(D=>{const M=xl(D,g.node,e);let U;if(function $c(i){return i&&Lo(i.canActivateChild)}(M))U=Ar(M.canActivateChild(o,i));else{if(!Lo(M))throw new Error("Invalid CanActivateChild guard");U=Ar(M(o,i))}return U.pipe(ns())})).pipe(mo())));return rt(d).pipe(mo())}(i,l.path,e),function Mp(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return rt(!0);const l=o.map(d=>Lr(()=>{const g=xl(d,t,e);let E;if(function Hc(i){return i&&Lo(i.canActivate)}(g))E=Ar(g.canActivate(t,i));else{if(!Lo(g))throw new Error("Invalid CanActivate guard");E=Ar(g(t,i))}return E.pipe(ns())}));return rt(l).pipe(mo())}(i,l.route,e))),ns(l=>!0!==l,!0))}(o,d,i,t):rt(E)),(0,Mt.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,gr.b)(E=>{if(Ta(E.guardsResult)){const M=is(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw M.url=E.guardsResult,M}const D=new pl(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(D)}),As(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),Ke(E=>{if(E.guards.canActivateChecks.length)return rt(E).pipe((0,gr.b)(D=>{const M=new Zn(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}),nn(D=>{let M=!1;return rt(D).pipe(function W(i,t){return(0,rn.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return rt(e);let d=0;return(0,zn.D)(l).pipe(ts(g=>function re(i,t,e,o){return function Oe(i,t,e,o){const l=He(i);if(0===l.length)return rt({});const d={};return(0,zn.D)(l).pipe((0,rn.z)(g=>function tt(i,t,e,o){const l=xl(i,t,o);return Ar(l.resolve?l.resolve(t,e):l(t,e))}(i[g],t,e,o).pipe((0,gr.b)(E=>{d[g]=E}))),Eu(1),(0,rn.z)(()=>He(d).length===l.length?rt(d):ao.E))}(i._resolve,i,t,o).pipe((0,Mt.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),fp(i,e).resolve),null)))}(g.route,o,i,t)),(0,gr.b)(()=>d++),Eu(1),(0,rn.z)(g=>d===l.length?rt(e):ao.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gr.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,gr.b)(D=>{const M=new Tr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}))}),Ke(E=>{const{targetSnapshot:D,id:M,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:Z,replaceUrl:ge}}=E;return this.hooks.afterPreactivation(D,{navigationId:M,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!Z,replaceUrl:!!ge})}),(0,Mt.U)(E=>{const D=function pp(i,t,e){const o=Dl(i,t._root,e?e._root:void 0);return new bu(o,t)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:D})}),(0,gr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,t,e)=>(0,Mt.U)(o=>(new Nh(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,gr.b)({next(){d=!0},complete(){d=!0}}),function Sh(i){return(0,Gn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}(()=>{var E;d||g||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(E=this.currentNavigation)||void 0===E?void 0:E.id)===l.id&&(this.currentNavigation=null)}),ni(E=>{if(g=!0,function Cu(i){return i&&i[vl]}(E)){const D=Ta(E.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const M=new Qt(l.id,this.serializeUrl(l.extractedUrl),E.message);o.next(M),D?setTimeout(()=>{const U=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),k={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$h(l.source)};this.scheduleNavigation(U,"imperative",null,k,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new fl(l.id,this.serializeUrl(l.extractedUrl),E);o.next(D);try{l.resolve(this.errorHandler(E))}catch(M){l.reject(M)}}return ao.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const d={replaceUrl:!0},g=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(g){const D=Object.assign({},g);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(d.state=D)}const E=this.parseUrl(e.url);this.scheduleNavigation(E,o,g,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ml(e),this.config=e.map(Zc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:E,preserveFragment:D}=o,M=l||this.routerState.root,U=D?this.currentUrlTree.fragment:g;let k=null;switch(E){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function ss(i,t,e,o,l){if(0===e.length)return xh(t.root,t.root,t.root,o,l);const d=function _p(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new mp(!0,0,i);let t=0,e=!1;const o=i.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return In(d.outlets,(D,M)=>{E[M]="string"==typeof D?D.split("/"):D}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((E,D)=>{0==D&&"."===E||(0==D&&""===E?e=!0:".."===E?t++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new mp(e,t,o)}(e);if(d.toRoot())return xh(t.root,t.root,new be([],{}),o,l);const g=function Oh(i,t,e){if(i.isAbsolute)return new Uc(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Uc(d,d===t.root,0)}const o=go(i.commands[0])?0:1;return function yp(i,t,e){let o=i,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Uc(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(d,t,i),E=g.processChildren?os(g.segmentGroup,g.index,d.commands):Ep(g.segmentGroup,g.index,d.commands);return xh(t.root,g.segmentGroup,E,o,l)}(M,this.currentUrlTree,e,k,null!=U?U:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Ta(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function od(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},sd):!1===o?Object.assign({},Fu):o,Ta(e))return wa(this.currentUrlTree,e,l);const d=this.parseUrl(e);return wa(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new va(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,g){var E,D;if(this.disposed)return Promise.resolve(!1);let M,U,k;g?(M=g.resolve,U=g.reject,k=g.promise):k=new Promise((Pe,at)=>{M=Pe,U=at});const Z=++this.navigationId;let ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),ge=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):ge=0,this.setTransition({id:Z,targetPageId:ge,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:M,reject:U,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(Pe=>Promise.reject(Pe))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new Qt(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){p.$Z()},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function $h(i){return"imperative"!==i}class Up{}class t_{preload(t,e){return rt(null)}}let n_=(()=>{class i{constructor(e,o,l,d){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=new Ma(l,o,D=>e.triggerEvent(new gl(D)),D=>e.triggerEvent(new bi(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(As(e=>e instanceof va),ts(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(p.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,zn.D)(l).pipe((0,ti.J)(),(0,Mt.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?rt(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,rn.z)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Hr),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Up))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Wh=(()=>{class i{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof va&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _l&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new _l(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){p.$Z()},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Ai=new p.OlP("ROUTER_CONFIGURATION"),Vp=new p.OlP("ROUTER_FORROOT_GUARD"),r_=[pe,{provide:vn,useClass:on},{provide:Hr,useFactory:function Hp(i,t,e,o,l,d,g={},E,D){const M=new Hr(null,i,t,e,o,l,si(d));return E&&(M.urlHandlingStrategy=E),D&&(M.routeReuseStrategy=D),function o_(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(g,M),g.enableTracing&&M.events.subscribe(U=>{var k,Z;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(Z=console.groupEnd)||void 0===Z||Z.call(console)}),M},deps:[vn,Al,pe,p.zs3,p.Sil,Sa,Ai,[class id{},new p.FiY],[class an{},new p.FiY]]},Al,{provide:po,useFactory:function zh(i){return i.routerState.root},deps:[Hr]},n_,t_,class Bp{preload(t,e){return e().pipe(ni(()=>rt(null)))}},{provide:Ai,useValue:{enableTracing:!1}}];function qv(){return new p.PXZ("Router",Hr)}let ad=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[r_,jp(e),{provide:Vp,useFactory:s_,deps:[[Hr,new p.FiY,new p.tp0]]},{provide:Ai,useValue:o||{}},{provide:ce,useFactory:i_,deps:[ue,[new p.tBr($e),new p.FiY],Ai]},{provide:Wh,useFactory:Yv,deps:[Hr,oa,Ai]},{provide:Up,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:t_},{provide:p.PXZ,multi:!0,useFactory:qv},[Bu,{provide:p.ip1,multi:!0,useFactory:a_,deps:[Bu]},{provide:Wp,useFactory:$p,deps:[Bu]},{provide:p.tb,multi:!0,useExisting:Wp}]]}}static forChild(e){return{ngModule:i,providers:[jp(e)]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Vp,8),p.LFG(Hr,8))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();function Yv(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Wh(i,t,e)}function i_(i,t,e={}){return e.useHash?new Ee(i,t):new Ue(i,t)}function s_(i){return"guarded"}function jp(i){return[{provide:p.deG,multi:!0,useValue:i},{provide:Sa,multi:!0,useValue:i}]}let Bu=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new On.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(E=>o=E),d=this.injector.get(Hr),g=this.injector.get(Ai);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Ai),l=this.injector.get(n_),d=this.injector.get(Wh),g=this.injector.get(Hr),E=this.injector.get(p.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),d.init(),g.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.zs3))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function a_(i){return i.appInitializer.bind(i)}function $p(i){return i.bootstrapListener.bind(i)}const Wp=new p.OlP("Router Initializer"),Qv=[];let l_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[ad.forRoot(Qv)],ad]}),i})();function Jv(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng generate component xyz"),p.qZA())}function Xv(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng add @angular/material"),p.qZA())}function u_(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng add @angular/pwa"),p.qZA())}function Gp(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng add _____"),p.qZA())}function c_(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng test"),p.qZA())}function ow(i,t){1&i&&(p.TgZ(0,"pre"),p._uU(1,"ng build"),p.qZA())}let d_=(()=>{class i{constructor(){this.title="hadinayebi"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 21.813 23.453",2,"margin-right","8px"],["d","M4099.584,972.736h0l-10.882,3.9,1.637,14.4,9.245,5.153,9.245-5.153,1.686-14.4Z","transform","translate(-4088.702 -972.736)","fill","#808080"],["d","M4181.516,972.736v23.453l9.245-5.153,1.686-14.4Z","transform","translate(-4170.633 -972.736)","fill","#808080"],["d","M4137.529,1076.127l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1058.315)","fill","#ffe0b2"],["d","M4137.529,1051.705l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1036.757)","fill","#fff3e0"],["d","M4137.529,1027.283l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1015.199)","fill","#fff"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(e,o){if(1&e){const l=p.EpF();p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"span"),p._uU(3,"Welcome"),p.qZA(),p._UZ(4,"div",2),p.TgZ(5,"a",3),p.O4$(),p.TgZ(6,"svg",4),p._UZ(7,"rect",5)(8,"path",6),p.qZA()(),p.kcU(),p.TgZ(9,"a",7),p.O4$(),p.TgZ(10,"svg",8),p._UZ(11,"path",9)(12,"path",10),p.qZA()()(),p.kcU(),p.TgZ(13,"div",11)(14,"div",12),p.O4$(),p.TgZ(15,"svg",13)(16,"title"),p._uU(17,"Rocket Ship"),p.qZA(),p.TgZ(18,"g",14),p._UZ(19,"circle",15),p.TgZ(20,"g",16),p._UZ(21,"path",17)(22,"path",18),p.qZA()()(),p.kcU(),p.TgZ(23,"span"),p._uU(24),p.qZA(),p.O4$(),p.TgZ(25,"svg",19)(26,"title"),p._uU(27,"Rocket Ship Smoke"),p.qZA(),p._UZ(28,"path",20),p.qZA()(),p.kcU(),p.TgZ(29,"h2"),p._uU(30,"Resources"),p.qZA(),p.TgZ(31,"p"),p._uU(32,"Here are some links to help you get started:"),p.qZA(),p.TgZ(33,"div",21)(34,"a",22),p.O4$(),p.TgZ(35,"svg",23),p._UZ(36,"path",24),p.qZA(),p.kcU(),p.TgZ(37,"span"),p._uU(38,"Learn Angular"),p.qZA(),p.O4$(),p.TgZ(39,"svg",23),p._UZ(40,"path",25),p.qZA()(),p.kcU(),p.TgZ(41,"a",26),p.O4$(),p.TgZ(42,"svg",23),p._UZ(43,"path",27),p.qZA(),p.kcU(),p.TgZ(44,"span"),p._uU(45,"CLI Documentation"),p.qZA(),p.O4$(),p.TgZ(46,"svg",23),p._UZ(47,"path",25),p.qZA()(),p.kcU(),p.TgZ(48,"a",28),p.O4$(),p.TgZ(49,"svg",29),p._UZ(50,"path",30)(51,"path",31)(52,"path",32)(53,"path",33)(54,"path",34),p.qZA(),p.kcU(),p.TgZ(55,"span"),p._uU(56,"Angular Material"),p.qZA(),p.O4$(),p.TgZ(57,"svg",23),p._UZ(58,"path",25),p.qZA()(),p.kcU(),p.TgZ(59,"a",35),p.O4$(),p.TgZ(60,"svg",23),p._UZ(61,"path",36),p.qZA(),p.kcU(),p.TgZ(62,"span"),p._uU(63,"Angular Blog"),p.qZA(),p.O4$(),p.TgZ(64,"svg",23),p._UZ(65,"path",25),p.qZA()(),p.kcU(),p.TgZ(66,"a",37),p.O4$(),p.TgZ(67,"svg",38)(68,"g"),p._UZ(69,"rect",39),p.qZA(),p.TgZ(70,"g")(71,"g"),p._UZ(72,"path",40)(73,"polygon",41),p.qZA()()(),p.kcU(),p.TgZ(74,"span"),p._uU(75,"Angular DevTools"),p.qZA(),p.O4$(),p.TgZ(76,"svg",23),p._UZ(77,"path",25),p.qZA()()(),p.kcU(),p.TgZ(78,"h2"),p._uU(79,"Next Steps"),p.qZA(),p.TgZ(80,"p"),p._uU(81,"What do you want to do next with your app?"),p.qZA(),p._UZ(82,"input",42,43),p.TgZ(84,"div",21)(85,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="component"}),p.O4$(),p.TgZ(86,"svg",23),p._UZ(87,"path",45),p.qZA(),p.kcU(),p.TgZ(88,"span"),p._uU(89,"New Component"),p.qZA()(),p.TgZ(90,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="material"}),p.O4$(),p.TgZ(91,"svg",23),p._UZ(92,"path",45),p.qZA(),p.kcU(),p.TgZ(93,"span"),p._uU(94,"Angular Material"),p.qZA()(),p.TgZ(95,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="pwa"}),p.O4$(),p.TgZ(96,"svg",23),p._UZ(97,"path",45),p.qZA(),p.kcU(),p.TgZ(98,"span"),p._uU(99,"Add PWA Support"),p.qZA()(),p.TgZ(100,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="dependency"}),p.O4$(),p.TgZ(101,"svg",23),p._UZ(102,"path",45),p.qZA(),p.kcU(),p.TgZ(103,"span"),p._uU(104,"Add Dependency"),p.qZA()(),p.TgZ(105,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="test"}),p.O4$(),p.TgZ(106,"svg",23),p._UZ(107,"path",45),p.qZA(),p.kcU(),p.TgZ(108,"span"),p._uU(109,"Run and Watch Tests"),p.qZA()(),p.TgZ(110,"button",44),p.NdJ("click",function(){return p.CHM(l),p.MAs(83).value="build"}),p.O4$(),p.TgZ(111,"svg",23),p._UZ(112,"path",45),p.qZA(),p.kcU(),p.TgZ(113,"span"),p._uU(114,"Build for Production"),p.qZA()()(),p.TgZ(115,"div",46),p.YNc(116,Jv,2,0,"pre",47),p.YNc(117,Xv,2,0,"pre",48),p.YNc(118,u_,2,0,"pre",48),p.YNc(119,Gp,2,0,"pre",48),p.YNc(120,c_,2,0,"pre",48),p.YNc(121,ow,2,0,"pre",48),p.qZA(),p.TgZ(122,"div",21)(123,"a",49),p.O4$(),p.TgZ(124,"svg",50)(125,"title"),p._uU(126,"Meetup Logo"),p.qZA(),p._UZ(127,"path",51),p.qZA()(),p.kcU(),p.TgZ(128,"a",52),p.O4$(),p.TgZ(129,"svg",53)(130,"title"),p._uU(131,"Discord Logo"),p.qZA(),p._UZ(132,"path",54)(133,"path",55),p.qZA()()(),p.kcU(),p.TgZ(134,"footer"),p._uU(135," Love Angular?\xa0 "),p.TgZ(136,"a",56),p._uU(137," Give our repo a star. "),p.TgZ(138,"div",57),p.O4$(),p.TgZ(139,"svg",23),p._UZ(140,"path",58)(141,"path",59),p.qZA(),p._uU(142," Star "),p.qZA()(),p.kcU(),p.TgZ(143,"a",56),p.O4$(),p.TgZ(144,"svg",23),p._UZ(145,"path",60)(146,"path",58),p.qZA()()(),p.TgZ(147,"svg",61)(148,"title"),p._uU(149,"Gray Clouds Background"),p.qZA(),p._UZ(150,"path",62),p.qZA()(),p.kcU(),p._UZ(151,"router-outlet")}if(2&e){const l=p.MAs(83);p.xp6(24),p.hij("",o.title," app is running!"),p.xp6(91),p.Q6J("ngSwitch",l.value),p.xp6(2),p.Q6J("ngSwitchCase","material"),p.xp6(1),p.Q6J("ngSwitchCase","pwa"),p.xp6(1),p.Q6J("ngSwitchCase","dependency"),p.xp6(1),p.Q6J("ngSwitchCase","test"),p.xp6(1),p.Q6J("ngSwitchCase","build")}},directives:[Cr,za,ar,Sl],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),i})();var Ls=x(2011),h_=x(4986),Zp=x(6451),f_=x(3099);function e0(i,t){return i===t}var p_=x(5032),Si=x(5813),g_=(x(820),x(3942)),kl=x(4859),Ll=x(5861),Fl=x(9681),P=x(2090),ld=x(1877);const Kp="@firebase/database";let Vu="";function as(i){Vu=i}class m_{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class r0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Zh=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new m_(t)}}catch(t){}return new r0},$r=Zh("localStorage"),ud=Zh("sessionStorage"),Ul=new ld.Yd("@firebase/database"),Kh=function(){let i=1;return function(){return i++}}(),s0=function(i){const t=(0,P.dS)(i),e=new P.gQ;e.update(t);const o=e.digest();return P.US.encodeByteArray(o)},ju=function(...i){let t="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=ju.apply(null,o):t+="object"==typeof o?(0,P.Pz)(o):o,t+=" "}return t};let Hu=null,cd=!0;const dd=function(i,t){(0,P.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Ul.logLevel=ld.in.VERBOSE,Hu=Ul.log.bind(Ul),t&&ud.set("logging_enabled",!0)):"function"==typeof i?Hu=i:(Hu=null,ud.remove("logging_enabled"))},Nn=function(...i){if(!0===cd&&(cd=!1,null===Hu&&!0===ud.get("logging_enabled")&&dd(!0)),Hu){const t=ju.apply(null,i);Hu(t)}},Bl=function(i){return function(...t){Nn(i,...t)}},hd=function(...i){const t="FIREBASE INTERNAL ERROR: "+ju(...i);Ul.error(t)},jo=function(...i){const t=`FIREBASE FATAL ERROR: ${ju(...i)}`;throw Ul.error(t),new Error(t)},Wr=function(...i){const t="FIREBASE WARNING: "+ju(...i);Ul.warn(t)},qh=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},vo="[MIN_NAME]",Ho="[MAX_NAME]",Vl=function(i,t){if(i===t)return 0;if(i===vo||t===Ho)return-1;if(t===vo||i===Ho)return 1;{const e=Yp(i),o=Yp(t);return null!==e?null!==o?e-o==0?i.length-t.length:e-o:-1:null!==o?1:i<t?-1:1}},lw=function(i,t){return i===t?0:i<t?-1:1},$u=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,P.Pz)(t))},Yh=function(i){if("object"!=typeof i||null===i)return(0,P.Pz)(i);const t=[];for(const o in i)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,P.Pz)(t[o]),e+=":",e+=Yh(i[t[o]]);return e+="}",e},__=function(i,t){const e=i.length;if(e<=t)return[i];const o=[];for(let l=0;l<e;l+=t)o.push(i.substring(l,l+t>e?e:l+t));return o};function kn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const l0=function(i){(0,P.hu)(!qh(i),"Invalid JSON number");const o=1023;let l,d,g,E,D;0===i?(d=0,g=0,l=1/i==-1/0?1:0):(l=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(i)/Math.LN2),o),d=E+o,g=Math.round(i*Math.pow(2,52-E)-Math.pow(2,52))):(d=0,g=Math.round(i/Math.pow(2,-1074))));const M=[];for(D=52;D;D-=1)M.push(g%2?1:0),g=Math.floor(g/2);for(D=11;D;D-=1)M.push(d%2?1:0),d=Math.floor(d/2);M.push(l?1:0),M.reverse();const U=M.join("");let k="";for(D=0;D<64;D+=8){let Z=parseInt(U.substr(D,8),2).toString(16);1===Z.length&&(Z="0"+Z),k+=Z}return k.toLowerCase()},hw=new RegExp("^-?(0*)\\d{1,10}$"),u0=-2147483648,y_=2147483647,Yp=function(i){if(hw.test(i)){const t=Number(i);if(t>=u0&&t<=y_)return t}return null},fd=function(i){try{i()}catch(t){setTimeout(()=>{throw Wr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ls=function(i,t){const e=setTimeout(i,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Qp{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class c0{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wr(t)}}let Wu=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const Xp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ng="websocket",C_="long_polling";class rg{constructor(t,e,o,l,d=!1,g="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$r.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$r.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jl(i,t,e){let o;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===ng)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==C_)throw new Error("Unknown connection type: "+t);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function pd(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const l=[];return kn(e,(d,g)=>{l.push(d+"="+g)}),o+l.join("&")}class ig{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const Ra={},Hl={};function Pa(i){const t=i.toString();return Ra[t]||(Ra[t]=new ig),Ra[t]}class w_{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&fd(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class md{constructor(t,e,o,l,d,g,E){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=g,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=Pa(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),jl(e,C_,D))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new w_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,P.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new R_((...d)=>{const[g,E,D,M,U]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=E,this.password=D;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,E]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xp.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){md.forceAllow_=!0}static forceDisallow(){md.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!md.forceAllow_&&(md.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,P.h$)(e),l=__(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class R_{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Kh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=R_.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(E){Nn("frame writing exception"),E.stack&&Nn(E.stack),Nn(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Nn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Nn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let _d=null;"undefined"!=typeof MozWebSocket?_d=MozWebSocket:"undefined"!=typeof WebSocket&&(_d=WebSocket);let $l=(()=>{class i{constructor(e,o,l,d,g,E,D){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=Pa(o),this.connURL=i.connectionURL_(o,E,D,d),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d){const g={v:"5"};return!(0,P.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xp.test(location.hostname)&&(g.r="f"),o&&(g.s=o),l&&(g.ls=l),d&&(g.ac=d),jl(e,ng,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$r.set("previous_websocket_failure",!0);try{if((0,P.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${Vu}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,E=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;E&&(d.proxy={origin:E}),this.mySock=new _d(this.connURL,[],d)}else this.mySock=new _d(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==_d&&!i.forceDisallow_}static previouslyFailed(){return $r.isInMemoryStorage||!0===$r.get("previous_websocket_failure")}markConnectionHealthy(){$r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,P.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,P.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=__(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Jh{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[md,$l]}initTransports_(t){const e=$l&&$l.isAvailable();let o=e&&!$l.previouslyFailed();if(t.webSocketOnly&&(e||Wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[$l];else{const l=this.transports_=[];for(const d of Jh.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class L_{constructor(t,e,o,l,d,g,E,D,M,U){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=g,this.onReady_=E,this.onDisconnect_=D,this.onKill_=M,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new Jh(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$u("t",t),o=$u("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$u("t",t),o=$u("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$u("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?hd("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&Wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class E0{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class hg{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ef extends hg{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ef}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ut{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bt(){return new Ut("")}function It(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Bs(i){return i.pieces_.length-i.pieceNum_}function Zt(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Ut(i.pieces_,t)}function fg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Wl(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function gg(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Ut(t,0)}function pn(i,t){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(t instanceof Ut)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Ut(e,0)}function Dt(i){return i.pieceNum_>=i.pieces_.length}function mr(i,t){const e=It(i),o=It(t);if(null===e)return t;if(e===o)return mr(Zt(i),Zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function mw(i,t){const e=Wl(i,0),o=Wl(t,0);for(let l=0;l<e.length&&l<o.length;l++){const d=Vl(e[l],o[l]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function mg(i,t){if(Bs(i)!==Bs(t))return!1;for(let e=i.pieceNum_,o=t.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==t.pieces_[o])return!1;return!0}function Ri(i,t){let e=i.pieceNum_,o=t.pieceNum_;if(Bs(i)>Bs(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class B_{constructor(t,e){this.errorPrefix_=e,this.parts_=Wl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,P.ug)(this.parts_[o]);_g(this)}}function _g(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zr(i))}function zr(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Gu extends hg{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Gu}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const yd=1e3;let Cd,Wo=(()=>{class i extends E0{constructor(e,o,l,d,g,E,D,M){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=E,this.appCheckTokenProvider_=D,this.authOverride_=M,this.id=i.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ef.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,g={r:d,a:e,b:o};this.log_((0,P.Pz)(g)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new P.BH,l={p:e._path.toString(),q:e._queryObject},d={action:"g",request:l,onComplete:E=>{const D=E.d;"ok"===E.s?(this.onDataUpdate_(l.p,D,!1,null),o.resolve(D)):o.reject(D)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[g];void 0===E||d!==E||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(e,o,l,d){this.initConnection_();const g=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+g),this.listens.has(E)||this.listens.set(E,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(E).has(g),"listen() called twice for same path/queryId.");const D={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(E).set(g,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const g={p:l};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,D=>{const M=D.d,U=D.s;i.warnOnListenWarnings_(M,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",D),"ok"!==U&&this.removeListen_(l,d),e.onComplete&&e.onComplete(U,M))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const l=(0,P.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();Wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,P.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const g=d.s,E=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const g={p:e};d&&(g.q=l,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const g={p:o,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,E=>{d&&setTimeout(()=>{d(E.s,E.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,g){this.initConnection_();const E={p:o,d:l};void 0!==g&&(E.h=g),this.outstandingPuts_.push({action:e,request:E,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):hd("Unrecognized action received from server: "+(0,P.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ll.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+i.nextConnectionId_++,E=e.lastSessionId;let D=!1,M=null;const U=function(){M?M.close():(D=!0,d())};e.realtime_={close:U,sendRequest:function(ge){(0,P.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(ge)}};const Z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ge,Pe]=yield Promise.all([e.authTokenProvider_.getToken(Z),e.appCheckTokenProvider_.getToken(Z)]);D?Nn("getToken() completed but was canceled"):(Nn("getToken() completed. Creating connection."),e.authToken_=ge&&ge.accessToken,e.appCheckToken_=Pe&&Pe.token,M=new L_(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,at=>{Wr(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(ge){e.log_("Failed to get token: "+ge),D||(e.repoInfo_.nodeAdmin&&Wr(ge),U())}}})()}interrupt(e){Nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(g=>Yh(g)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new Ut(e).toString();let d;if(this.listens.has(l)){const g=this.listens.get(l);d=g.get(o),g.delete(o),0===g.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){Nn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Nn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,P.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Vu.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ef.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class bt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new bt(t,e)}}class Ed{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new bt(vo,t),l=new bt(vo,e);return 0!==this.compare(o,l)}minPost(){return bt.MIN}}class W_ extends Ed{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(t){Cd=t}compare(t,e){return Vl(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return bt.MIN}maxPost(){return new bt(Ho,Cd)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,Cd)}toString(){return".key"}}const us=new W_;class nf{constructor(t,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(t=t,g=e?o(t.key,e):1,l&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Eg,Vs=(()=>{class i{constructor(e,o,l,d,g){this.key=e,this.value=o,this.color=null!=l?l:i.RED,this.left=null!=d?d:Yn.EMPTY_NODE,this.right=null!=g?g:Yn.EMPTY_NODE}copy(e,o,l,d,g){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const g=l(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===g?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return Yn.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Yn{constructor(t,e=Yn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Yn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Vs.BLACK,null,null))}remove(t){return new Yn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vs.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new nf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new nf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new nf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new nf(this.root_,null,this.comparator_,!0,t)}}function G_(i,t){return Vl(i.name,t.name)}function vg(i,t){return Vl(i,t)}Yn.EMPTY_NODE=new class z_{copy(t,e,o,l,d){return this}insert(t,e,o){return new Vs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Z_=function(i){return"number"==typeof i?"number:"+l0(i):"string:"+i},K_=function(i){if(i.isLeafNode()){const t=i.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(i===Eg||i.isEmpty(),"priority of unexpected type.");(0,P.hu)(i===Eg||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let q_,js,rf,Ku=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),K_(this.priorityNode_)}static set __childrenNodeConstructor(e){q_=e}static get __childrenNodeConstructor(){return q_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Dt(e)?this:".priority"===It(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=It(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,P.hu)(".priority"!==l||1===Bs(e),".priority must be the last token in a path"),this.updateImmediateChild(l,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Z_(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?l0(this.value_):this.value_,this.lazyHash_=s0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=i.VALUE_TYPE_ORDER.indexOf(o),g=i.VALUE_TYPE_ORDER.indexOf(l);return(0,P.hu)(d>=0,"Unknown leaf type: "+o),(0,P.hu)(g>=0,"Unknown leaf type: "+l),d===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Yt=new class J_ extends Ed{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?Vl(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return bt.MIN}maxPost(){return new bt(Ho,new Ku("[PRIORITY-POST]",rf))}makePost(t,e){const o=js(t);return new bt(e,new Ku("[PRIORITY-POST]",o))}toString(){return".priority"}},w0=Math.log(2);class I0{constructor(t){this.count=parseInt(Math.log(t+1)/w0,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sf=function(i,t,e,o){i.sort(t);const l=function(D,M){const U=M-D;let k,Z;if(0===U)return null;if(1===U)return k=i[D],Z=e?e(k):k,new Vs(Z,k.node,Vs.BLACK,null,null);{const ge=parseInt(U/2,10)+D,Pe=l(D,ge),at=l(ge+1,M);return k=i[ge],Z=e?e(k):k,new Vs(Z,k.node,Vs.BLACK,Pe,at)}},E=function(D){let M=null,U=null,k=i.length;const Z=function(Pe,at){const At=k-Pe,Ln=k;k-=Pe;const Xt=l(At+1,Ln),Pr=i[At],gn=e?e(Pr):Pr;ge(new Vs(gn,Pr.node,at,null,Xt))},ge=function(Pe){M?(M.left=Pe,M=Pe):(U=Pe,M=Pe)};for(let Pe=0;Pe<D.count;++Pe){const at=D.nextBitIsOne(),At=Math.pow(2,D.count-(Pe+1));at?Z(At,Vs.BLACK):(Z(At,Vs.BLACK),Z(At,Vs.RED))}return U}(new I0(i.length));return new Yn(o||t,E)};let Cg;const zl={};class xa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(zl&&Yt,"ChildrenNode.ts has not been loaded"),Cg=Cg||new xa({".priority":zl},{".priority":Yt}),Cg}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Yn?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(bt.Wrap);let E,g=d.getNext();for(;g;)l=l||t.isDefinedOn(g.node),o.push(g),g=d.getNext();E=l?sf(o,t.getCompare()):zl;const D=t.toString(),M=Object.assign({},this.indexSet_);M[D]=t;const U=Object.assign({},this.indexes_);return U[D]=E,new xa(U,M)}addToIndexes(t,e){const o=(0,P.UI)(this.indexes_,(l,d)=>{const g=(0,P.DV)(this.indexSet_,d);if((0,P.hu)(g,"Missing index implementation for "+d),l===zl){if(g.isDefinedOn(t.node)){const E=[],D=e.getIterator(bt.Wrap);let M=D.getNext();for(;M;)M.name!==t.name&&E.push(M),M=D.getNext();return E.push(t),sf(E,g.getCompare())}return zl}{const E=e.get(t.name);let D=l;return E&&(D=D.remove(new bt(t.name,E))),D.insert(t,t.node)}});return new xa(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,P.UI)(this.indexes_,l=>{if(l===zl)return l;{const d=e.get(t.name);return d?l.remove(new bt(t.name,d)):l}});return new xa(o,this.indexSet_)}}let qu,gt=(()=>{class i{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&K_(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qu||(qu=new i(new Yn(vg),null,xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qu}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?qu:o}}getChild(e){const o=It(e);return null===o?this:this.getImmediateChild(o).getChild(Zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,P.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new bt(e,o);let d,g;o.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(l,this.children_));const E=d.isEmpty()?qu:this.priorityNode_;return new i(d,E,g)}}updateChild(e,o){const l=It(e);if(null===l)return o;{(0,P.hu)(".priority"!==It(e)||1===Bs(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Zt(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,g=!0;if(this.forEachChild(Yt,(E,D)=>{o[E]=D.val(e),l++,g&&i.INTEGER_REGEXP_.test(E)?d=Math.max(d,Number(E)):g=!1}),!e&&g&&d<2*l){const E=[];for(const D in o)E[D]=o[D];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Z_(this.getPriority().val())+":"),this.forEachChild(Yt,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":s0(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const g=d.getPredecessorKey(new bt(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new bt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new bt(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,bt.Wrap);let g=d.peek();for(;null!=g&&o.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,bt.Wrap);let g=d.peek();for(;null!=g&&o.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===of?-1:0}withIndex(e){if(e===us||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Yt),d=o.getIterator(Yt);let g=l.getNext(),E=d.getNext();for(;g&&E;){if(g.name!==E.name||!g.node.equals(E.node))return!1;g=l.getNext(),E=d.getNext()}return null===g&&null===E}return!1}return!1}}resolveIndex_(e){return e===us?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const of=new class D0 extends gt{constructor(){super(new Yn(vg),gt.EMPTY_NODE,xa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return gt.EMPTY_NODE}isEmpty(){return!1}};function ln(i,t=null){if(null===i)return gt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Ku(i,ln(t));if(i instanceof Array){let e=gt.EMPTY_NODE;return kn(i,(o,l)=>{if((0,P.r3)(i,o)&&"."!==o.substring(0,1)){const d=ln(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(ln(t))}{const e=[];let o=!1;if(kn(i,(g,E)=>{if("."!==g.substring(0,1)){const D=ln(E);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),e.push(new bt(g,D)))}}),0===e.length)return gt.EMPTY_NODE;const d=sf(e,G_,g=>g.name,vg);if(o){const g=sf(e,Yt.getCompare());return new gt(d,ln(t),new xa({".priority":g},{".priority":Yt}))}return new gt(d,ln(t),xa.Default)}}Object.defineProperties(bt,{MIN:{value:new bt(vo,gt.EMPTY_NODE)},MAX:{value:new bt(Ho,of)}}),W_.__EMPTY_NODE=gt.EMPTY_NODE,Ku.__childrenNodeConstructor=gt,function Zu(i){Eg=i}(of),function Q_(i){rf=i}(of),function Y_(i){js=i}(ln);class wg extends Ed{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Dt(t)&&".priority"!==It(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?Vl(t.name,e.name):d}makePost(t,e){const o=ln(t),l=gt.EMPTY_NODE.updateChild(this.indexPath_,o);return new bt(e,l)}maxPost(){const t=gt.EMPTY_NODE.updateChild(this.indexPath_,of);return new bt(Ho,t)}toString(){return Wl(this.indexPath_,0).join("/")}}const af=new class X_ extends Ed{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Vl(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return bt.MIN}maxPost(){return bt.MAX}makePost(t,e){const o=ln(t);return new bt(e,o)}toString(){return".value"}},wd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ey=function(){let i=0;const t=[];return function(e){const o=e===i;let l;i=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=wd.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=wd.charAt(t[l]);return(0,P.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Ig=function(i){if(i===""+y_)return"-";const t=Yp(i);if(null!=t)return""+(t+1);const e=new Array(i.length);for(let g=0;g<e.length;g++)e[g]=i.charAt(g);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Ho;const d=wd.charAt(wd.indexOf(e[o])+1);return e[o]=d,e.slice(0,o+1).join("")},Dg=function(i){if(i===""+u0)return vo;const t=Yp(i);if(null!=t)return""+(t-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+y_:(delete e[e.length-1],e.join("")):(e[e.length-1]=wd.charAt(wd.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function ty(i){return{type:"value",snapshotNode:i}}function Id(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Yu(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Qu(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class Dd{constructor(t){this.index_=t}updateChild(t,e,o,l,d,g){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(l).equals(o.getChild(l))&&E.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?t.hasChild(e)?g.trackChildChange(Yu(e,E)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?g.trackChildChange(Id(e,o)):g.trackChildChange(Qu(e,o,E))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Yt,(l,d)=>{e.hasChild(l)||o.trackChildChange(Yu(l,d))}),e.isLeafNode()||e.forEachChild(Yt,(l,d)=>{if(t.hasChild(l)){const g=t.getImmediateChild(l);g.equals(d)||o.trackChildChange(Qu(l,d,g))}else o.trackChildChange(Id(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?gt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bd{constructor(t){this.indexedFilter_=new Dd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=bd.getStartPost_(t),this.endPost_=bd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,d,g){return this.matches(new bt(e,o))||(o=gt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,d,g)}updateFullNode(t,e,o){e.isLeafNode()&&(e=gt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(gt.EMPTY_NODE);const d=this;return e.forEachChild(Yt,(g,E)=>{d.matches(new bt(g,E))||(l=l.updateImmediateChild(g,gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class S0{constructor(t){this.rangedFilter_=new bd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,d,g){return this.rangedFilter_.matches(new bt(e,o))||(o=gt.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,d,g):this.fullLimitUpdateChild_(t,e,o,d,g)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=gt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const E=d.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!D)break;l=l.updateImmediateChild(E.name,E.node),g++}}else{let d,g,E,D;if(l=e.withIndex(this.index_),l=l.updatePriority(gt.EMPTY_NODE),this.reverse_){D=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();E=(Z,ge)=>k(ge,Z)}else D=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let M=0,U=!1;for(;D.hasNext();){const k=D.getNext();!U&&E(d,k)<=0&&(U=!0),U&&M<this.limit_&&E(k,g)<=0?M++:l=l.updateImmediateChild(k.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,d){let g;if(this.reverse_){const k=this.index_.getCompare();g=(Z,ge)=>k(ge,Z)}else g=this.index_.getCompare();const E=t;(0,P.hu)(E.numChildren()===this.limit_,"");const D=new bt(e,o),M=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),U=this.rangedFilter_.matches(D);if(E.hasChild(e)){const k=E.getImmediateChild(e);let Z=l.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=Z&&(Z.name===e||E.hasChild(Z.name));)Z=l.getChildAfterChild(this.index_,Z,this.reverse_);const ge=null==Z?1:g(Z,D);if(U&&!o.isEmpty()&&ge>=0)return null!=d&&d.trackChildChange(Qu(e,o,k)),E.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(Yu(e,k));const at=E.updateImmediateChild(e,gt.EMPTY_NODE);return null!=Z&&this.rangedFilter_.matches(Z)?(null!=d&&d.trackChildChange(Id(Z.name,Z.node)),at.updateImmediateChild(Z.name,Z.node)):at}}return o.isEmpty()?t:U&&g(M,D)>=0?(null!=d&&(d.trackChildChange(Yu(M.name,M.node)),d.trackChildChange(Id(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(M.name,gt.EMPTY_NODE)):t}}class lf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const t=new lf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ju(i,t,e){const o=i.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function bg(i,t,e){const o=i.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function uf(i,t){const e=i.copy();return e.index_=t,e}function ny(i){const t={};if(i.isDefault())return t;let e;return i.index_===Yt?e="$priority":i.index_===af?e="$value":i.index_===us?e="$key":((0,P.hu)(i.index_ instanceof wg,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,P.Pz)(e),i.startSet_&&(t.startAt=(0,P.Pz)(i.indexStartValue_),i.startNameSet_&&(t.startAt+=","+(0,P.Pz)(i.indexStartName_))),i.endSet_&&(t.endAt=(0,P.Pz)(i.indexEndValue_),i.endNameSet_&&(t.endAt+=","+(0,P.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function cf(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_)),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_)),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==Yt&&(t.i=i.index_.toString()),t}class xi extends E0{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Bl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=xi.getListenId_(t,o),E={};this.listens_[g]=E;const D=ny(t._queryParams);this.restRequest_(d+".json",D,(M,U)=>{let k=U;if(404===M&&(k=null,M=null),null===M&&this.onDataUpdate_(d,k,!1,o),(0,P.DV)(this.listens_,g)===E){let Z;Z=M?401===M?"permission_denied":"rest_error:"+M:"ok",l(Z,null)}})}unlisten(t,e){const o=xi.getListenId_(t,e);delete this.listens_[o]}get(t){const e=ny(t._queryParams),o=t._path.toString(),l=new P.BH;return this.restRequest_(o+".json",e,(d,g)=>{let E=g;404===d&&(E=null,d=null),null===d?(this.onDataUpdate_(o,E,!1,null),l.resolve(E)):l.reject(new Error(E))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+g);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+g+" received. status:",E.status,"response:",E.responseText);let D=null;if(E.status>=200&&E.status<300){try{D=(0,P.cI)(E.responseText)}catch(M){Wr("Failed to parse JSON response for "+g+": "+E.responseText)}o(null,D)}else 401!==E.status&&404!==E.status&&Wr("Got unsuccessful REST response for "+g+" Status: "+E.status),o(E.status);o=null}},E.open("GET",g,!0),E.send()})}}class Ad{constructor(){this.rootNode_=gt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Qn(){return{value:null,children:new Map}}function cs(i,t,e){if(Dt(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const o=It(t);i.children.has(o)||i.children.set(o,Qn()),cs(i.children.get(o),t=Zt(t),e)}}function ec(i,t){if(Dt(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Yt,(o,l)=>{cs(i,new Ut(o),l)}),ec(i,t)}}if(i.children.size>0){const e=It(t);return t=Zt(t),i.children.has(e)&&ec(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function li(i,t,e){null!==i.value?e(t,i.value):function Tg(i,t){i.children.forEach((e,o)=>{t(o,e)})}(i,(o,l)=>{li(l,new Ut(t.toString()+"/"+o),e)})}class tc{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&kn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class ic{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new tc(t);const o=1e4+2e4*Math.random();ls(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;kn(t,(l,d)=>{d>0&&(0,P.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),ls(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _r=(()=>{return(i=_r||(_r={}))[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",_r;var i})();function ka(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Sd{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=_r.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Dt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ut(t));return new Sd(Bt(),e,this.revert)}}return(0,P.hu)(It(this.path)===t,"operationForChild called for unrelated child."),new Sd(Zt(this.path),this.affectedTree,this.revert)}}class sc{constructor(t,e){this.source=t,this.path=e,this.type=_r.LISTEN_COMPLETE}operationForChild(t){return Dt(this.path)?new sc(this.source,Bt()):new sc(this.source,Zt(this.path))}}class La{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=_r.OVERWRITE}operationForChild(t){return Dt(this.path)?new La(this.source,Bt(),this.snap.getImmediateChild(t)):new La(this.source,Zt(this.path),this.snap)}}class Zl{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=_r.MERGE}operationForChild(t){if(Dt(this.path)){const e=this.children.subtree(new Ut(t));return e.isEmpty()?null:e.value?new La(this.source,Bt(),e.value):new Zl(this.source,Bt(),e)}return(0,P.hu)(It(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zl(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zo{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Dt(t))return this.isFullyInitialized()&&!this.filtered_;const e=It(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ry{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function oc(i,t,e,o,l,d){const g=o.filter(E=>E.type===e);g.sort((E,D)=>function x0(i,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const o=new bt(t.childName,t.snapshotNode),l=new bt(e.childName,e.snapshotNode);return i.index_.compare(o,l)}(i,E,D)),g.forEach(E=>{const D=function sy(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,E,d);l.forEach(M=>{M.respondsTo(E.type)&&t.push(M.createEvent(D,i.query_))})})}function Md(i,t){return{eventCache:i,serverCache:t}}function Rd(i,t,e,o){return Md(new zo(t,e,o),i.serverCache)}function Ag(i,t,e,o){return Md(i.eventCache,new zo(t,e,o))}function Pd(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Kl(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Sg;class Jt{constructor(t,e=(()=>(Sg||(Sg=new Yn(lw)),Sg))()){this.value=t,this.children=e}static fromObject(t){let e=new Jt(null);return kn(t,(o,l)=>{e=e.set(new Ut(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bt(),value:this.value};if(Dt(t))return null;{const o=It(t),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Zt(t),e);return null!=d?{path:pn(new Ut(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Dt(t))return this;{const e=It(t),o=this.children.get(e);return null!==o?o.subtree(Zt(t)):new Jt(null)}}set(t,e){if(Dt(t))return new Jt(e,this.children);{const o=It(t),d=(this.children.get(o)||new Jt(null)).set(Zt(t),e),g=this.children.insert(o,d);return new Jt(this.value,g)}}remove(t){if(Dt(t))return this.children.isEmpty()?new Jt(null):new Jt(null,this.children);{const e=It(t),o=this.children.get(e);if(o){const l=o.remove(Zt(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new Jt(null):new Jt(this.value,d)}return this}}get(t){if(Dt(t))return this.value;{const e=It(t),o=this.children.get(e);return o?o.get(Zt(t)):null}}setTree(t,e){if(Dt(t))return e;{const o=It(t),d=(this.children.get(o)||new Jt(null)).setTree(Zt(t),e);let g;return g=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new Jt(this.value,g)}}fold(t){return this.fold_(Bt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(pn(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Bt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(Dt(t))return null;{const d=It(t),g=this.children.get(d);return g?g.findOnPath_(Zt(t),pn(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bt(),e)}foreachOnPath_(t,e,o){if(Dt(t))return this;{this.value&&o(e,this.value);const l=It(t),d=this.children.get(l);return d?d.foreachOnPath_(Zt(t),pn(e,l),o):new Jt(null)}}foreach(t){this.foreach_(Bt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(pn(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class ds{constructor(t){this.writeTree_=t}static empty(){return new ds(new Jt(null))}}function xd(i,t,e){if(Dt(t))return new ds(new Jt(e));{const o=i.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let d=o.value;const g=mr(l,t);return d=d.updateChild(g,e),new ds(i.writeTree_.set(l,d))}{const l=new Jt(e),d=i.writeTree_.setTree(t,l);return new ds(d)}}}function Mg(i,t,e){let o=i;return kn(e,(l,d)=>{o=xd(o,pn(t,l),d)}),o}function O0(i,t){if(Dt(t))return ds.empty();{const e=i.writeTree_.setTree(t,new Jt(null));return new ds(e)}}function Rg(i,t){return null!=Go(i,t)}function Go(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(mr(e.path,t)):null}function df(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yt,(o,l)=>{t.push(new bt(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new bt(o,l.value))}),t}function Fa(i,t){if(Dt(t))return i;{const e=Go(i,t);return new ds(null!=e?new Jt(e):i.writeTree_.subtree(t))}}function ay(i){return i.writeTree_.isEmpty()}function Od(i,t){return N0(Bt(),i.writeTree_,t)}function N0(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,P.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=N0(pn(i,l),d,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(pn(i,".priority"),o)),e}}function hf(i,t){return gf(t,i)}function L0(i,t){if(i.snap)return Ri(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Ri(pn(i.path,e),t))return!0;return!1}function F0(i){return i.visible}function Pg(i,t,e){let o=ds.empty();for(let l=0;l<i.length;++l){const d=i[l];if(t(d)){const g=d.path;let E;if(d.snap)Ri(e,g)?(E=mr(e,g),o=xd(o,E,d.snap)):Ri(g,e)&&(E=mr(g,e),o=xd(o,Bt(),d.snap.getChild(E)));else{if(!d.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Ri(e,g))E=mr(e,g),o=Mg(o,E,d.children);else if(Ri(g,e))if(E=mr(g,e),Dt(E))o=Mg(o,Bt(),d.children);else{const D=(0,P.DV)(d.children,It(E));if(D){const M=D.getChild(Zt(E));o=xd(o,Bt(),M)}}}}}return o}function Nd(i,t,e,o,l){if(o||l){const d=Fa(i.visibleWrites,t);return!l&&ay(d)?e:l||null!=e||Rg(d,Bt())?Od(Pg(i.allWrites,function(M){return(M.visible||l)&&(!o||!~o.indexOf(M.writeId))&&(Ri(M.path,t)||Ri(t,M.path))},t),e||gt.EMPTY_NODE):null}{const d=Go(i.visibleWrites,t);if(null!=d)return d;{const g=Fa(i.visibleWrites,t);return ay(g)?e:null!=e||Rg(g,Bt())?Od(g,e||gt.EMPTY_NODE):null}}}function ff(i,t,e,o){return Nd(i.writeTree,i.treePath,t,e,o)}function pf(i,t){return function U0(i,t,e){let o=gt.EMPTY_NODE;const l=Go(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Yt,(d,g)=>{o=o.updateImmediateChild(d,g)}),o;if(e){const d=Fa(i.visibleWrites,t);return e.forEachChild(Yt,(g,E)=>{const D=Od(Fa(d,new Ut(g)),E);o=o.updateImmediateChild(g,D)}),df(d).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return df(Fa(i.visibleWrites,t)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(i.writeTree,i.treePath,t)}function dy(i,t,e,o){return function cy(i,t,e,o,l){(0,P.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=pn(t,e);if(Rg(i.visibleWrites,d))return null;{const g=Fa(i.visibleWrites,d);return ay(g)?l.getChild(e):Od(g,l.getChild(e))}}(i.writeTree,i.treePath,t,e,o)}function kd(i,t){return function V0(i,t){return Go(i.visibleWrites,t)}(i.writeTree,pn(i.treePath,t))}function Ld(i,t,e){return function B0(i,t,e,o){const l=pn(t,e),d=Go(i.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?Od(Fa(i.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function $0(i,t){return gf(pn(i.treePath,t),i.writeTree)}function gf(i,t){return{treePath:i,writeTree:t}}class W0{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,Qu(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,Yu(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,Id(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,Qu(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const lc=new class Ew{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class mf{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new zo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ld(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kl(this.viewCache_),d=function hy(i,t,e,o,l,d){return function j0(i,t,e,o,l,d,g){let E;const D=Fa(i.visibleWrites,t),M=Go(D,Bt());if(null!=M)E=M;else{if(null==e)return[];E=Od(D,e)}if(E=E.withIndex(g),E.isEmpty()||E.isLeafNode())return[];{const U=[],k=g.getCompare(),Z=d?E.getReverseIteratorFrom(o,g):E.getIteratorFrom(o,g);let ge=Z.getNext();for(;ge&&U.length<l;)0!==k(ge,o)&&U.push(ge),ge=Z.getNext();return U}}(i.writeTree,i.treePath,t,e,o,l,d)}(this.writes_,l,e,1,o,t);return 0===d.length?null:d[0]}}function Fd(i,t,e,o,l,d){const g=t.eventCache;if(null!=kd(o,e))return t;{let E,D;if(Dt(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Kl(t),k=pf(o,M instanceof gt?M:gt.EMPTY_NODE);E=i.filter.updateFullNode(t.eventCache.getNode(),k,d)}else{const M=ff(o,Kl(t));E=i.filter.updateFullNode(t.eventCache.getNode(),M,d)}else{const M=It(e);if(".priority"===M){(0,P.hu)(1===Bs(e),"Can't have a priority with additional path components");const U=g.getNode();D=t.serverCache.getNode();const k=dy(o,e,U,D);E=null!=k?i.filter.updatePriority(U,k):g.getNode()}else{const U=Zt(e);let k;if(g.isCompleteForChild(M)){D=t.serverCache.getNode();const Z=dy(o,e,g.getNode(),D);k=null!=Z?g.getNode().getImmediateChild(M).updateChild(U,Z):g.getNode().getImmediateChild(M)}else k=Ld(o,M,t.serverCache);E=null!=k?i.filter.updateChild(g.getNode(),M,k,U,l,d):g.getNode()}}return Rd(t,E,g.isFullyInitialized()||Dt(e),i.filter.filtersNodes())}}function uc(i,t,e,o,l,d,g,E){const D=t.serverCache;let M;const U=g?i.filter:i.filter.getIndexedFilter();if(Dt(e))M=U.updateFullNode(D.getNode(),o,null);else if(U.filtersNodes()&&!D.isFiltered()){const ge=D.getNode().updateChild(e,o);M=U.updateFullNode(D.getNode(),ge,null)}else{const ge=It(e);if(!D.isCompleteForPath(e)&&Bs(e)>1)return t;const Pe=Zt(e),At=D.getNode().getImmediateChild(ge).updateChild(Pe,o);M=".priority"===ge?U.updatePriority(D.getNode(),At):U.updateChild(D.getNode(),ge,At,Pe,lc,null)}const k=Ag(t,M,D.isFullyInitialized()||Dt(e),U.filtersNodes());return Fd(i,k,e,l,new mf(l,k,d),E)}function fy(i,t,e,o,l,d,g){const E=t.eventCache;let D,M;const U=new mf(l,t,d);if(Dt(e))M=i.filter.updateFullNode(t.eventCache.getNode(),o,g),D=Rd(t,M,!0,i.filter.filtersNodes());else{const k=It(e);if(".priority"===k)M=i.filter.updatePriority(t.eventCache.getNode(),o),D=Rd(t,M,E.isFullyInitialized(),E.isFiltered());else{const Z=Zt(e),ge=E.getNode().getImmediateChild(k);let Pe;if(Dt(Z))Pe=o;else{const at=U.getCompleteChild(k);Pe=null!=at?".priority"===fg(Z)&&at.getChild(gg(Z)).isEmpty()?at:at.updateChild(Z,o):gt.EMPTY_NODE}D=ge.equals(Pe)?t:Rd(t,i.filter.updateChild(E.getNode(),k,Pe,Z,U,g),E.isFullyInitialized(),i.filter.filtersNodes())}}return D}function py(i,t){return i.eventCache.isCompleteForChild(t)}function yf(i,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function vf(i,t,e,o,l,d,g,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,D=t;M=Dt(e)?o:new Jt(null).setTree(e,o);const U=t.serverCache.getNode();return M.children.inorderTraversal((k,Z)=>{if(U.hasChild(k)){const Pe=yf(0,t.serverCache.getNode().getImmediateChild(k),Z);D=uc(i,D,new Ut(k),Pe,l,d,g,E)}}),M.children.inorderTraversal((k,Z)=>{const ge=!t.serverCache.isCompleteForChild(k)&&void 0===Z.value;if(!U.hasChild(k)&&!ge){const at=yf(0,t.serverCache.getNode().getImmediateChild(k),Z);D=uc(i,D,new Ut(k),at,l,d,g,E)}}),D}class _y{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Dd(o.getIndex()),d=function M0(i){return i.loadsAllData()?new Dd(i.getIndex()):i.hasLimit()?new S0(i):new bd(i)}(o);this.processor_=function xg(i){return{filter:i}}(d);const g=e.serverCache,E=e.eventCache,D=l.updateFullNode(gt.EMPTY_NODE,g.getNode(),null),M=d.updateFullNode(gt.EMPTY_NODE,E.getNode(),null),U=new zo(D,g.isFullyInitialized(),l.filtersNodes()),k=new zo(M,E.isFullyInitialized(),d.filtersNodes());this.viewCache_=Md(k,U),this.eventGenerator_=new ry(this.query_)}get query(){return this.query_}}function G0(i,t){const e=Kl(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Dt(t)&&!e.getImmediateChild(It(t)).isEmpty())?e.getChild(t):null}function Fg(i){return 0===i.eventRegistrations_.length}function Ef(i,t,e){const o=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,l);g&&o.push(g)})}if(t){let l=[];for(let d=0;d<i.eventRegistrations_.length;++d){const g=i.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(d+1));break}}else l.push(g)}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Ey(i,t,e,o){t.type===_r.MERGE&&null!==t.source.queryId&&((0,P.hu)(Kl(i.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(Pd(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,d=function z0(i,t,e,o,l){const d=new W0;let g,E;if(e.type===_r.OVERWRITE){const M=e;M.source.fromUser?g=fy(i,t,M.path,M.snap,o,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered()&&!Dt(M.path),g=uc(i,t,M.path,M.snap,o,l,E,d))}else if(e.type===_r.MERGE){const M=e;M.source.fromUser?g=function Ng(i,t,e,o,l,d,g){let E=t;return o.foreach((D,M)=>{const U=pn(e,D);py(t,It(U))&&(E=fy(i,E,U,M,l,d,g))}),o.foreach((D,M)=>{const U=pn(e,D);py(t,It(U))||(E=fy(i,E,U,M,l,d,g))}),E}(i,t,M.path,M.children,o,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered(),g=vf(i,t,M.path,M.children,o,l,E,d))}else if(e.type===_r.ACK_USER_WRITE){const M=e;g=M.revert?function my(i,t,e,o,l,d){let g;if(null!=kd(o,e))return t;{const E=new mf(o,t,l),D=t.eventCache.getNode();let M;if(Dt(e)||".priority"===It(e)){let U;if(t.serverCache.isFullyInitialized())U=ff(o,Kl(t));else{const k=t.serverCache.getNode();(0,P.hu)(k instanceof gt,"serverChildren would be complete if leaf node"),U=pf(o,k)}U=U,M=i.filter.updateFullNode(D,U,d)}else{const U=It(e);let k=Ld(o,U,t.serverCache);null==k&&t.serverCache.isCompleteForChild(U)&&(k=D.getImmediateChild(U)),M=null!=k?i.filter.updateChild(D,U,k,Zt(e),E,d):t.eventCache.getNode().hasChild(U)?i.filter.updateChild(D,U,gt.EMPTY_NODE,Zt(e),E,d):D,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=ff(o,Kl(t)),g.isLeafNode()&&(M=i.filter.updateFullNode(M,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=kd(o,Bt()),Rd(t,M,g,i.filter.filtersNodes())}}(i,t,M.path,o,l,d):function gy(i,t,e,o,l,d,g){if(null!=kd(l,e))return t;const E=t.serverCache.isFiltered(),D=t.serverCache;if(null!=o.value){if(Dt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return uc(i,t,e,D.getNode().getChild(e),l,d,E,g);if(Dt(e)){let M=new Jt(null);return D.getNode().forEachChild(us,(U,k)=>{M=M.set(new Ut(U),k)}),vf(i,t,e,M,l,d,E,g)}return t}{let M=new Jt(null);return o.foreach((U,k)=>{const Z=pn(e,U);D.isCompleteForPath(Z)&&(M=M.set(U,D.getNode().getChild(Z)))}),vf(i,t,e,M,l,d,E,g)}}(i,t,M.path,M.affectedTree,o,l,d)}else{if(e.type!==_r.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);g=function kg(i,t,e,o,l){const d=t.serverCache;return Fd(i,Ag(t,d.getNode(),d.isFullyInitialized()||Dt(e),d.isFiltered()),e,o,lc,l)}(i,t,e.path,o,d)}const D=d.getChanges();return function _f(i,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Pd(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(ty(Pd(t)))}}(t,g,D),{viewCache:g,changes:D}}(i.processor_,l,t,e,o);return function Og(i,t){(0,P.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,d.viewCache),(0,P.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=d.viewCache,Cy(i,d.changes,d.viewCache.eventCache.getNode(),null)}function Cy(i,t,e,o){return function iy(i,t,e,o){const l=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&i.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function A0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(g.childName,g.snapshotNode))}),oc(i,l,"child_removed",t,o,e),oc(i,l,"child_added",t,o,e),oc(i,l,"child_moved",d,o,e),oc(i,l,"child_changed",t,o,e),oc(i,l,"value",t,o,e),l}(i.eventGenerator_,t,e,o?[o]:i.eventRegistrations_)}let Cf,If;class Ug{constructor(){this.views=new Map}}function wf(i,t,e,o){const l=t.source.queryId;if(null!==l){const d=i.views.get(l);return(0,P.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Ey(d,t,e,o)}{let d=[];for(const g of i.views.values())d=d.concat(Ey(g,t,e,o));return d}}function Vg(i,t,e,o,l){const g=i.views.get(t._queryIdentifier);if(!g){let E=ff(e,l?o:null),D=!1;E?D=!0:o instanceof gt?(E=pf(e,o),D=!1):(E=gt.EMPTY_NODE,D=!1);const M=Md(new zo(E,D,!1),new zo(o,l,!1));return new _y(t,M)}return g}function jg(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Zo(i,t){let e=null;for(const o of i.views.values())e=e||G0(o,t);return e}function K0(i,t){return t._queryParams.loadsAllData()?Ud(i):i.views.get(t._queryIdentifier)}function Ty(i,t){return null!=K0(i,t)}function Ua(i){return null!=Ud(i)}function Ud(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let q0=1;class Sy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Jt(null),this.pendingWriteTree_=function H0(){return{visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Df(i,t,e,o,l){return function ly(i,t,e,o,l){(0,P.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),i.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(i.visibleWrites=xd(i.visibleWrites,t,e)),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o,l),l?Gr(i,new La({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ko(i,t,e=!1){const o=function k0(i,t){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===t)return o}return null}(i.pendingWriteTree_,t);if(function ac(i,t){const e=i.allWrites.findIndex(E=>E.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let l=o.visible,d=!1,g=i.allWrites.length-1;for(;l&&g>=0;){const E=i.allWrites[g];E.visible&&(g>=e&&L0(E,o.path)?l=!1:Ri(o.path,E.path)&&(d=!0)),g--}return!!l&&(d?(function uy(i){i.visibleWrites=Pg(i.allWrites,F0,Bt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=O0(i.visibleWrites,o.path):kn(o.children,D=>{i.visibleWrites=O0(i.visibleWrites,pn(o.path,D))}),!0))}(i.pendingWriteTree_,t)){let d=new Jt(null);return null!=o.snap?d=d.set(Bt(),!0):kn(o.children,g=>{d=d.set(new Ut(g),!0)}),Gr(i,new Sd(o.path,d,e))}return[]}function cc(i,t,e){return Gr(i,new La({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bf(i,t,e,o){const l=t._path,d=i.syncPointTree_.get(l);let g=[];if(d&&("default"===t._queryIdentifier||Ty(d,t))){const E=function by(i,t,e,o){const l=t._queryIdentifier,d=[];let g=[];const E=Ua(i);if("default"===l)for(const[D,M]of i.views.entries())g=g.concat(Ef(M,e,o)),Fg(M)&&(i.views.delete(D),M.query._queryParams.loadsAllData()||d.push(M.query));else{const D=i.views.get(l);D&&(g=g.concat(Ef(D,e,o)),Fg(D)&&(i.views.delete(l),D.query._queryParams.loadsAllData()||d.push(D.query)))}return E&&!Ua(i)&&d.push(new(function wy(){return(0,P.hu)(Cf,"Reference.ts has not been loaded"),Cf}())(t._repo,t._path)),{removed:d,events:g}}(d,t,e,o);(function Iy(i){return 0===i.views.size})(d)&&(i.syncPointTree_=i.syncPointTree_.remove(l));const D=E.removed;g=E.events;const M=-1!==D.findIndex(k=>k._queryParams.loadsAllData()),U=i.syncPointTree_.findOnPath(l,(k,Z)=>Ua(Z));if(M&&!U){const k=i.syncPointTree_.subtree(l);if(!k.isEmpty()){const Z=function tE(i){return i.fold((t,e,o)=>{if(e&&Ua(e))return[Ud(e)];{let l=[];return e&&(l=jg(e)),kn(o,(d,g)=>{l=l.concat(g)}),l}})}(k);for(let ge=0;ge<Z.length;++ge){const Pe=Z[ge],at=Pe.query,At=Hs(i,Pe);i.listenProvider_.startListening(Vd(at),ui(i,at),At.hashFn,At.onComplete)}}}!U&&D.length>0&&!o&&(M?i.listenProvider_.stopListening(Vd(t),null):D.forEach(k=>{const Z=i.queryToTagMap.get(ci(k));i.listenProvider_.stopListening(Vd(k),Z)})),function nE(i,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=ci(o),d=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(d)}}}(i,D)}return g}function eE(i,t,e){const o=t._path;let l=null,d=!1;i.syncPointTree_.foreachOnPath(o,(k,Z)=>{const ge=mr(k,o);l=l||Zo(Z,ge),d=d||Ua(Z)});let E,g=i.syncPointTree_.get(o);g?(d=d||Ua(g),l=l||Zo(g,Bt())):(g=new Ug,i.syncPointTree_=i.syncPointTree_.set(o,g)),null!=l?E=!0:(E=!1,l=gt.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((Z,ge)=>{const Pe=Zo(ge,Bt());Pe&&(l=l.updateImmediateChild(Z,Pe))}));const D=Ty(g,t);if(!D&&!t._queryParams.loadsAllData()){const k=ci(t);(0,P.hu)(!i.queryToTagMap.has(k),"View does not exist, but we have a tag");const Z=function $g(){return q0++}();i.queryToTagMap.set(k,Z),i.tagToQueryMap.set(Z,k)}let U=function Dy(i,t,e,o,l,d){const g=Vg(i,t,o,l,d);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,g),function vy(i,t){i.eventRegistrations_.push(t)}(g,e),function Z0(i,t){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yt,(d,g)=>{o.push(Id(d,g))}),e.isFullyInitialized()&&o.push(ty(e.getNode())),Cy(i,o,e.getNode(),t)}(g,e)}(g,t,e,hf(i.pendingWriteTree_,o),l,E);if(!D&&!d){const k=K0(g,t);U=U.concat(function jd(i,t,e){const o=t._path,l=ui(i,t),d=Hs(i,e),g=i.listenProvider_.startListening(Vd(t),l,d.hashFn,d.onComplete),E=i.syncPointTree_.subtree(o);if(l)(0,P.hu)(!Ua(E.value),"If we're adding a query, it shouldn't be shadowed");else{const D=E.fold((M,U,k)=>{if(!Dt(M)&&U&&Ua(U))return[Ud(U).query];{let Z=[];return U&&(Z=Z.concat(jg(U).map(ge=>ge.query))),kn(k,(ge,Pe)=>{Z=Z.concat(Pe)}),Z}});for(let M=0;M<D.length;++M){const U=D[M];i.listenProvider_.stopListening(Vd(U),ui(i,U))}}return g}(i,t,k))}return U}function Bd(i,t,e){const l=i.pendingWriteTree_,d=i.syncPointTree_.findOnPath(t,(g,E)=>{const M=Zo(E,mr(g,t));if(M)return M});return Nd(l,t,d,e,!0)}function Gr(i,t){return Py(t,i.syncPointTree_,null,hf(i.pendingWriteTree_,Bt()))}function Py(i,t,e,o){if(Dt(i.path))return xy(i,t,e,o);{const l=t.get(Bt());null==e&&null!=l&&(e=Zo(l,Bt()));let d=[];const g=It(i.path),E=i.operationForChild(g),D=t.children.get(g);if(D&&E){const M=e?e.getImmediateChild(g):null,U=$0(o,g);d=d.concat(Py(E,D,M,U))}return l&&(d=d.concat(wf(l,i,o,e))),d}}function xy(i,t,e,o){const l=t.get(Bt());null==e&&null!=l&&(e=Zo(l,Bt()));let d=[];return t.children.inorderTraversal((g,E)=>{const D=e?e.getImmediateChild(g):null,M=$0(o,g),U=i.operationForChild(g);U&&(d=d.concat(xy(U,E,D,M)))}),l&&(d=d.concat(wf(l,i,o,e))),d}function Hs(i,t){const e=t.query,o=ui(i,e);return{hashFn:()=>(function Lg(i){return i.viewCache_.serverCache.getNode()}(t)||gt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function J0(i,t,e){const o=Tf(i,e);if(o){const l=Af(o),d=l.path,g=l.queryId,E=mr(d,t);return Hg(i,d,new sc(ka(g),E))}return[]}(i,e._path,o):function Q0(i,t){return Gr(i,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const d=function dw(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(l,e);return bf(i,e,null,d)}}}}function ui(i,t){const e=ci(t);return i.queryToTagMap.get(e)}function ci(i){return i._path.toString()+"$"+i._queryIdentifier}function Tf(i,t){return i.tagToQueryMap.get(t)}function Af(i){const t=i.indexOf("$");return(0,P.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Ut(i.substr(0,t))}}function Hg(i,t,e){const o=i.syncPointTree_.get(t);return(0,P.hu)(o,"Missing sync point for query tag that we're tracking"),wf(o,e,hf(i.pendingWriteTree_,t),null)}function Vd(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function Ay(){return(0,P.hu)(If,"Reference.ts has not been loaded"),If}())(i._repo,i._path):i}class Wg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Wg(e)}node(){return this.node_}}class Sf{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=pn(this.path_,t);return new Sf(this.syncTree_,e)}node(){return Bd(this.syncTree_,this.path_)}}const zg=function(i,t,e){return i&&"object"==typeof i?((0,P.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Oy(i[".sv"],t,e):"object"==typeof i[".sv"]?Mf(i[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Oy=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+i)},Mf=function(i,t,e){i.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,P.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,P.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const g=l.getValue();return"number"!=typeof g?o:g+o},Ny=function(i,t,e,o){return Pf(t,new Sf(e,i),o)},Rf=function(i,t,e){return Pf(i,new Wg(t),e)};function Pf(i,t,e){const o=i.getPriority().val(),l=zg(o,t.getImmediateChild(".priority"),e);let d;if(i.isLeafNode()){const g=i,E=zg(g.getValue(),t,e);return E!==g.getValue()||l!==g.getPriority().val()?new Ku(E,ln(l)):i}{const g=i;return d=g,l!==g.getPriority().val()&&(d=d.updatePriority(new Ku(l))),g.forEachChild(Yt,(E,D)=>{const M=Pf(D,t.getImmediateChild(E),e);M!==D&&(d=d.updateImmediateChild(E,M))}),d}}class xf{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function ql(i,t){let e=t instanceof Ut?t:new Ut(t),o=i,l=It(e);for(;null!==l;){const d=(0,P.DV)(o.node.children,l)||{children:{},childCount:0};o=new xf(l,o,d),e=Zt(e),l=It(e)}return o}function Ba(i){return i.node.value}function Of(i,t){i.node.value=t,Kg(i)}function Gg(i){return i.node.childCount>0}function Hd(i,t){kn(i.node.children,(e,o)=>{t(new xf(e,i,o))})}function Zg(i,t,e,o){e&&!o&&t(i),Hd(i,l=>{Zg(l,t,!0,o)}),e&&o&&t(i)}function hc(i){return new Ut(null===i.parent?i.name:hc(i.parent)+"/"+i.name)}function Kg(i){null!==i.parent&&function iE(i,t,e){const o=function ky(i){return void 0===Ba(i)&&!Gg(i)}(e),l=(0,P.r3)(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,Kg(i)):!o&&!l&&(i.node.children[t]=e.node,i.node.childCount++,Kg(i))}(i.parent,i.name,i)}const sE=/[\[\].#$\/\u0000-\u001F\u007F]/,oE=/[\[\].#$\u0000-\u001F\u007F]/,qg=10485760,Nf=function(i){return"string"==typeof i&&0!==i.length&&!sE.test(i)},Fy=function(i){return"string"==typeof i&&0!==i.length&&!oE.test(i)},$d=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!qh(i)||i&&"object"==typeof i&&(0,P.r3)(i,".sv")},Eo=function(i,t,e,o){o&&void 0===t||Wd((0,P.gK)(i,"value"),t,e)},Wd=function(i,t,e){const o=e instanceof Ut?new B_(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+zr(o));if("function"==typeof t)throw new Error(i+"contains a function "+zr(o)+" with contents = "+t.toString());if(qh(t))throw new Error(i+"contains "+t.toString()+" "+zr(o));if("string"==typeof t&&t.length>qg/3&&(0,P.ug)(t)>qg)throw new Error(i+"contains a string greater than "+qg+" utf8 bytes "+zr(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(kn(t,(g,E)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Nf(g)))throw new Error(i+" contains an invalid key ("+g+") "+zr(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function V_(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,P.ug)(t),_g(i)})(o,g),Wd(i,E,o),function j_(i){const t=i.parts_.pop();i.byteLength_-=(0,P.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),l&&d)throw new Error(i+' contains ".value" child '+zr(o)+" in addition to actual children.")}},Uy=function(i,t,e,o){if(o&&void 0===t)return;const l=(0,P.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];kn(t,(g,E)=>{const D=new Ut(g);if(Wd(l,E,pn(e,D)),".priority"===fg(D)&&!$d(E))throw new Error(l+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(D)}),function(i,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=Wl(o);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Nf(d[g]))throw new Error(i+"contains an invalid key ("+d[g]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(mw);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&Ri(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,d)},Yg=function(i,t,e){if(!e||void 0!==t){if(qh(t))throw new Error((0,P.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$d(t))throw new Error((0,P.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zd=function(i,t,e,o){if(!(o&&void 0===e||Nf(e)))throw new Error((0,P.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gd=function(i,t,e,o){if(!(o&&void 0===e||Fy(e)))throw new Error((0,P.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hs=function(i,t){if(".info"===It(t))throw new Error(i+" failed = Can't modify data under /.info/")},Qg=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Nf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Fy(i)}(e))throw new Error((0,P.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class By{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zd(i,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],d=l.getPath();null!==e&&!mg(d,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&i.eventLists_.push(e)}function kf(i,t,e){Zd(i,e),Jg(i,o=>mg(o,t))}function Oi(i,t,e){Zd(i,e),Jg(i,o=>Ri(o,t)||Ri(t,o))}function Jg(i,t){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];l&&(t(l.path)?(Vy(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function Vy(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const o=e.getEventRunner();Hu&&Nn("event: "+e.toString()),fd(o)}}}const Xg="repo_interrupt";class Hy{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new By,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qn(),this.transactionQueueTree_=new xf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Va(i){const e=i.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Kd(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:Va(i)})}function Wy(i,t,e,o,l){i.dataUpdateCount++;const d=new Ut(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let g=[];if(l)if(o){const D=(0,P.UI)(e,M=>ln(M));g=function My(i,t,e,o){const l=Tf(i,o);if(l){const d=Af(l),g=d.path,E=d.queryId,D=mr(g,t),M=Jt.fromObject(e);return Hg(i,g,new Zl(ka(E),D,M))}return[]}(i.serverSyncTree_,d,D,l)}else{const D=ln(e);g=function X0(i,t,e,o){const l=Tf(i,o);if(null!=l){const d=Af(l),g=d.path,E=d.queryId,D=mr(g,t);return Hg(i,g,new La(ka(E),D,e))}return[]}(i.serverSyncTree_,d,D,l)}else if(o){const D=(0,P.UI)(e,M=>ln(M));g=function dc(i,t,e){const o=Jt.fromObject(e);return Gr(i,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(i.serverSyncTree_,d,D)}else{const D=ln(e);g=cc(i.serverSyncTree_,d,D)}let E=d;g.length>0&&(E=Ql(i,d)),Oi(i.eventQueue_,E,g)}function Yl(i,t){qd(i,"connected",t),!1===t&&function it(i){Qd(i,"onDisconnectEvents");const t=Kd(i),e=Qn();li(i.onDisconnect_,Bt(),(l,d)=>{const g=Ny(l,d,i.serverSyncTree_,t);cs(e,l,g)});let o=[];li(e,Bt(),(l,d)=>{o=o.concat(cc(i.serverSyncTree_,l,d));const g=nm(i,l);Ql(i,g)}),i.onDisconnect_=Qn(),Oi(i.eventQueue_,Bt(),o)}(i)}function qd(i,t,e){const o=new Ut("/.info/"+t),l=ln(e);i.infoData_.updateSnapshot(o,l);const d=cc(i.infoSyncTree_,o,l);Oi(i.eventQueue_,o,d)}function em(i){return i.nextWriteId_++}function Lf(i,t,e,o,l){Qd(i,"set",{path:t.toString(),value:e,priority:o});const d=Kd(i),g=ln(e,o),E=Bd(i.serverSyncTree_,t),D=Rf(g,E,d),M=em(i),U=Df(i.serverSyncTree_,t,D,M,!0);Zd(i.eventQueue_,U),i.server_.put(t.toString(),g.val(!0),(Z,ge)=>{const Pe="ok"===Z;Pe||Wr("set at "+t+" failed: "+Z);const at=Ko(i.serverSyncTree_,M,!Pe);Oi(i.eventQueue_,t,at),qo(0,l,Z,ge)});const k=nm(i,t);Ql(i,k),Oi(i.eventQueue_,k,[])}function cE(i,t,e){i.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&ec(i.onDisconnect_,t),qo(0,e,o,l)})}function Gy(i,t,e,o){const l=ln(e);i.server_.onDisconnectPut(t.toString(),l.val(!0),(d,g)=>{"ok"===d&&cs(i.onDisconnect_,t,l),qo(0,o,d,g)})}function fc(i,t,e){let o;o=".info"===It(t._path)?bf(i.infoSyncTree_,t,e):bf(i.serverSyncTree_,t,e),kf(i.eventQueue_,t._path,o)}function Yd(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Xg)}function Qd(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Nn(e,...t)}function qo(i,t,e,o){t&&fd(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const g=new Error(d);g.code=l,t(g)}})}function tm(i,t,e){return Bd(i.serverSyncTree_,t,e)||gt.EMPTY_NODE}function Jd(i,t=i.transactionQueueTree_){if(t||ja(i,t),Ba(t)){const e=Yy(i,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function Zy(i,t,e){const o=e.map(M=>M.currentWriteId),l=tm(i,t,o);let d=l;const g=l.hash();for(let M=0;M<e.length;M++){const U=e[M];(0,P.hu)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const k=mr(t,U.path);d=d.updateChild(k,U.currentOutputSnapshotRaw)}const E=d.val(!0),D=t;i.server_.put(D.toString(),E,M=>{Qd(i,"transaction put response",{path:D.toString(),status:M});let U=[];if("ok"===M){const k=[];for(let Z=0;Z<e.length;Z++)e[Z].status=2,U=U.concat(Ko(i.serverSyncTree_,e[Z].currentWriteId)),e[Z].onComplete&&k.push(()=>e[Z].onComplete(null,!0,e[Z].currentOutputSnapshotResolved)),e[Z].unwatcher();ja(i,ql(i.transactionQueueTree_,t)),Jd(i,i.transactionQueueTree_),Oi(i.eventQueue_,t,U);for(let Z=0;Z<k.length;Z++)fd(k[Z])}else{if("datastale"===M)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{Wr("transaction at "+D.toString()+" failed: "+M);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=M}Ql(i,t)}},g)}(i,hc(t),e)}else Gg(t)&&Hd(t,e=>{Jd(i,e)})}function Ql(i,t){const e=qy(i,t),o=hc(e);return function Ky(i,t,e){if(0===t.length)return;const o=[];let l=[];const g=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const D=t[E],M=mr(e,D.path);let k,U=!1;if((0,P.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)U=!0,k=D.abortReason,l=l.concat(Ko(i.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)U=!0,k="maxretry",l=l.concat(Ko(i.serverSyncTree_,D.currentWriteId,!0));else{const Z=tm(i,D.path,g);D.currentInputSnapshot=Z;const ge=t[E].update(Z.val());if(void 0!==ge){Wd("transaction failed: Data returned ",ge,D.path);let Pe=ln(ge);"object"==typeof ge&&null!=ge&&(0,P.r3)(ge,".priority")||(Pe=Pe.updatePriority(Z.getPriority()));const At=D.currentWriteId,Ln=Kd(i),Xt=Rf(Pe,Z,Ln);D.currentOutputSnapshotRaw=Pe,D.currentOutputSnapshotResolved=Xt,D.currentWriteId=em(i),g.splice(g.indexOf(At),1),l=l.concat(Df(i.serverSyncTree_,D.path,Xt,D.currentWriteId,D.applyLocally)),l=l.concat(Ko(i.serverSyncTree_,At,!0))}else U=!0,k="nodata",l=l.concat(Ko(i.serverSyncTree_,D.currentWriteId,!0))}Oi(i.eventQueue_,e,l),l=[],U&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&o.push("nodata"===k?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(k),!1,null)))}ja(i,i.transactionQueueTree_);for(let E=0;E<o.length;E++)fd(o[E]);Jd(i,i.transactionQueueTree_)}(i,Yy(i,e),o),o}function qy(i,t){let e,o=i.transactionQueueTree_;for(e=It(t);null!==e&&void 0===Ba(o);)o=ql(o,e),e=It(t=Zt(t));return o}function Yy(i,t){const e=[];return Qy(i,t,e),e.sort((o,l)=>o.order-l.order),e}function Qy(i,t,e){const o=Ba(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Hd(t,l=>{Qy(i,l,e)})}function ja(i,t){const e=Ba(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Of(t,e.length>0?e:void 0)}Hd(t,o=>{ja(i,o)})}function nm(i,t){const e=hc(qy(i,t)),o=ql(i.transactionQueueTree_,t);return function Ly(i,t,e){let o=e?i:i.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{rm(i,l)}),rm(i,o),Zg(o,l=>{rm(i,l)}),e}function rm(i,t){const e=Ba(t);if(e){const o=[];let l=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,P.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,P.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat(Ko(i.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Of(t,void 0):e.length=d+1,Oi(i.eventQueue_,hc(t),l);for(let g=0;g<o.length;g++)fd(o[g])}}const Bf=function(i,t){const e=Jy(i),o=e.namespace;return"firebase.com"===e.domain&&jo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rg(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new Ut(e.pathString)}},Jy=function(i){let t="",e="",o="",l="",d="",g=!0,E="https",D=443;if("string"==typeof i){let M=i.indexOf("//");M>=0&&(E=i.substring(0,M-1),i=i.substring(M+2));let U=i.indexOf("/");-1===U&&(U=i.length);let k=i.indexOf("?");-1===k&&(k=i.length),t=i.substring(0,Math.min(U,k)),U<k&&(l=function pE(i){let t="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}t+="/"+l}return t}(i.substring(U,k)));const Z=function Uf(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Wr(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,k)));M=t.indexOf(":"),M>=0?(g="https"===E||"wss"===E,D=parseInt(t.substring(M+1),10)):M=t.length;const ge=t.slice(0,M);if("localhost"===ge.toLowerCase())e="localhost";else if(ge.split(".").length<=2)e=ge;else{const Pe=t.indexOf(".");o=t.substring(0,Pe).toLowerCase(),e=t.substring(Pe+1),d=o}"ns"in Z&&(d=Z.ns)}return{host:t,port:D,domain:e,subdomain:o,secure:g,scheme:E,pathString:l,namespace:d}};class im{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Pz)(this.snapshot.exportVal())}}class Xy{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pc{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class gc{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return cE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){hs("OnDisconnect.remove",this._path);const t=new P.BH;return Gy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){hs("OnDisconnect.set",this._path),Eo("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return Gy(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){hs("OnDisconnect.setWithPriority",this._path),Eo("OnDisconnect.setWithPriority",t,this._path,!1),Yg("OnDisconnect.setWithPriority",e,!1);const o=new P.BH;return function dE(i,t,e,o,l){const d=ln(e,o);i.server_.onDisconnectPut(t.toString(),d.val(!0),(g,E)=>{"ok"===g&&cs(i.onDisconnect_,t,d),qo(0,l,g,E)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){hs("OnDisconnect.update",this._path),Uy("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function Ff(i,t,e,o){if((0,P.xb)(e))return Nn("onDisconnect().update() called with empty data.  Don't do anything."),void qo(0,o,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&kn(e,(g,E)=>{const D=ln(E);cs(i.onDisconnect_,pn(t,g),D)}),qo(0,o,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class di{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return Dt(this._path)?null:fg(this._path)}get ref(){return new Ni(this._repo,this._path)}get _queryIdentifier(){const t=cf(this._queryParams),e=Yh(t);return"{}"===e?"default":e}get _queryObject(){return cf(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof di))return!1;const e=this._repo===t._repo,o=mg(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function pg(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function Vf(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ha(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===us){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==vo)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(i.hasEnd()){if(i.getIndexEndName()!==Ho)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(i.getIndex()===Yt){if(null!=t&&!$d(t)||null!=e&&!$d(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(i.getIndex()instanceof wg||i.getIndex()===af,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xd(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ni extends di{constructor(t,e){super(t,e,new lf,!1)}get parent(){const t=gg(this._path);return null===t?null:new Ni(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class $a{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ut(t),o=Jl(this.ref,t);return new $a(this._node.getChild(e),o,Yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new $a(l,Jl(this.ref,o),Yt)))}hasChild(t){const e=new Ut(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ev(i,t){return(i=(0,P.m9)(i))._checkNotDeleted("ref"),void 0!==t?Jl(i._root,t):i._root}function sm(i,t){(i=(0,P.m9)(i))._checkNotDeleted("refFromURL");const e=Bf(t,i._repo.repoInfo_.nodeAdmin);Qg("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&jo("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),ev(i,e.path.toString())}function Jl(i,t){return null===It((i=(0,P.m9)(i))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Gd("child","path",e,!1)):Gd("child","path",t,!1),new Ni(i._repo,pn(i._path,t));var e}function tv(i,t){i=(0,P.m9)(i),hs("set",i._path),Eo("set",t,i._path,!1);const e=new P.BH;return Lf(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function jf(i,t){Uy("update",t,i._path,!1);const e=new P.BH;return function ww(i,t,e,o){Qd(i,"update",{path:t.toString(),value:e});let l=!0;const d=Kd(i),g={};if(kn(e,(E,D)=>{l=!1,g[E]=Ny(pn(t,E),ln(D),i.serverSyncTree_,d)}),l)Nn("update() called with empty data.  Don't do anything."),qo(0,o,"ok",void 0);else{const E=em(i),D=function Y0(i,t,e,o){!function vw(i,t,e,o){(0,P.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:o,visible:!0}),i.visibleWrites=Mg(i.visibleWrites,t,e),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o);const l=Jt.fromObject(e);return Gr(i,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(i.serverSyncTree_,t,g,E);Zd(i.eventQueue_,D),i.server_.merge(t.toString(),e,(M,U)=>{const k="ok"===M;k||Wr("update at "+t+" failed: "+M);const Z=Ko(i.serverSyncTree_,E,!k),ge=Z.length>0?Ql(i,t):t;Oi(i.eventQueue_,ge,Z),qo(0,o,M,U)}),kn(e,M=>{const U=nm(i,pn(t,M));Ql(i,U)}),Oi(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function gE(i){return function zy(i,t){const e=function Ry(i,t){const e=t._path;let o=null;i.syncPointTree_.foreachOnPath(e,(M,U)=>{const k=mr(M,e);o=o||Zo(U,k)});let l=i.syncPointTree_.get(e);l?o=o||Zo(l,Bt()):(l=new Ug,i.syncPointTree_=i.syncPointTree_.set(e,l));const d=null!=o,g=d?new zo(o,!0,!1):null;return function yy(i){return Pd(i.viewCache_)}(Vg(l,t,hf(i.pendingWriteTree_,t._path),d?g.getNode():gt.EMPTY_NODE,d))}(i.serverSyncTree_,t);return null!=e?Promise.resolve(e):i.server_.get(t).then(o=>{const l=ln(o).withIndex(t._queryParams.getIndex()),d=cc(i.serverSyncTree_,t._path,l);return kf(i.eventQueue_,t._path,d),Promise.resolve(l)},o=>(Qd(i,"get for query "+(0,P.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,P.m9)(i))._repo,i).then(t=>new $a(t,new Ni(i._repo,i._path),i._queryParams.getIndex()))}class Hf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new im("value",this,new $a(t.snapshotNode,new Ni(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Xy(this,t,e):null}matches(t){return t instanceof Hf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class eh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Xy(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const o=Jl(new Ni(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new im(t.type,this,new $a(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof eh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yo(i,t,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const D=e,M=(U,k)=>{fc(i._repo,i,E),D(U,k)};M.userCallback=e.userCallback,M.context=e.context,e=M}const g=new pc(e,d||void 0),E="value"===t?new Hf(g):new eh(t,g);return function hE(i,t,e){let o;o=".info"===It(t._path)?eE(i.infoSyncTree_,t,e):eE(i.serverSyncTree_,t,e),kf(i.eventQueue_,t._path,o)}(i._repo,i,E),()=>fc(i._repo,i,E)}function om(i,t,e,o){return Yo(i,"value",t,e,o)}function rv(i,t,e,o){return Yo(i,"child_added",t,e,o)}function iv(i,t,e,o){return Yo(i,"child_changed",t,e,o)}function sv(i,t,e,o){return Yo(i,"child_moved",t,e,o)}function ov(i,t,e,o){return Yo(i,"child_removed",t,e,o)}function am(i,t,e){let o=null;const l=e?new pc(e):null;"value"===t?o=new Hf(l):t&&(o=new eh(t,l)),fc(i._repo,i,o)}class $s{}class av extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("endAt",this._value,t._path,!0);const e=bg(t._queryParams,this._value,this._key);if(Xd(e),Ha(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class mE extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("endBefore",this._value,t._path,!1);const e=function Td(i,t,e){let o,l;return i.index_===us?("string"==typeof t&&(t=Dg(t)),l=bg(i,t,e)):(o=null==e?vo:Dg(e),l=bg(i,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Xd(e),Ha(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class uv extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("startAt",this._value,t._path,!0);const e=Ju(t._queryParams,this._value,this._key);if(Xd(e),Ha(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class _E extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("startAfter",this._value,t._path,!1);const e=function Xu(i,t,e){let o;if(i.index_===us)"string"==typeof t&&(t=Ig(t)),o=Ju(i,t,e);else{let l;l=null==e?Ho:Ig(e),o=Ju(i,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Xd(e),Ha(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class yE extends $s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,function R0(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class vE extends $s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,function P0(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fv extends $s{constructor(t){super(),this._path=t}_apply(t){Vf(t,"orderByChild");const e=new Ut(this._path);if(Dt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new wg(e),l=uf(t._queryParams,o);return Ha(l),new di(t._repo,t._path,l,!0)}}class CE extends $s{_apply(t){Vf(t,"orderByKey");const e=uf(t._queryParams,us);return Ha(e),new di(t._repo,t._path,e,!0)}}class um extends $s{_apply(t){Vf(t,"orderByPriority");const e=uf(t._queryParams,Yt);return Ha(e),new di(t._repo,t._path,e,!0)}}class pv extends $s{_apply(t){Vf(t,"orderByValue");const e=uf(t._queryParams,af);return Ha(e),new di(t._repo,t._path,e,!0)}}class bE extends $s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Eo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new av(this._value,this._key)._apply(new uv(this._value,this._key)._apply(t))}}function Ws(i,...t){let e=(0,P.m9)(i);for(const o of t)e=o._apply(e);return e}(function Bg(i){(0,P.hu)(!Cf,"__referenceConstructor has already been defined"),Cf=i})(Ni),function Jn(i){(0,P.hu)(!If,"__referenceConstructor has already been defined"),If=i}(Ni);const cm={};function dm(i,t,e,o,l){let d=o||i.options.databaseURL;void 0===d&&(i.options.projectId||jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nn("Using default host for project ",i.options.projectId),d=`${i.options.projectId}-default-rtdb.firebaseio.com`);let D,M,g=Bf(d,l),E=g.repoInfo;"undefined"!=typeof process&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(D=!0,d=`http://${M}?ns=${E.namespace}`,g=Bf(d,l),E=g.repoInfo):D=!g.repoInfo.secure;const U=l&&D?new Wu(Wu.OWNER):new c0(i.name,i.options,t);Qg("Invalid Firebase Database URL",g),Dt(g.path)||jo("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function ME(i,t,e,o){let l=cm[t.name];l||(l={},cm[t.name]=l);let d=l[i.toURLString()];return d&&jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Hy(i,false,e,o),l[i.toURLString()]=d,d}(E,i,U,new Qp(i.name,e));return new _v(k,i)}class _v{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $y(i,t,e){if(i.stats_=Pa(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new xi(i.repoInfo_,(o,l,d,g)=>{Wy(i,o,l,d,g)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Yl(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Wo(i.repoInfo_,t,(o,l,d,g)=>{Wy(i,o,l,d,g)},o=>{Yl(i,o)},o=>{!function Cw(i,t){kn(t,(e,o)=>{qd(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function d0(i,t){const e=i.toString();return Hl[e]||(Hl[e]=t()),Hl[e]}(i.repoInfo_,()=>new ic(i.stats_,i.server_)),i.infoData_=new Ad,i.infoSyncTree_=new Sy({startListening:(o,l,d,g)=>{let E=[];const D=i.infoData_.getNode(o._path);return D.isEmpty()||(E=cc(i.infoSyncTree_,o._path,D),setTimeout(()=>{g("ok")},0)),E},stopListening:()=>{}}),qd(i,"connected",!1),i.serverSyncTree_=new Sy({startListening:(o,l,d,g)=>(i.server_.listen(o,d,l,(E,D)=>{const M=g(E,D);Oi(i.eventQueue_,o._path,M)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,Bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function mv(i,t){const e=cm[t];(!e||e[i.key]!==i)&&jo(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Yd(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&jo("Cannot call "+t+" on a deleted database.")}}function fm(i,t){dd(i,t)}const pm={".sv":"timestamp"};class gm{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wo.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Wo.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function yv(i){as(Fl.SDK_VERSION),(0,Fl._registerComponent)(new kl.wA("database",(t,{instanceIdentifier:e})=>dm(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Fl.registerVersion)(Kp,"0.12.8",i),(0,Fl.registerVersion)(Kp,"0.12.8","esm2017")}();const Ev=new ld.Yd("@firebase/database-compat"),FE=function(i){Ev.warn("FIREBASE WARNING: "+i)};class BE{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),d=>o(d)),l}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,FE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class _c{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fs{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Gd("DataSnapshot.child","path",t,!1),new fs(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Gd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new fs(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new ps(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var d;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const g=yr.getCancelAndContextArgs_("Query.on",o,l),E=(M,U)=>{e.call(g.context,new fs(this.database,M),U)};E.userCallback=e,E.context=g.context;const D=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return om(this._delegate,E,D),e;case"child_added":return rv(this._delegate,E,D),e;case"child_removed":return ov(this._delegate,E,D),e;case"child_changed":return iv(this._delegate,E,D),e;case"child_moved":return sv(this._delegate,E,D),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,P.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,am(this._delegate,t,l)}else am(this._delegate,t)}get(){return gE(this._delegate).then(t=>new fs(this.database,t))}once(t,e,o,l){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const d=yr.getCancelAndContextArgs_("Query.once",o,l),g=new P.BH,E=(M,U)=>{const k=new fs(this.database,M);e&&e.call(d.context,k,U),g.resolve(k)};E.userCallback=e,E.context=d.context;const D=M=>{d.cancel&&d.cancel.call(d.context,M),g.reject(M)};switch(t){case"value":om(this._delegate,E,D,{onlyOnce:!0});break;case"child_added":rv(this._delegate,E,D,{onlyOnce:!0});break;case"child_removed":ov(this._delegate,E,D,{onlyOnce:!0});break;case"child_changed":iv(this._delegate,E,D,{onlyOnce:!0});break;case"child_moved":sv(this._delegate,E,D,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new yr(this.database,Ws(this._delegate,function lm(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yE(i)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new yr(this.database,Ws(this._delegate,function hv(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vE(i)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new yr(this.database,Ws(this._delegate,function EE(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gd("orderByChild","path",i,!1),new fv(i)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new yr(this.database,Ws(this._delegate,function wE(){return new CE}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new yr(this.database,Ws(this._delegate,function IE(){return new um}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new yr(this.database,Ws(this._delegate,function DE(){return new pv}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new yr(this.database,Ws(this._delegate,function cv(i=null,t){return zd("startAt","key",t,!0),new uv(i,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new yr(this.database,Ws(this._delegate,function dv(i,t){return zd("startAfter","key",t,!0),new _E(i,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new yr(this.database,Ws(this._delegate,function mc(i,t){return zd("endAt","key",t,!0),new av(i,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new yr(this.database,Ws(this._delegate,function lv(i,t){return zd("endBefore","key",t,!0),new mE(i,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new yr(this.database,Ws(this._delegate,function TE(i,t){return zd("equalTo","key",t,!0),new bE(i,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof yr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,P.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,P.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new ps(this.database,new Ni(this._delegate._repo,this._delegate._path))}}class ps extends yr{constructor(t,e){super(t,new di(e._repo,e._path,new lf,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ps(this.database,Jl(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ps(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new ps(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const o=tv(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,FE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hs("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const o=jf(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function nv(i,t,e){if(hs("setWithPriority",i._path),Eo("setWithPriority",t,i._path,!1),Yg("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new P.BH;return Lf(i._repo,i._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),d=>o(d)),l}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function bw(i){return hs("remove",i._path),tv(i,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function kE(i,t,e){var o;if(i=(0,P.m9)(i),hs("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,d=new P.BH,E=om(i,()=>{});return function fE(i,t,e,o,l,d){Qd(i,"transaction on "+t);const g={path:t,update:e,onComplete:o,status:null,order:Kh(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=tm(i,t,void 0);g.currentInputSnapshot=E;const D=g.update(E.val());if(void 0===D)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Wd("transaction failed: Data returned ",D,g.path),g.status=0;const M=ql(i.transactionQueueTree_,t),U=Ba(M)||[];let k;U.push(g),Of(M,U),"object"==typeof D&&null!==D&&(0,P.r3)(D,".priority")?(k=(0,P.DV)(D,".priority"),(0,P.hu)($d(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(Bd(i.serverSyncTree_,t)||gt.EMPTY_NODE).getPriority().val();const Z=Kd(i),ge=ln(D,k),Pe=Rf(ge,E,Z);g.currentOutputSnapshotRaw=ge,g.currentOutputSnapshotResolved=Pe,g.currentWriteId=em(i);const at=Df(i.serverSyncTree_,t,Pe,g.currentWriteId,g.applyLocally);Oi(i.eventQueue_,t,at),Jd(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(D,M,U)=>{let k=null;D?d.reject(D):(k=new $a(U,new Ni(i._repo,i._path),Yt),d.resolve(new gm(M,k)))},E,l),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new _c(d.committed,new fs(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const o=function Tw(i,t){i=(0,P.m9)(i),hs("setPriority",i._path),Yg("setPriority",t,!1);const e=new P.BH;return Lf(i._repo,pn(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const o=function Dw(i,t){i=(0,P.m9)(i),hs("push",i._path),Eo("push",t,i._path,!0);const e=Va(i._repo),o=ey(e),l=Jl(i,o),d=Jl(i,o);let g;return g=null!=t?tv(d,t).then(()=>d):Promise.resolve(d),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}(this._delegate,t),l=o.then(g=>new ps(this.database,g));e&&l.then(()=>e(null),g=>e(g));const d=new ps(this.database,o);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return hs("Reference.onDisconnect",this._delegate._path),new BE(new gc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class yc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function PE(i,t,e,o={}){(i=(0,P.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&jo("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let d;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Wu(Wu.OWNER);else if(o.mockUserToken){const g="string"==typeof o.mockUserToken?o.mockUserToken:(0,P.Sg)(o.mockUserToken,i.app.options.projectId);d=new Wu(g)}!function SE(i,t,e,o){i.repoInfo_=new rg(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(l,t,e,d)}(this._delegate,t,e,o)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof ps){const e=sm(this._delegate,t.toString());return new ps(this,e)}{const e=ev(this._delegate,t);return new ps(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const o=sm(this._delegate,t);return new ps(this,o)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function xE(i){(i=(0,P.m9)(i))._checkNotDeleted("goOffline"),Yd(i._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function hm(i){(i=(0,P.m9)(i))._checkNotDeleted("goOnline"),function Dn(i){i.persistentConnection_&&i.persistentConnection_.resume(Xg)}(i._repo)}(this._delegate)}}yc.ServerValue={TIMESTAMP:function OE(){return pm}(),increment:i=>function NE(i){return{".sv":{increment:i}}}(i)};var jE=Object.freeze({__proto__:null,initStandalone:function VE({app:i,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:d=!1}){as(e);const g=new kl.zt("auth-internal",new kl.H0("database-standalone"));return g.setComponent(new kl.wA("auth-internal",()=>o,"PRIVATE")),{instance:new yc(dm(i,g,void 0,t,d),i),namespace:l}}});const HE=yc.ServerValue;!function $E(i){i.INTERNAL.registerComponent(new kl.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new yc(l,o)},"PUBLIC").setServiceProps({Reference:ps,Query:yr,Database:yc,DataSnapshot:fs,enableLogging:fm,INTERNAL:jE,ServerValue:HE}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.8")}(g_.Z);var th=x(5363),Cv=x(6063);class mm extends On.x{constructor(t=1/0,e=1/0,o=Cv.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:g}=this;e||(o.push(t),!l&&o.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,d=l.slice();for(let g=0;g<d.length&&!t.closed;g+=o?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<o.length&&o.splice(0,o.length-d),!l){const g=e.now();let E=0;for(let D=1;D<o.length&&o[D]<=g;D+=2)E=D;E&&o.splice(0,E+1)}}}function nh(i,t,e){let o,l=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=i):o=null!=i?i:1/0,(0,f_.B)({connector:()=>new mm(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function vc(i,t){return(0,Po.m)(t)?nn(()=>i,t):nn(()=>i)}var _m=x(9468);x(5867);const Cm=new Map,wm={activated:!1,tokenObservers:[]},qE={initialized:!1,enabled:!1};function ir(i){return Cm.get(i)||wm}function zs(i,t){Cm.set(i,t)}function Wf(){return qE}class sh{constructor(t,e,o,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ll.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function Iv(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Rr=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dm(i){if(!ir(i).activated)throw Rr.create("use-before-activation",{appName:i.name})}function Tm(i,t){return Am.apply(this,arguments)}function Am(){return(Am=(0,Ll.Z)(function*({url:i,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const k=yield l.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const d={method:"POST",body:JSON.stringify(t),headers:o};let g,E;try{g=yield fetch(i,d)}catch(k){throw Rr.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==g.status)throw Rr.create("fetch-status-error",{httpStatus:g.status});try{E=yield g.json()}catch(k){throw Rr.create("fetch-parse-error",{originalErrorMessage:k.message})}const D=E.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const M=1e3*Number(D[1]),U=Date.now();return{token:E.attestationToken,expireTimeMillis:U+M,issuedAtTimeMillis:U}})).apply(this,arguments)}function ah(i,t){const{projectId:e,appId:o,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const hi="firebase-app-check-store";let Cc=null;function wc(){return Cc||(Cc=new Promise((i,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{i(o.target.result)},e.onerror=o=>{var l;t(Rr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(hi,{keyPath:"compositeKey"})}}catch(e){t(Rr.create("storage-open",{originalErrorMessage:e.message}))}}),Cc)}function Mm(){return(Mm=(0,Ll.Z)(function*(i,t){const o=(yield wc()).transaction(hi,"readwrite"),d=o.objectStore(hi).put({compositeKey:i,value:t});return new Promise((g,E)=>{d.onsuccess=D=>{g()},o.onerror=D=>{var M;E(Rr.create("storage-set",{originalErrorMessage:null===(M=D.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const Xl=new ld.Yd("@firebase/app-check");function Sv(i,t){return(0,P.hl)()?function sC(i,t){return function lh(i,t){return Mm.apply(this,arguments)}(function Rm(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{Xl.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Kf(){return Wf().enabled}function xm(){return ch.apply(this,arguments)}function ch(){return(ch=(0,Ll.Z)(function*(){const i=Wf();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aC={error:"UNKNOWN_ERROR"};function lC(i){return P.US.encodeString(JSON.stringify(i),!1)}function qf(i){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Ll.Z)(function*(i,t=!1){const e=i.app;Dm(e);const o=ir(e);let d,l=o.token;if(!l){const D=yield o.cachedTokenPromise;D&&hh(D)&&(l=D)}if(!t&&l&&hh(l))return{token:l.token};let E,g=!1;if(Kf()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Tm(ah(e,yield xm()),i.heartbeatServiceProvider).then(M=>(o.exchangeTokenPromise=void 0,M)),g=!0);const D=yield o.exchangeTokenPromise;return yield Sv(e,D),zs(e,Object.assign(Object.assign({},o),{token:D})),{token:D.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(D=>(o.exchangeTokenPromise=void 0,D)),g=!0),l=yield o.exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?Xl.warn(D.message):Xl.error(D),d=D}return l?(E={token:l.token},zs(e,Object.assign(Object.assign({},o),{token:l})),yield Sv(e,l)):E=cC(d),g&&Lm(e,E),E})).apply(this,arguments)}function dh(i,t){const e=ir(i),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),zs(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function km(i){const{app:t}=i,e=ir(t);let o=e.tokenRefresher;o||(o=function uC(i){const{app:t}=i;return new sh((0,Ll.Z)(function*(){let o;if(o=ir(t).token?yield qf(i,!0):yield qf(i),o.error)throw o.error}),()=>!0,()=>{const e=ir(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),zs(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Lm(i,t){const e=ir(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function hh(i){return i.expireTimeMillis-Date.now()>0}function cC(i){return{token:lC(aC),error:i}}class Mv{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ir(this.app);for(const e of t)dh(this.app,e.next);return Promise.resolve()}}const Fv="app-check-internal";!function jm(){(0,Fl._registerComponent)(new kl.wA("app-check",i=>function Rv(i,t){return new Mv(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(Fv).initialize()})),(0,Fl._registerComponent)(new kl.wA(Fv,i=>function dC(i){return{getToken:t=>qf(i,t),addTokenListener:t=>function Yf(i,t,e,o){const{app:l}=i,d=ir(l),g={next:e,error:o,type:t};if(zs(l,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&hh(d.token)){const E=d.token;Promise.resolve().then(()=>{e({token:E.token}),km(i)}).catch(()=>{})}d.cachedTokenPromise.then(()=>km(i))}(i,"INTERNAL",t),removeTokenListener:t=>dh(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fl.registerVersion)("@firebase/app-check","0.5.6")}();class Hm{constructor(){return(0,Si.vb)("app-check")}}"undefined"!=typeof window&&window;var Vv=x(127);const $m=new p.OlP("angularfire2.auth.use-emulator"),SC=new p.OlP("angularfire2.auth.settings"),MC=new p.OlP("angularfire2.auth.tenant-id"),RC=new p.OlP("angularfire2.auth.langugage-code"),PC=new p.OlP("angularfire2.auth.use-device-language"),xC=new p.OlP("angularfire.auth.persistence"),OC=(i,t,e,o,l,d,g,E)=>(0,Ls.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=t.runOutsideAngular(()=>i.auth());if(e&&D.useEmulator(...e),o&&(D.tenantId=o),D.languageCode=l,d&&D.useDeviceLanguage(),g)for(const[M,U]of Object.entries(g))D.settings[M]=U;return E&&D.setPersistence(E),D},[e,o,l,d,g,E]);let jv=(()=>{class i{constructor(e,o,l,d,g,E,D,M,U,k,Z,ge){const Pe=new On.x,at=rt(void 0).pipe((0,th.Q)(g.outsideAngular),nn(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,820)))),(0,Mt.U)(()=>(0,Ls.on)(e,d,o)),(0,Mt.U)(At=>OC(At,d,E,M,U,k,D,Z)),nh({bufferSize:1,refCount:!1}));if(function jn(i){return"server"===i}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{at.pipe(ns()).subscribe();const Ln=at.pipe(nn(gn=>gn.getRedirectResult().then(Gs=>Gs,()=>null)),Si.iC,nh({bufferSize:1,refCount:!1})),Xt=at.pipe(nn(gn=>new Dr.y(Gs=>({unsubscribe:d.runOutsideAngular(()=>gn.onAuthStateChanged(Wa=>Gs.next(Wa),Wa=>Gs.error(Wa),()=>Gs.complete()))})))),Pr=at.pipe(nn(gn=>new Dr.y(Gs=>({unsubscribe:d.runOutsideAngular(()=>gn.onIdTokenChanged(Wa=>Gs.next(Wa),Wa=>Gs.error(Wa),()=>Gs.complete()))}))));this.authState=Ln.pipe(vc(Xt),(0,_m.R)(g.outsideAngular),(0,th.Q)(g.insideAngular)),this.user=Ln.pipe(vc(Pr),(0,_m.R)(g.outsideAngular),(0,th.Q)(g.insideAngular)),this.idToken=this.user.pipe(nn(gn=>gn?(0,zn.D)(gn.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(nn(gn=>gn?(0,zn.D)(gn.getIdTokenResult()):rt(null))),this.credential=(0,Zp.T)(Ln,Pe,this.authState.pipe(As(gn=>!gn))).pipe((0,Mt.U)(gn=>(null==gn?void 0:gn.user)?gn:null),(0,_m.R)(g.outsideAngular),(0,th.Q)(g.insideAngular))}return(0,Ls.pX)(this,at,d,{spy:{apply:(At,Ln,Xt)=>{(At.startsWith("signIn")||At.startsWith("createUser"))&&Xt.then(Pr=>Pe.next(Pr))}}})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Ls.Dh),p.LFG(Ls.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Si.HU),p.LFG($m,8),p.LFG(SC,8),p.LFG(MC,8),p.LFG(RC,8),p.LFG(PC,8),p.LFG(xC,8),p.LFG(Hm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Vw=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",Si.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[jv]}),i})();function Wm(i){return null==i}function np(i){return"function"==typeof i.set}function zm(i,t){return np(t)?t:i.ref(t)}function Gm(i,t){if(function tp(i){return"string"==typeof i}(i))return t.stringCase();if(np(i))return t.firebaseCase();if(function jw(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function rp(i,t,e="on",o=h_.z){return new Dr.y(l=>{let d=null;return d=i[e](t,(g,E)=>{o.schedule(()=>{l.next({snapshot:g,prevKey:E})}),"once"===e&&o.schedule(()=>l.complete())},g=>{o.schedule(()=>l.error(g))}),"on"===e?{unsubscribe(){null!=d&&i.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Mt.U)(l=>{const{snapshot:d,prevKey:g}=l;let E=null;return d.exists()&&(E=d.key),{type:t,payload:d,prevKey:g,key:E}}),(0,f_.B)())}function Km(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function Hv(i,t){const{payload:e,prevKey:o,key:l}=t,d=Km(i,l),g=function NC(i,t){if(Wm(t))return 0;{const e=Km(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(D=>{const M={payload:D,type:"value",prevKey:E,key:D.key};return E=D.key,i=[...i,M],!1})}return i;case"child_added":if(d>-1){const E=i[d-1];(E&&E.key||null)!==o&&(i=i.filter(D=>D.payload.key!==e.key)).splice(g,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(g,0,t)}return i;case"child_removed":return i.filter(E=>E.payload.key!==e.key);case"child_changed":return i.map(E=>E.payload.key===l?t:E);case"child_moved":if(d>-1){const E=i.splice(d,1)[0];return(i=i.slice()).splice(g,0,E),i}return i;default:return i}}function kC(i){return(Wm(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function $v(i,t,e){return function Zm(i,t,e){return rp(i,"value","once",e).pipe(nn(o=>{const l=[rt(o)];return t.forEach(d=>l.push(rp(i,d,"on",e))),(0,Zp.T)(...l).pipe(tr(Hv,[]))}),function Fs(i,t=pr.y){return i=null!=i?i:e0,(0,Gn.e)((e,o)=>{let l,d=!0;e.subscribe((0,fn.x)(o,g=>{const E=t(g);(d||!i(l,E))&&(d=!1,l=E,o.next(g))}))})}())}(i,t=kC(t),e)}function Wv(i,t,e){const o=(t=kC(t)).map(l=>rp(i,l,"on",e));return(0,Zp.T)(...o)}function FC(i,t){return function(o,l){return Gm(o,{stringCase:()=>i.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function $w(i){return function(e){return e?Gm(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function zv(i,t){return function(){return rp(i,"value","on",t)}}const Ww=new p.OlP("angularfire2.realtimeDatabaseURL"),VC=new p.OlP("angularfire2.database.use-emulator");let Ym=(()=>{class i{constructor(e,o,l,d,g,E,D,M,U,k,Z,ge,Pe,at,At){this.schedulers=E;const Ln=D,Xt=(0,Ls.on)(e,g,o);M&&OC(Xt,g,U,Z,ge,Pe,k,at),this.database=(0,Ls.cc)(`${Xt.name}.database.${l}`,"AngularFireDatabase",Xt.name,()=>{const Pr=g.runOutsideAngular(()=>Xt.database(l||void 0));return Ln&&Pr.useEmulator(...Ln),Pr},[Ln])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>zm(this.database,e));let d=l;return o&&(d=o(l)),function UC(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:FC(o,"update"),set:FC(o,"set"),push:l=>o.push(l),remove:$w(o),snapshotChanges:l=>$v(i,l,e).pipe(Si.iC),stateChanges:l=>Wv(i,l,e).pipe(Si.iC),auditTrail:l=>function qm(i,t,e){return function Hw(i,t,e){return function LC(i,t){return rp(i,"value","on",t).pipe((0,Mt.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function t0(...i){const t=(0,hn.jO)(i);return(0,Gn.e)((e,o)=>{const l=i.length,d=new Array(l);let g=i.map(()=>!1),E=!1;for(let D=0;D<l;D++)(0,oo.Xf)(i[D]).subscribe((0,fn.x)(o,M=>{d[D]=M,!E&&!g[D]&&(g[D]=!0,(E=g.every(pr.y))&&(g=null))},p_.Z));e.subscribe((0,fn.x)(o,D=>{if(E){const M=[D,...d];o.next(t?t(...M):M)}}))})}(t),(0,Mt.U)(([l,d])=>{const g=l.lastKeyToLoad,E=d.map(D=>D.key);return{actions:d,lastKeyToLoad:g,loadedKeys:E}}),function n0(i){return(0,Gn.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,fn.x)(e,d=>(o||(o=!i(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,Mt.U)(l=>l.actions))}(i,Wv(i,t).pipe(tr((l,d)=>[...l,d],[])),e)}(i,l,e).pipe(Si.iC),valueChanges:(l,d)=>$v(i,l,e).pipe((0,Mt.U)(E=>E.map(D=>d&&d.idField?Object.assign(Object.assign({},D.payload.val()),{[d.idField]:D.key}):D.payload.val())),Si.iC)}}(d,this)}object(e){return function BC(i,t){return{query:i,snapshotChanges:()=>zv(i,t.schedulers.outsideAngular)().pipe(Si.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>zv(i,t.schedulers.outsideAngular)().pipe(Si.iC,(0,Mt.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zm(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Ls.Dh),p.LFG(Ls.xv,8),p.LFG(Ww,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Si.HU),p.LFG(VC,8),p.LFG(jv,8),p.LFG($m,8),p.LFG(SC,8),p.LFG(MC,8),p.LFG(RC,8),p.LFG(PC,8),p.LFG(xC,8),p.LFG(Hm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),jC=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",Si.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[Ym]}),i})();const gs_firebase={apiKey:"AIzaSyBcm_PfHti8Q9wSD_5NmQUUlXtYTP0uthg",authDomain:"hadinayebigh.firebaseapp.com",projectId:"hadinayebigh",storageBucket:"hadinayebigh.appspot.com",messagingSenderId:"893974835307",appId:"1:893974835307:web:5eea914958c6895bd8012e",measurementId:"G-J6JN9XL81Q"};let HC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i,bootstrap:[d_]}),i.\u0275inj=p.cJS({providers:[],imports:[[Mo,l_,Ls.hO.initializeApp(gs_firebase),jC,Vw]]}),i})();(0,p.G48)(),nl().bootstrapModule(HC).catch(i=>console.error(i))},5867:(Ge,ve,x)=>{x.d(ve,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=x(9681);(0,p.registerVersion)("firebase","9.6.11","app")},127:(Ge,ve,x)=>{x.d(ve,{Z:()=>p.Z});var p=x(3942);p.Z.registerVersion("firebase","9.6.11","app-compat")},820:(Ge,ve,x)=>{x.r(ve);var p=x(5861),q=x(3942),O=x(2090),se=x(9681),J=x(655),de=x(1877),ie=x(4859);const Ae=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new de.Yd("@firebase/auth");function Ue(m,...c){$e.logLevel<=de.in.ERROR&&$e.error(`Auth (${se.SDK_VERSION}): ${m}`,...c)}function Ee(m,...c){throw Ne(m,...c)}function pe(m,...c){return Ne(m,...c)}function me(m,c,f){const y=Object.assign(Object.assign({},Re()),{[c]:f});return new O.LL("auth","Firebase",y).create(c,{appName:m.name})}function ke(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ee(m,"argument-error"),me(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(m,...c){if("string"!=typeof m){const f=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(f,...y)}return ce.create(m,...c)}function ee(m,c,...f){if(!m)throw Ne(c,...f)}function z(m){const c="INTERNAL ASSERTION FAILED: "+m;throw Ue(c),new Error(c)}function te(m,c){m||z(c)}const he=new Map;function ne(m){te(m instanceof Function,"Expected a class definition");let c=he.get(m);return c?(te(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,he.set(m,c),c)}function lt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Pt(){return"http:"===un()||"https:"===un()}function un(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Vt{constructor(c,f){this.shortDelay=c,this.longDelay=f,te(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ze(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jt(m,c){te(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class xr{static initialize(c,f,y){this.fetchImpl=c,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kr=new Vt(3e4,6e4);function xt(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function Et(m,c,f,y){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(function*(m,c,f,y,b={}){return sr(m,b,(0,p.Z)(function*(){let R={},W={};y&&("GET"===c?W=y:R={body:JSON.stringify(y)});const re=(0,O.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Oe=yield m._getAdditionalHeaders();return Oe["Content-Type"]="application/json",m.languageCode&&(Oe["X-Firebase-Locale"]=m.languageCode),xr.fetch()(er(m,m.config.apiHost,f,re),Object.assign({method:c,headers:Oe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function sr(m,c,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(m,c,f){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ot),c);try{const b=new fi(m),R=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Yr(m,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const re=R.ok?W.errorMessage:W.error.message,[Oe,He]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw Yr(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Oe)throw Yr(m,"email-already-in-use",W);const tt=y[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw me(m,tt,He);Ee(m,tt)}}catch(b){if(b instanceof O.ZR)throw b;Ee(m,"network-request-failed")}})).apply(this,arguments)}function Xn(m,c,f,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(m,c,f,y,b={}){const R=yield Et(m,c,f,y,b);return"mfaPendingCredential"in R&&Ee(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function er(m,c,f,y){const b=`${c}${f}?${y}`;return m.config.emulator?jt(m.config,b):`${m.config.apiScheme}://${b}`}class fi{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(pe(this.auth,"network-request-failed")),Kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(m,c,f){const y={appName:m.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const b=pe(m,c,y);return b.customData._tokenResponse=f,b}function or(){return(or=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function bn(m,c){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function vr(m,c){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function zt(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function Ks(){return(Ks=(0,p.Z)(function*(m,c=!1){const f=(0,O.m9)(m),y=yield f.getIdToken(c),b=ze(y);ee(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const R="object"==typeof b.firebase?b.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:b,token:y,authTime:zt(Ct(b.auth_time)),issuedAtTime:zt(Ct(b.iat)),expirationTime:zt(Ct(b.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ct(m){return 1e3*Number(m)}function ze(m){const[c,f,y]=m.split(".");if(void 0===c||void 0===f||void 0===y)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.tV)(f);return b?JSON.parse(b):(Ue("Failed to decode base64 JWT payload"),null)}catch(b){return Ue("Caught error parsing JWT payload as JSON",b),null}}function Mn(m,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(y){throw y instanceof O.ZR&&wt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function wt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ms{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),y)}iteration(){var c=this;return(0,p.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class Fn{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(m){var c;const f=m.auth,y=yield m.getIdToken(),b=yield Mn(m,vr(f,{idToken:y}));ee(null==b?void 0:b.users.length,f,"internal-error");const R=b.users[0];m._notifyReloadListener(R);const W=(null===(c=R.providerUserInfo)||void 0===c?void 0:c.length)?Ce(R.providerUserInfo):[],re=Be(m.providerData,W),tt=!!m.isAnonymous&&!(m.email&&R.passwordHash||(null==re?void 0:re.length)),Ke={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:re,metadata:new Fn(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(m,Ke)})).apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(m){const c=(0,O.m9)(m);yield Rn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Be(m,c){return[...m.filter(y=>!c.some(b=>b.providerId===y.providerId)),...c]}function Ce(m){return m.map(c=>{var{providerId:f}=c,y=(0,J._T)(c,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Qe(){return(Qe=(0,p.Z)(function*(m,c){const f=yield sr(m,{},(0,p.Z)(function*(){const y=(0,O.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:b,apiKey:R}=m.config,W=er(m,b,"/v1/token",`key=${R}`),re=yield m._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",xr.fetch()(W,{method:"POST",headers:re,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(void 0!==c.idToken,"internal-error"),ee(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function st(m){const c=ze(m);return ee(c,"internal-error"),ee(void 0!==c.exp,"internal-error"),ee(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var y=this;return(0,p.Z)(function*(){return ee(!y.accessToken||y.refreshToken,c,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var y=this;return(0,p.Z)(function*(){const{accessToken:b,refreshToken:R,expiresIn:W}=yield function Ve(m,c){return Qe.apply(this,arguments)}(c,f);y.updateTokensAndExpiration(b,R,Number(W))})()}updateTokensAndExpiration(c,f,y){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,f){const{refreshToken:y,accessToken:b,expirationTime:R}=f,W=new vt;return y&&(ee("string"==typeof y,"internal-error",{appName:c}),W.refreshToken=y),b&&(ee("string"==typeof b,"internal-error",{appName:c}),W.accessToken=b),R&&(ee("number"==typeof R,"internal-error",{appName:c}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return z("not implemented")}}function mt(m,c){ee("string"==typeof m||void 0===m,"internal-error",{appName:c})}class B{constructor(c){var{uid:f,auth:y,stsTokenManager:b}=c,R=(0,J._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Fn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,p.Z)(function*(){const y=yield Mn(f,f.stsTokenManager.getToken(f.auth,c));return ee(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(c){return function pi(m){return Ks.apply(this,arguments)}(this,c)}reload(){return function Un(m){return yt.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new B(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var y=this;return(0,p.Z)(function*(){let b=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),b=!0),f&&(yield Rn(y)),yield y.auth._persistUserIfCurrent(y),b&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,p.Z)(function*(){const f=yield c.getIdToken();return yield Mn(c,function qe(m,c){return or.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var y,b,R,W,re,Oe,He,tt;const Ke=null!==(y=f.displayName)&&void 0!==y?y:void 0,an=null!==(b=f.email)&&void 0!==b?b:void 0,ai=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,Nl=null!==(W=f.photoURL)&&void 0!==W?W:void 0,Sa=null!==(re=f.tenantId)&&void 0!==re?re:void 0,Ma=null!==(Oe=f._redirectEventId)&&void 0!==Oe?Oe:void 0,id=null!==(He=f.createdAt)&&void 0!==He?He:void 0,Np=null!==(tt=f.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:yo,emailVerified:ku,isAnonymous:Lu,providerData:sd,stsTokenManager:Fu}=f;ee(yo&&Fu,c,"internal-error");const Hr=vt.fromJSON(this.name,Fu);ee("string"==typeof yo,c,"internal-error"),mt(Ke,c.name),mt(an,c.name),ee("boolean"==typeof ku,c,"internal-error"),ee("boolean"==typeof Lu,c,"internal-error"),mt(ai,c.name),mt(Nl,c.name),mt(Sa,c.name),mt(Ma,c.name),mt(id,c.name),mt(Np,c.name);const od=new B({uid:yo,auth:c,email:an,emailVerified:ku,displayName:Ke,isAnonymous:Lu,photoURL:Nl,phoneNumber:ai,tenantId:Sa,stsTokenManager:Hr,createdAt:id,lastLoginAt:Np});return sd&&Array.isArray(sd)&&(od.providerData=sd.map($h=>Object.assign({},$h))),Ma&&(od._redirectEventId=Ma),od}static _fromIdTokenResponse(c,f,y=!1){return(0,p.Z)(function*(){const b=new vt;b.updateFromServerResponse(f);const R=new B({uid:f.localId,auth:c,stsTokenManager:b,isAnonymous:y});return yield Rn(R),R})()}}const $=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,y){var b=this;return(0,p.Z)(function*(){b.storage[f]=y})()}_get(f){var y=this;return(0,p.Z)(function*(){const b=y.storage[f];return void 0===b?null:b})()}_remove(f){var y=this;return(0,p.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return m.type="NONE",m})();function le(m,c,f){return`firebase:${m}:${c}:${f}`}class Y{constructor(c,f,y){this.persistence=c,this.auth=f,this.userKey=y;const{config:b,name:R}=this.auth;this.fullUserKey=le(this.userKey,b.apiKey,R),this.fullPersistenceKey=le("persistence",b.apiKey,R),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,p.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?B._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,p.Z)(function*(){if(f.persistence===c)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,y="authUser"){return(0,p.Z)(function*(){if(!f.length)return new Y(ne($),c,y);const b=(yield Promise.all(f.map(function(){var He=(0,p.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return He.apply(this,arguments)}}()))).filter(He=>He);let R=b[0]||ne($);const W=le(y,c.config.apiKey,c.name);let re=null;for(const He of f)try{const tt=yield He._get(W);if(tt){const Ke=B._fromJSON(c,tt);He!==R&&(re=Ke),R=He;break}}catch(tt){}const Oe=b.filter(He=>He._shouldAllowMigration);return R._shouldAllowMigration&&Oe.length?(R=Oe[0],re&&(yield R._set(W,re.toJSON())),yield Promise.all(f.map(function(){var He=(0,p.Z)(function*(tt){if(tt!==R)try{yield tt._remove(W)}catch(Ke){}});return function(tt){return He.apply(this,arguments)}}())),new Y(R,c,y)):new Y(R,c,y)})()}}function xe(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Tt(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(et(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(dt(c))return"Blackberry";if(Ht(c))return"Webos";if(St(c))return"Safari";if((c.includes("chrome/")||Bn(c))&&!c.includes("edge/"))return"Chrome";if(en(c))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function et(m=(0,O.z$)()){return/firefox\//i.test(m)}function St(m=(0,O.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Bn(m=(0,O.z$)()){return/crios\//i.test(m)}function Tt(m=(0,O.z$)()){return/iemobile/i.test(m)}function en(m=(0,O.z$)()){return/android/i.test(m)}function dt(m=(0,O.z$)()){return/blackberry/i.test(m)}function Ht(m=(0,O.z$)()){return/webos/i.test(m)}function An(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)}function gi(m=(0,O.z$)()){return An(m)||en(m)||Ht(m)||dt(m)||/windows phone/i.test(m)||Tt(m)}function wo(m,c=[]){let f;switch(m){case"Browser":f=xe((0,O.z$)());break;case"Worker":f=`${xe((0,O.z$)())}-${m}`;break;default:f=m}const y=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${se.SDK_VERSION}/${y}`}class Er{constructor(c,f,y){this.app=c,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ft(this),this.idTokenSubscription=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,f){var y=this;return f&&(this._popupRedirectResolver=ne(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var b,R;if(!y._deleted&&(y.persistenceManager=yield Y.create(y,c),!y._deleted)){if(null===(b=y._popupRedirectResolver)||void 0===b?void 0:b._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(W){}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,p.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f)}})()}initializeCurrentUser(c){var f=this;return(0,p.Z)(function*(){var y;let b=yield f.assertedPersistence.getCurrentUser();if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const R=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,W=null==b?void 0:b._redirectEventId,re=yield f.tryRedirectSignIn(c);(!R||R===W)&&(null==re?void 0:re.user)&&(b=re.user)}return b?b._redirectEventId?(ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===b._redirectEventId?f.directlySetCurrentUser(b):f.reloadAndSetCurrentUserOrClear(b)):f.reloadAndSetCurrentUserOrClear(b):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var f=this;return(0,p.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(b){yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,p.Z)(function*(){try{yield Rn(c)}catch(y){if("auth/network-request-failed"!==y.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,p.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){const y=c?(0,O.m9)(c):null;return y&&ee(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){if(!f._deleted)return c&&ee(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),f.queue((0,p.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,p.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new O.LL("auth","Firebase",c())}onAuthStateChanged(c,f,y){return this.registerStateListener(this.authStateSubscription,c,f,y)}onIdTokenChanged(c,f,y){return this.registerStateListener(this.idTokenSubscription,c,f,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var y=this;return(0,p.Z)(function*(){const b=yield y.getOrInitRedirectPersistenceManager(f);return null===c?b.removeCurrentUser():b.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const y=c&&ne(c)||f._popupRedirectResolver;ee(y,f,"argument-error"),f.redirectPersistenceManager=yield Y.create(f,[ne(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,p.Z)(function*(){var y,b;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===c?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,p.Z)(function*(){if(c===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,y,b){if(this._deleted)return()=>{};const R="function"==typeof f?f:f.next.bind(f),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof f?c.addObserver(f,y,b):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=wo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,p.Z)(function*(){var f;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const b=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return b&&(y["X-Firebase-Client"]=b),y})()}}function Se(m){return(0,O.m9)(m)}class ft{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pn(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function mn(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class kt{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return z("not implemented")}_getIdTokenResponse(c){return z("not implemented")}_linkToIdToken(c,f){return z("not implemented")}_getReauthenticationResolver(c){return z("not implemented")}}function cn(m,c){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:resetPassword",xt(m,c))})).apply(this,arguments)}function ct(m,c){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ys(m,c){return Io.apply(this,arguments)}function Io(){return(Io=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:update",xt(m,c))})).apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPassword",xt(m,c))})).apply(this,arguments)}function mi(m,c){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:sendOobCode",xt(m,c))})).apply(this,arguments)}function Or(m,c){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(m,c){return mi(m,c)})).apply(this,arguments)}function Jo(m,c){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,p.Z)(function*(m,c){return mi(m,c)})).apply(this,arguments)}function Cr(m,c){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(m,c){return mi(m,c)})).apply(this,arguments)}function za(m,c){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(m,c){return mi(m,c)})).apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",xt(m,c))})).apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",xt(m,c))})).apply(this,arguments)}class ta extends kt{constructor(c,f,y,b=null){super("password",y),this._email=c,this._password=f,this._tenantId=b}static _fromEmailAndPassword(c,f){return new ta(c,f,"password")}static _fromEmailAndCode(c,f,y=null){return new ta(c,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function Bi(m,c){return Vn.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function ea(m,c){return lr.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ee(c,"internal-error")}})()}_linkToIdToken(c,f){var y=this;return(0,p.Z)(function*(){switch(y.signInMethod){case"password":return ct(c,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function bc(m,c){return eu.apply(this,arguments)}(c,{idToken:f,email:y._email,oobCode:y._password});default:Ee(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function _n(m,c){return tu.apply(this,arguments)}function tu(){return(tu=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithIdp",xt(m,c))})).apply(this,arguments)}class yi extends kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new yi(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ee("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:b}=f,R=(0,J._T)(f,["providerId","signInMethod"]);if(!y||!b)return null;const W=new yi(y,b);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(c){return _n(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,_n(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,_n(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,O.xO)(f)}return c}}function yh(m,c){return nu.apply(this,arguments)}function nu(){return(nu=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:sendVerificationCode",xt(m,c))})).apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",xt(m,c))})).apply(this,arguments)}function ru(){return(ru=(0,p.Z)(function*(m,c){const f=yield Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",xt(m,c));if(f.temporaryProof)throw Yr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Eh={USER_NOT_FOUND:"user-not-found"};function iu(){return(iu=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",xt(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Eh)})).apply(this,arguments)}class Ys extends kt{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new Ys({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new Ys({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function Ga(m,c){return ji.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function vh(m,c){return ru.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Ch(m,c){return iu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:y,verificationCode:b}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:y,code:b}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:R}=c;return y||f||b||R?new Ys({verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:R}):null}}class vs{constructor(c){var f,y,b,R,W,re;const Oe=(0,O.zd)((0,O.pd)(c)),He=null!==(f=Oe.apiKey)&&void 0!==f?f:null,tt=null!==(y=Oe.oobCode)&&void 0!==y?y:null,Ke=function ip(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=Oe.mode)&&void 0!==b?b:null);ee(He&&tt&&Ke,"argument-error"),this.apiKey=He,this.operation=Ke,this.code=tt,this.continueUrl=null!==(R=Oe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Oe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(re=Oe.tenantId)&&void 0!==re?re:null}static parseLink(c){const f=function na(m){const c=(0,O.zd)((0,O.pd)(m)).link,f=c?(0,O.zd)((0,O.pd)(c)).deep_link_id:null,y=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(y?(0,O.zd)((0,O.pd)(y)).link:null)||y||f||c||m}(c);try{return new vs(f)}catch(y){return null}}}let Za=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,y){return ta._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const b=vs.parseLink(y);return ee(b,"argument-error"),ta._fromEmailAndCode(f,b.code,b.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Hi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ur extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Qs extends ur{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),yi._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Qs.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Qs.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:b,pendingToken:R,nonce:W,providerId:re}=c;if(!y&&!b&&!f&&!R||!re)return null;try{return new Qs(re)._credential({idToken:f,accessToken:y,nonce:W,pendingToken:R})}catch(Oe){return null}}}let Es=(()=>{class m extends ur{constructor(){super("facebook.com")}static credential(f){return yi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Do=(()=>{class m extends ur{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return yi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:b}=f;if(!y&&!b)return null;try{return m.credential(y,b)}catch(R){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),su=(()=>{class m extends ur{constructor(){super("github.com")}static credential(f){return yi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Js extends kt{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return _n(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,_n(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,_n(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:b,pendingToken:R}=f;return y&&b&&R&&y===b?new Js(y,R):null}static _create(c,f){return new Js(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wr extends Hi{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return wr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return wr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=Js.fromJSON(c);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:y}=c;if(!f||!y)return null;try{return Js._create(y,f)}catch(b){return null}}}let ra=(()=>{class m extends ur{constructor(){super("twitter.com")}static credential(f,y){return yi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:b}=f;if(!y||!b)return null;try{return m.credential(y,b)}catch(R){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function ia(m,c){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signUp",xt(m,c))})).apply(this,arguments)}class jn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,y,b=!1){return(0,p.Z)(function*(){const R=yield B._fromIdTokenResponse(c,y,b),W=Ac(y);return new jn({user:R,providerId:W,_tokenResponse:y,operationType:f})})()}static _forOperation(c,f,y){return(0,p.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const b=Ac(y);return new jn({user:c,providerId:b,_tokenResponse:y,operationType:f})})()}}function Ac(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ou(){return(ou=(0,p.Z)(function*(m){var c;const f=Se(m);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new jn({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield ia(f,{returnSecureToken:!0}),b=yield jn._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class oa extends O.ZR{constructor(c,f,y,b){var R;super(f.code,f.message),this.operationType=y,this.user=b,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:c.name,tenantId:null!==(R=c.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,f,y,b){return new oa(c,f,y,b)}}function aa(m,c,f,y){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?oa._fromErrorAndOperation(m,R,c,y):R})}function vi(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Ka(){return(Ka=(0,p.Z)(function*(m,c){const f=(0,O.m9)(m);yield Wi(!0,f,c);const{providerUserInfo:y}=yield bn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),b=vi(y||[]);return f.providerData=f.providerData.filter(R=>b.has(R.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Gt(m,c){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(m,c,f=!1){const y=yield Mn(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return jn._forOperation(m,"link",y)})).apply(this,arguments)}function Wi(m,c,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(m,c,f){yield Rn(c);const b=!1===m?"provider-already-linked":"no-such-provider";ee(vi(c.providerData).has(f)===m,c.auth,b)})).apply(this,arguments)}function au(m,c){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(m,c,f=!1){const{auth:y}=m,b="reauthenticate";try{const R=yield Mn(m,aa(y,b,c,m),f);ee(R.idToken,y,"internal-error");const W=ze(R.idToken);ee(W,y,"internal-error");const{sub:re}=W;return ee(m.uid===re,y,"user-mismatch"),jn._forOperation(m,b,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ee(y,"user-mismatch"),R}})).apply(this,arguments)}function ws(m,c){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(m,c,f=!1){const y="signIn",b=yield aa(m,y,c),R=yield jn._fromIdTokenResponse(m,y,b);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function dn(m,c){return To.apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(m,c){return ws(Se(m),c)})).apply(this,arguments)}function Nr(m,c){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(m,c){const f=(0,O.m9)(m);return yield Wi(!1,f,c.providerId),Gt(f,c)})).apply(this,arguments)}function zi(m,c){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(m,c){return au((0,O.m9)(m),c)})).apply(this,arguments)}function la(m,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithCustomToken",xt(m,c))})).apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(function*(m,c){const f=Se(m),y=yield la(f,{token:c,returnSecureToken:!0}),b=yield jn._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class Je{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?ua._fromServerResponse(c,f):Ee(c,"internal-error")}}class ua extends Je{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new ua(f)}}function Ao(m,c,f){var y;ee((null===(y=f.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function da(){return(da=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m),b={requestType:"PASSWORD_RESET",email:c};f&&Ao(y,b,f),yield Jo(y,b)})).apply(this,arguments)}function qa(){return(qa=(0,p.Z)(function*(m,c,f){yield cn((0,O.m9)(m),{oobCode:c,newPassword:f})})).apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(m,c){yield ys((0,O.m9)(m),{oobCode:c})})).apply(this,arguments)}function _t(m,c){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(m,c){const f=(0,O.m9)(m),y=yield cn(f,{oobCode:c}),b=y.requestType;switch(ee(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(y.mfaInfo,f,"internal-error");default:ee(y.email,f,"internal-error")}let R=null;return y.mfaInfo&&(R=Je._fromServerResponse(Se(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:b}})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(m,c){const{data:f}=yield _t((0,O.m9)(m),c);return f.email})).apply(this,arguments)}function hr(){return(hr=(0,p.Z)(function*(m,c,f){const y=Se(m),b=yield ia(y,{returnSecureToken:!0,email:c,password:f}),R=yield jn._fromIdTokenResponse(y,"signIn",b);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m),b={requestType:"EMAIL_SIGNIN",email:c};ee(f.handleCodeInApp,y,"argument-error"),f&&Ao(y,b,f),yield Cr(y,b)})).apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m),b=Za.credentialWithLink(c,f||lt());return ee(b._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),dn(y,b)})).apply(this,arguments)}function xn(m,c){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:createAuthUri",xt(m,c))})).apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(m,c){const y={identifier:c,continueUri:Pt()?lt():"http://localhost"},{signinMethods:b}=yield xn((0,O.m9)(m),y);return b||[]})).apply(this,arguments)}function tl(){return(tl=(0,p.Z)(function*(m,c){const f=(0,O.m9)(m),b={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&Ao(f.auth,b,c);const{email:R}=yield Or(f.auth,b);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function ma(){return(ma=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&Ao(y.auth,R,f);const{email:W}=yield za(y.auth,R);W!==m.email&&(yield m.reload())})).apply(this,arguments)}function nl(m,c){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(m,c){return Et(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function rl(){return(rl=(0,p.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const y=(0,O.m9)(m),R={idToken:yield y.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},W=yield Mn(y,nl(y.auth,R));y.displayName=W.displayName||null,y.photoURL=W.photoUrl||null;const re=y.providerData.find(({providerId:Oe})=>"password"===Oe);re&&(re.displayName=y.displayName,re.photoURL=y.photoURL),yield y._updateTokensIfNecessary(W)})).apply(this,arguments)}function sl(m,c,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,p.Z)(function*(m,c,f){const{auth:y}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(R.email=c),f&&(R.password=f);const W=yield Mn(m,ct(y,R));yield m._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Ds{constructor(c,f,y={}){this.isNewUser=c,this.providerId=f,this.profile=y}}class du extends Ds{constructor(c,f,y,b){super(c,f,y),this.username=b}}class hu extends Ds{constructor(c,f){super(c,"facebook.com",f)}}class bs extends du{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Yi extends Ds{constructor(c,f){super(c,"google.com",f)}}class ol extends du{constructor(c,f,y){super(c,"twitter.com",f,y)}}function Wn(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function cu(m){var c,f;if(!m)return null;const{providerId:y}=m,b=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const W=null===(f=null===(c=ze(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(W)return new Ds(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!y)return null;switch(y){case"facebook.com":return new hu(R,b);case"github.com":return new bs(R,b);case"google.com":return new Yi(R,b);case"twitter.com":return new ol(R,b,m.screenName||null);case"custom":case"anonymous":return new Ds(R,null);default:return new Ds(R,y,b)}}(f)}class Ci{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new Ci("enroll",c)}static _fromMfaPendingCredential(c){return new Ci("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,y;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Ci._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(y=c.multiFactorSession)||void 0===y?void 0:y.idToken)return Ci._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Ro{constructor(c,f,y){this.session=c,this.hints=f,this.signInResolver=y}static _fromError(c,f){const y=Se(c),b=f.customData._serverResponse,R=(b.mfaInfo||[]).map(re=>Je._fromServerResponse(y,re));ee(b.mfaPendingCredential,y,"internal-error");const W=Ci._fromMfaPendingCredential(b.mfaPendingCredential);return new Ro(W,R,function(){var re=(0,p.Z)(function*(Oe){const He=yield Oe._process(y,W);delete b.mfaInfo,delete b.mfaPendingCredential;const tt=Object.assign(Object.assign({},b),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const Ke=yield jn._fromIdTokenResponse(y,f.operationType,tt);return yield y._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return ee(f.user,y,"internal-error"),jn._forOperation(f.user,f.operationType,tt);default:Ee(y,"internal-error")}});return function(Oe){return re.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,p.Z)(function*(){return f.signInResolver(c)})()}}function yn(m,c){return Et(m,"POST","/v2/accounts/mfaEnrollment:start",xt(m,c))}class wi{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>Je._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new wi(c)}getSession(){var c=this;return(0,p.Z)(function*(){return Ci._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var y=this;return(0,p.Z)(function*(){const b=c,R=yield y.getSession(),W=yield Mn(y.user,b._process(y.user.auth,R,f));return yield y.user._updateTokensIfNecessary(W),y.user.reload()})()}unenroll(c){var f=this;return(0,p.Z)(function*(){const y="string"==typeof c?c:c.uid,b=yield f.user.getIdToken(),R=yield Mn(f.user,function Ih(m,c){return Et(m,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(m,c))}(f.user.auth,{idToken:b,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:W})=>W!==y),yield f.user._updateTokensIfNecessary(R);try{yield f.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const no=new WeakMap,ul="__sak";class Ts{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const hn=(()=>{class m extends Ts{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mu(){const m=(0,O.z$)();return St(m)||An(m)}()&&function Cn(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=gi(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const b=this.storage.getItem(y),R=this.localCache[y];b!==R&&f(y,R,b)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((re,Oe,He)=>{this.notifyListeners(re,He)});const b=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(b);if(f.newValue!==re)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!y)return}const R=()=>{const re=this.storage.getItem(b);!y&&this.localCache[b]===re||this.notifyListeners(b,re)},W=this.storage.getItem(b);!function Co(){return(0,O.w1)()&&10===document.documentMode}()||W===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const R of Array.from(b))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var b=()=>super._set,R=this;return(0,p.Z)(function*(){yield b().call(R,f,y),R.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,b=this;return(0,p.Z)(function*(){const R=yield y().call(b,f);return b.localCache[f]=JSON.stringify(R),R})()}_remove(f){var y=()=>super._remove,b=this;return(0,p.Z)(function*(){yield y().call(b,f),delete b.localCache[f]})()}}return m.type="LOCAL",m})(),On=(()=>{class m extends Ts{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return m.type="SESSION",m})();let Dr=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(R=>R.isListeningto(f));if(y)return y;const b=new m(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,p.Z)(function*(){const b=f,{eventId:R,eventType:W,data:re}=b.data,Oe=y.handlersMap[W];if(!(null==Oe?void 0:Oe.size))return;b.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const He=Array.from(Oe).map(function(){var Ke=(0,p.Z)(function*(an){return an(b.origin,re)});return function(an){return Ke.apply(this,arguments)}}()),tt=yield function fr(m){return Promise.all(m.map(function(){var c=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return c.apply(this,arguments)}}()))}(He);b.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:tt})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ro(m="",c=10){let f="";for(let y=0;y<c;y++)f+=Math.floor(10*Math.random());return m+f}class _u{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,y=50){var b=this;return(0,p.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,re;return new Promise((Oe,He)=>{const tt=ro("",20);R.port1.start();const Ke=setTimeout(()=>{He(new Error("unsupported_event"))},y);re={messageChannel:R,onMessage(an){const ai=an;if(ai.data.eventId===tt)switch(ai.data.status){case"ack":clearTimeout(Ke),W=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Oe(ai.data.response);break;default:clearTimeout(Ke),clearTimeout(W),He(new Error("invalid_response"))}}},b.handlers.add(re),R.port1.addEventListener("message",re.onMessage),b.target.postMessage({eventType:c,eventId:tt,data:f},[R.port2])}).finally(()=>{re&&b.removeMessageHandler(re)})})()}}function Wt(){return window}function Xr(){return void 0!==Wt().WorkerGlobalScope&&"function"==typeof Wt().importScripts}function pr(){return(pr=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",io="firebaseLocalStorage",fn="fbase_key";class Ii{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function so(m,c){return m.transaction([io],c?"readwrite":"readonly").objectStore(io)}function Ji(){const m=indexedDB.open(cl,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(io,{keyPath:fn})}catch(b){f(b)}}),m.addEventListener("success",(0,p.Z)(function*(){const y=m.result;y.objectStoreNames.contains(io)?c(y):(y.close(),yield function br(){const m=indexedDB.deleteDatabase(cl);return new Ii(m).toPromise()}(),c(yield Ji()))}))})}function Po(m,c,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(m,c,f){const y=so(m,!0).put({[fn]:c,value:f});return new Ii(y).toPromise()})).apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(m,c){const f=so(m,!1).get(c),y=yield new Ii(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ti(m,c){const f=so(m,!0).delete(c);return new Ii(f).toPromise()}const Lr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield Ji()),f.db})()}_withRetries(f){var y=this;return(0,p.Z)(function*(){let b=0;for(;;)try{const R=yield y._openDb();return yield f(R)}catch(R){if(b++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return Xr()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=Dr._getInstance(function yu(){return Xr()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,p.Z)(function*(b,R){return{keyProcessed:(yield f._poll()).includes(R.key)}});return function(b,R){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,p.Z)(function*(b,R){return["keyChanged"]});return function(b,R){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var y,b;if(f.activeServiceWorker=yield function ya(){return pr.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new _u(f.activeServiceWorker);const R=yield f.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(b=R[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,p.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Mt(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch(b){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Ji();return yield Po(f,ul,"1"),yield ti(f,ul),!0}catch(f){}return!1})()}_withPendingWrite(f){var y=this;return(0,p.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var b=this;return(0,p.Z)(function*(){return b._withPendingWrite((0,p.Z)(function*(){return yield b._withRetries(R=>Po(R,f,y)),b.localCache[f]=y,b.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,p.Z)(function*(){const b=yield y._withRetries(R=>function dl(m,c){return Xi.apply(this,arguments)}(R,f));return y.localCache[f]=b,b})()}_remove(f){var y=this;return(0,p.Z)(function*(){return y._withPendingWrite((0,p.Z)(function*(){return yield y._withRetries(b=>ti(b,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const y=yield f._withRetries(W=>{const re=so(W,!1).getAll();return new Ii(re).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const b=[],R=new Set;for(const{fbase_key:W,value:re}of y)R.add(W),JSON.stringify(f.localCache[W])!==JSON.stringify(re)&&(f.notifyListeners(W,re),b.push(W));for(const W of Object.keys(f.localCache))f.localCache[W]&&!R.has(W)&&(f.notifyListeners(W,null),b.push(W));return b})()}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const R of Array.from(b))R(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ao(m,c){return Et(m,"POST","/v2/accounts/mfaSignIn:start",xt(m,c))}function Fr(){return(Fr=(0,p.Z)(function*(m){return(yield Et(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nn(m){return new Promise((c,f)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=c,y.onerror=b=>{const R=pe("internal-error");R.customData=b,f(R)},y.type="text/javascript",y.charset="UTF-8",function Pc(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(y)})}function lo(m){return`__${m}${Math.floor(1e6*Math.random())}`}const tr=1e12;class As{constructor(c){this.auth=c,this.counter=tr,this._widgets=new Map}render(c,f){const y=this.counter;return this._widgets.set(y,new ni(c,this.auth.name,f||{})),this.counter++,y}reset(c){var f;const y=c||tr;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(c){var f;return(null===(f=this._widgets.get(c||tr))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,p.Z)(function*(){var y;return null===(y=f._widgets.get(c||tr))||void 0===y||y.execute(),""})()}}class ni{constructor(c,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof c?document.getElementById(c):c;ee(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rn(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ts=lo("rcb"),Eu=new Vt(3e4,6e4);class bh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wt().grecaptcha}load(c,f=""){return ee(function Th(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Wt().grecaptcha):new Promise((y,b)=>{const R=Wt().setTimeout(()=>{b(pe(c,"network-request-failed"))},Eu.get());Wt()[ts]=()=>{Wt().clearTimeout(R),delete Wt()[ts];const re=Wt().grecaptcha;if(!re)return void b(pe(c,"internal-error"));const Oe=re.render;re.render=(He,tt)=>{const Ke=Oe(He,tt);return this.counter++,Ke},this.hostLanguage=f,y(re)},nn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ts,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(R),b(pe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!Wt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ah{load(c){return(0,p.Z)(function*(){return new As(c)})()}clearedOneInstance(){}}const ns="recaptcha",gr={theme:"light",type:"image"};class Sh{constructor(c,f=Object.assign({},gr),y){this.parameters=f,this.type=ns,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Se(y),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof c?document.getElementById(c):c;ee(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ah:new bh,this.validateStartingState()}verify(){var c=this;return(0,p.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(f)||new Promise(R=>{const W=re=>{!re||(c.tokenChangeListeners.delete(W),R(re))};c.tokenChangeListeners.add(W),c.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof c)c(f);else if("string"==typeof c){const y=Wt()[c];"function"==typeof y&&y(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,p.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,p.Z)(function*(){ee(Pt()&&!Xr(),c.auth,"internal-error"),yield function rs(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function Gn(m){return Fr.apply(this,arguments)}(c.auth);ee(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Di{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=Ys._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function Qt(){return(Qt=(0,p.Z)(function*(m,c,f){const y=Se(m),b=yield Zn(y,c,(0,O.m9)(f));return new Di(b,R=>dn(y,R))})).apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m);yield Wi(!1,y,"phone");const b=yield Zn(y.auth,c,(0,O.m9)(f));return new Di(b,R=>Nr(y,R))})).apply(this,arguments)}function pl(){return(pl=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m),b=yield Zn(y.auth,c,(0,O.m9)(f));return new Di(b,R=>zi(y,R))})).apply(this,arguments)}function Zn(m,c,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(m,c,f){var y;const b=yield f.verify();try{let R;if(ee("string"==typeof b,m,"argument-error"),ee(f.type===ns,m,"argument-error"),R="string"==typeof c?{phoneNumber:c}:c,"session"in R){const W=R.session;if("phoneNumber"in R)return ee("enroll"===W.type,m,"internal-error"),(yield yn(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ee("signin"===W.type,m,"internal-error");const re=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return ee(re,m,"missing-multi-factor-info"),(yield ao(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield yh(m,{phoneNumber:R.phoneNumber,recaptchaToken:b});return W}}finally{f._reset()}})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(m,c){yield Gt((0,O.m9)(m),c)})).apply(this,arguments)}let Ur=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Se(f)}verifyPhoneNumber(f,y){return Zn(this.auth,f,(0,O.m9)(y))}static credential(f,y){return Ys._fromVerification(f,y)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:b}=f;return y&&b?Ys._fromTokenResponse(y,b):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function ri(m,c){return c?ne(c):(ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Oo extends kt{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return _n(c,this._buildIdpRequest())}_linkToIdToken(c,f){return _n(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return _n(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function ml(m){return ws(m.auth,new Oo(m),m.bypassAuthState)}function _l(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),au(f,new Oo(m),m.bypassAuthState)}function pt(m){return yl.apply(this,arguments)}function yl(){return(yl=(0,p.Z)(function*(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),Gt(f,new Oo(m),m.bypassAuthState)})).apply(this,arguments)}class wn{constructor(c,f,y,b,R=!1){this.auth=c,this.resolver=y,this.user=b,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,p.Z)(function*(y,b){c.pendingPromise={resolve:y,reject:b};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(R){c.reject(R)}});return function(y,b){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,p.Z)(function*(){const{urlResponse:y,sessionId:b,postBody:R,tenantId:W,error:re,type:Oe}=c;if(re)return void f.reject(re);const He={auth:f.auth,requestUri:y,sessionId:b,tenantId:W||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Oe)(He))}catch(tt){f.reject(tt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return ml;case"linkViaPopup":case"linkViaRedirect":return pt;case"reauthViaPopup":case"reauthViaRedirect":return _l;default:Ee(this.auth,"internal-error")}}resolve(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vl=new Vt(2e3,1e4);function Cu(){return(Cu=(0,p.Z)(function*(m,c,f){const y=Se(m);ke(m,c,Hi);const b=ri(y,f);return new si(y,"signInViaPopup",c,b).executeNotNull()})).apply(this,arguments)}function Ea(){return(Ea=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m);ke(y.auth,c,Hi);const b=ri(y.auth,f);return new si(y.auth,"reauthViaPopup",c,b,y).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m);ke(y.auth,c,Hi);const b=ri(y.auth,f);return new si(y.auth,"linkViaPopup",c,b,y).executeNotNull()})).apply(this,arguments)}let si=(()=>{class m extends wn{constructor(f,y,b,R,W){super(f,y,R,W),this.provider=b,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const y=yield f.execute();return ee(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,p.Z)(function*(){te(1===f.filter.length,"Popup operations only handle one event");const y=ro();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(pe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,b;this.pollId=(null===(b=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===b?void 0:b.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,vl.get())};f()}}return m.currentPopupAction=null,m})();const oi=new Map;class In extends wn{constructor(c,f,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,p.Z)(function*(){let y=oi.get(f.auth._key());if(!y){try{const R=(yield function Ar(m,c){return El.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;y=()=>Promise.resolve(R)}catch(b){y=()=>Promise.reject(b)}oi.set(f.auth._key(),y)}return f.bypassAuthState||oi.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,y=this;return(0,p.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(y,c);if("unknown"!==c.type){if(c.eventId){const b=yield y.auth._redirectUserForId(c.eventId);if(b)return y.user=b,f().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function El(){return(El=(0,p.Z)(function*(m,c){const f=I(c),y=w(m);if(!(yield y._isAvailable()))return!1;const b="true"===(yield y._get(f));return yield y._remove(f),b})).apply(this,arguments)}function Ms(m,c){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(m,c){return w(m)._set(I(c),"true")})).apply(this,arguments)}function w(m){return ne(m._redirectPersistence)}function I(m){return le("pendingRedirect",m.config.apiKey,m.name)}function G(){return(G=(0,p.Z)(function*(m,c,f){const y=Se(m);ke(m,c,Hi);const b=ri(y,f);return yield Ms(b,y),b._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function be(){return(be=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m);ke(y.auth,c,Hi);const b=ri(y.auth,f);yield Ms(b,y.auth);const R=yield Rs(y);return b._openRedirect(y.auth,c,"reauthViaRedirect",R)})).apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(m,c,f){const y=(0,O.m9)(m);ke(y.auth,c,Hi);const b=ri(y.auth,f);yield Wi(!1,y,c.providerId),yield Ms(b,y.auth);const R=yield Rs(y);return b._openRedirect(y.auth,c,"linkViaRedirect",R)})).apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(m,c){return yield Se(m)._initializationPromise,on(m,c,!1)})).apply(this,arguments)}function on(m,c){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(m,c,f=!1){const y=Se(m),b=ri(y,c),W=yield new In(y,b,f).execute();return W&&!f&&(delete W.user._redirectEventId,yield y._persistUserIfCurrent(W.user),yield y._setRedirectUser(null,c)),W})).apply(this,arguments)}function Rs(m){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(m){const c=ro(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class Br{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(f=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Cl(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iu(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var y;if(c.error&&!Iu(c)){const b=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(pe(this.auth,b))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const y=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ps(c))}saveEventToCache(c){this.cachedEventUids.add(Ps(c)),this.lastProcessedEventTime=Date.now()}}function Ps(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Iu({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function wl(m){return No.apply(this,arguments)}function No(){return(No=(0,p.Z)(function*(m,c={}){return Et(m,"GET","/v1/projects",c)})).apply(this,arguments)}const Rh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ap=/^https?/;function Ti(){return(Ti=(0,p.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield wl(m);for(const f of c)try{if(Il(f))return}catch(y){}Ee(m,"unauthorized-domain")})).apply(this,arguments)}function Il(m){const c=lt(),{protocol:f,hostname:y}=new URL(c);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===y?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&W.hostname===y}if(!ap.test(f))return!1;if(Rh.test(m))return y===m;const b=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(y)}const up=new Vt(3e4,6e4);function cp(){const m=Wt().___jsl;if(null==m?void 0:m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Du=null;function dp(m){return Du=Du||function Ph(m){return new Promise((c,f)=>{var y,b,R;function W(){cp(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{cp(),f(pe(m,"network-request-failed"))},timeout:up.get()})}if(null===(b=null===(y=Wt().gapi)||void 0===y?void 0:y.iframes)||void 0===b?void 0:b.Iframe)c(gapi.iframes.getContext());else{if(!(null===(R=Wt().gapi)||void 0===R?void 0:R.load)){const re=lo("iframefcb");return Wt()[re]=()=>{gapi.load?W():f(pe(m,"network-request-failed"))},nn(`https://apis.google.com/js/api.js?onload=${re}`).catch(Oe=>f(Oe))}W()}}).catch(c=>{throw Du=null,c})}(m),Du}const xc=new Vt(5e3,15e3),Os={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ko(m){const c=m.config;ee(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?jt(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:m.name,v:se.SDK_VERSION},b=bu.get(m.config.apiHost);b&&(y.eid=b);const R=m._getFrameworks();return R.length&&(y.fw=R.join(",")),`${f}?${(0,O.xO)(y).slice(1)}`}function po(){return po=(0,p.Z)(function*(m){const c=yield dp(m),f=Wt().gapi;return ee(f,m,"internal-error"),c.open({where:document.body,url:ko(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Os,dontclear:!0},y=>new Promise(function(){var b=(0,p.Z)(function*(R,W){yield y.restyle({setHideOnLeave:!1});const re=pe(m,"network-request-failed"),Oe=Wt().setTimeout(()=>{W(re)},xc.get());function He(){Wt().clearTimeout(Oe),R(y)}y.ping(He).then(He,()=>{W(re)})});return function(R,W){return b.apply(this,arguments)}}()))}),po.apply(this,arguments)}const fp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Su{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function Lc(m,c,f,y,b,R){ee(m.config.authDomain,m,"auth-domain-config-required"),ee(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:y,v:se.SDK_VERSION,eventId:b};if(c instanceof Hi){c.setDefaultLanguage(m.languageCode),W.providerId=c.providerId||"",(0,O.xb)(c.getCustomParameters())||(W.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,He]of Object.entries(R||{}))W[Oe]=He}if(c instanceof ur){const Oe=c.getScopes().filter(He=>""!==He);Oe.length>0&&(W.scopes=Oe.join(","))}m.tenantId&&(W.tid=m.tenantId);const re=W;for(const Oe of Object.keys(re))void 0===re[Oe]&&delete re[Oe];return`${function gp({config:m}){return m.emulator?jt(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(re).slice(1)}`}const ss="webStorageSupport";class Fc extends class xh{constructor(c){this.factorId=c}_process(c,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,y);case"signin":return this._finalizeSignIn(c,f.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Fc(c)}_finalizeEnroll(c,f,y){return function pu(m,c){return Et(m,"POST","/v2/accounts/mfaEnrollment:finalize",xt(m,c))}(c,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function xo(m,c){return Et(m,"POST","/v2/accounts/mfaSignIn:finalize",xt(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mp=(()=>{class m{constructor(){}static assertion(f){return Fc._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var _p="@firebase/auth",Uc="0.19.12";class Oh{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(y=>{var b;c((null===(b=y)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function os(){return window}function ba(){return(ba=(0,p.Z)(function*(m,c,f){var y;const{BuildInfo:b}=os();te(c.sessionId,"AuthEvent did not contain a session ID");const R=yield Lo(c.sessionId),W={};return An()?W.ibi=b.packageName:en()?W.apn=b.packageName:Ee(m,"operation-not-supported-in-this-environment"),b.displayName&&(W.appDisplayName=b.displayName),W.sessionId=R,Lc(m,f,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,W)})).apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(m){const{BuildInfo:c}=os(),f={};An()?f.iosBundleId=c.packageName:en()?f.androidPackageName=c.packageName:Ee(m,"operation-not-supported-in-this-environment"),yield wl(m,f)})).apply(this,arguments)}function Ru(){return(Ru=(0,p.Z)(function*(m,c,f){const{cordova:y}=os();let b=()=>{};try{yield new Promise((R,W)=>{let re=null;function Oe(){var Ke;R();const an=null===(Ke=y.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof an&&an(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function He(){re||(re=window.setTimeout(()=>{W(pe(m,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&He()}c.addPassiveListener(Oe),document.addEventListener("resume",He,!1),en()&&document.addEventListener("visibilitychange",tt,!1),b=()=>{c.removePassiveListener(Oe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",tt,!1),re&&window.clearTimeout(re)}})}finally{b()}})).apply(this,arguments)}function Lo(m){return kh.apply(this,arguments)}function kh(){return(kh=(0,p.Z)(function*(m){const c=Ta(m),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ta(m){if(te(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),f=new Uint8Array(c);for(let y=0;y<m.length;y++)f[y]=m.charCodeAt(y);return f}!function vp(m){(0,se._registerComponent)(new ie.wA("auth",(c,{options:f})=>{const y=c.getProvider("app").getImmediate(),b=c.getProvider("heartbeat"),{apiKey:R,authDomain:W}=y.options;return((re,Oe)=>{ee(R&&!R.includes(":"),"invalid-api-key",{appName:re.name}),ee(!(null==W?void 0:W.includes(":")),"argument-error",{appName:re.name});const He={apiKey:R,authDomain:W,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wo(m)},tt=new Er(re,Oe,He);return function oe(m,c){const f=(null==c?void 0:c.persistence)||[],y=(Array.isArray(f)?f:[f]).map(ne);(null==c?void 0:c.errorMap)&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(y,null==c?void 0:c.popupRedirectResolver)}(tt,f),tt})(y,b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,y)=>{c.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ie.wA("auth-internal",c=>{const f=Se(c.getProvider("auth").getImmediate());return new Oh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(_p,Uc,function yp(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,se.registerVersion)(_p,Uc,"esm2017")}("Browser");class Hc extends Br{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,p.Z)(function*(){yield c.initPromise})()}}function Tl(m){return mo.apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(m){const c=yield Sl()._get(Wc(m));return c&&(yield Sl()._remove(Wc(m))),c})).apply(this,arguments)}function Al(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*c.length);m.push(c.charAt(y))}return m.join("")}function Sl(){return ne(hn)}function Wc(m){return le("authEvent",m.config.apiKey,m.name)}function xu(m){if(!(null==m?void 0:m.includes("?")))return{};const[c,...f]=m.split("?");return(0,O.zd)(f.join("?"))}function Kc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function Ou(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Fh(m=(0,O.z$)()){return!("file:"!==Ou()&&"ionic:"!==Ou()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const m=self.localStorage,c=ro();if(m)return m.setItem(c,"1"),m.removeItem(c),!function _o(m=(0,O.z$)()){return function Dp(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function bp(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch(m){return Ns()&&(0,O.hl)()}return!1}function Ns(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pl(){return(function Ip(){return"http:"===Ou()||"https:"===Ou()}()||(0,O.ru)()||Fh())&&!function Nu(){return(0,O.b$)()||(0,O.UG)()}()&&Kn()&&!Ns()}function qc(){return Fh()&&"undefined"!=typeof document}function Fo(){return(Fo=(0,p.Z)(function*(){return!!qc()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},Uo=ee,Qc="persistence";function Bo(m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,p.Z)(function*(m){yield m._initializationPromise;const c=xl(),f=le(Qc,m.config.apiKey,m.name);c&&c.setItem(f,m._getPersistence())})).apply(this,arguments)}function xl(){var m;try{return(null===(m=function Yc(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(c){return null}}const Tp=ee;class Mr{constructor(){this.browserResolver=ne(class go{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=On,this._completeRedirectFn=on}_openPopup(c,f,y,b){var R=this;return(0,p.Z)(function*(){var W;te(null===(W=R.eventManagers[c._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const re=Lc(c,f,y,lt(),b);return function Mu(m,c,f,y=500,b=600){const R=Math.max((window.screen.availHeight-b)/2,0).toString(),W=Math.max((window.screen.availWidth-y)/2,0).toString();let re="";const Oe=Object.assign(Object.assign({},fp),{width:y.toString(),height:b.toString(),top:R,left:W}),He=(0,O.z$)().toLowerCase();f&&(re=Bn(He)?"_blank":f),et(He)&&(c=c||"http://localhost",Oe.scrollbars="yes");const tt=Object.entries(Oe).reduce((an,[ai,Nl])=>`${an}${ai}=${Nl},`,"");if(function Qo(m=(0,O.z$)()){var c;return An(m)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(He)&&"_self"!==re)return function kc(m,c){const f=document.createElement("a");f.href=m,f.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(c||"",re),new Su(null);const Ke=window.open(c||"",re,tt);ee(Ke,m,"popup-blocked");try{Ke.focus()}catch(an){}return new Su(Ke)}(c,re,ro())})()}_openRedirect(c,f,y,b){var R=this;return(0,p.Z)(function*(){return yield R._originValidation(c),function Mc(m){Wt().location.href=m}(Lc(c,f,y,lt(),b)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:b,promise:R}=this.eventManagers[f];return b?Promise.resolve(b):(te(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(c);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(c){var f=this;return(0,p.Z)(function*(){const y=yield function hp(m){return po.apply(this,arguments)}(c),b=new Br(c);return y.register("authEvent",R=>(ee(null==R?void 0:R.authEvent,c,"invalid-auth-event"),{status:b.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:b},f.iframes[c._key()]=y,b})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(ss,{type:ss},b=>{var R;const W=null===(R=null==b?void 0:b[0])||void 0===R?void 0:R[ss];void 0!==W&&f(!!W),Ee(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function lp(m){return Ti.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return gi()||St()||An()}}),this.cordovaResolver=ne(class Zc{constructor(){this._redirectPersistence=On,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=on}_initialize(c){var f=this;return(0,p.Z)(function*(){const y=c._key();let b=f.eventManagers.get(y);return b||(b=new Hc(c),f.eventManagers.set(y,b),f.attachCallbackListeners(c,b)),b})()}_openPopup(c){Ee(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,y,b){var R=this;return(0,p.Z)(function*(){!function Pu(m){var c,f,y,b,R,W,re,Oe,He,tt;const Ke=os();ee("function"==typeof(null===(c=null==Ke?void 0:Ke.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(f=null==Ke?void 0:Ke.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(R=null===(b=null===(y=null==Ke?void 0:Ke.cordova)||void 0===y?void 0:y.plugins)||void 0===b?void 0:b.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Oe=null===(re=null===(W=null==Ke?void 0:Ke.cordova)||void 0===W?void 0:W.plugins)||void 0===re?void 0:re.browsertab)||void 0===Oe?void 0:Oe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(tt=null===(He=null==Ke?void 0:Ke.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===tt?void 0:tt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const W=yield R._initialize(c);yield W.initialized(),W.resetRedirect(),function wa(){oi.clear()}(),yield R._originValidation(c);const re=function $c(m,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:Al(),postBody:null,tenantId:m.tenantId,error:pe(m,"no-auth-event")}}(c,y,b);yield function Xm(m,c){return Sl()._set(Wc(m),c)}(c,re);const Oe=yield function Bc(m,c,f){return ba.apply(this,arguments)}(c,re,f),He=yield function bl(m){const{cordova:c}=os();return new Promise(f=>{c.plugins.browsertab.isAvailable(y=>{let b=null;y?c.plugins.browsertab.openUrl(m):b=c.InAppBrowser.open(m,function _s(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(b)})})}(Oe);return function Nh(m,c,f){return Ru.apply(this,arguments)}(c,W,He)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Vc(m){return Vr.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:y,handleOpenURL:b,BuildInfo:R}=os(),W=setTimeout((0,p.Z)(function*(){yield Tl(c),f.onEvent(Kc())}),500),re=function(){var tt=(0,p.Z)(function*(Ke){clearTimeout(W);const an=yield Tl(c);let ai=null;an&&(null==Ke?void 0:Ke.url)&&(ai=function Cp(m,c){var f,y;const b=function Ml(m){const c=xu(m),f=c.link?decodeURIComponent(c.link):void 0,y=xu(f).link,b=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return xu(b).link||b||y||f||m}(c);if(b.includes("/__/auth/callback")){const R=xu(b),W=R.firebaseError?function zc(m){try{return JSON.parse(m)}catch(c){return null}}(decodeURIComponent(R.firebaseError)):null,re=null===(y=null===(f=null==W?void 0:W.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],Oe=re?pe(re):null;return Oe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:b,postBody:null}}return null}(an,Ke.url)),f.onEvent(ai||Kc())});return function(an){return tt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,re);const Oe=b,He=`${R.packageName.toLowerCase()}://`;os().handleOpenURL=function(){var tt=(0,p.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(He)&&re({url:Ke}),"function"==typeof Oe)try{Oe(Ke)}catch(an){console.error(an)}});return function(Ke){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=On,this._completeRedirectFn=on}_initialize(c){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,y,b){var R=this;return(0,p.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(c,f,y,b)})()}_openRedirect(c,f,y,b){var R=this;return(0,p.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(c,f,y,b)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return qc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,p.Z)(function*(){if(c.underlyingResolver)return;const f=yield function rr(){return Fo.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function Vh(m){return m.unwrap()}function Vo(m){return jh(m)}function jh(m){const{_tokenResponse:c}=m instanceof O.ZR?m.customData:m;if(!c)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Ur.credentialFromResult(m);const f=c.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=Do;break;case"facebook.com":y=Es;break;case"github.com":y=su;break;case"twitter.com":y=ra;break;default:const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:re,nonce:Oe}=c;return R||W||b||re?re?f.startsWith("saml.")?Js._create(f,re):yi._fromParams({providerId:f,signInMethod:f,pendingToken:re,idToken:b,accessToken:R}):new Qs(f).credential({idToken:b,accessToken:R,rawNonce:Oe}):null}return m instanceof O.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function qn(m,c){return c.catch(f=>{throw f instanceof O.ZR&&function Sp(m,c){var f;const y=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Mp(m,function _a(m,c){var f;const y=(0,O.m9)(m),b=c;return ee(c.customData.operationType,y,"argument-error"),ee(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),Ro._fromError(y,b)}(m,c));else if(y){const b=jh(c),R=c;b&&(R.credential=b,R.tenantId=y.tenantId||void 0,R.email=y.email||void 0,R.phoneNumber=y.phoneNumber||void 0)}}(m,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:Vo(f),additionalUserInfo:Wn(f),user:ks.getOrCreate(b)}})}function Xc(m,c){return ed.apply(this,arguments)}function ed(){return(ed=(0,p.Z)(function*(m,c){const f=yield c;return{verificationId:f.verificationId,confirm:y=>qn(m,f.confirm(y))}})).apply(this,arguments)}class Mp{constructor(c,f){this.resolver=f,this.auth=function Ap(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return qn(Vh(this.auth),this.resolver.resolveSignIn(c))}}class ks{constructor(c){this._delegate=c,this.multiFactor=function gu(m){const c=(0,O.m9)(m);return no.has(c)||no.set(c,wi._fromUser(c)),no.get(c)}(c)}static getOrCreate(c){return ks.USER_MAP.has(c)||ks.USER_MAP.set(c,new ks(c)),ks.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,p.Z)(function*(){return qn(f.auth,Nr(f._delegate,c))})()}linkWithPhoneNumber(c,f){var y=this;return(0,p.Z)(function*(){return Xc(y.auth,function fl(m,c,f){return co.apply(this,arguments)}(y._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,p.Z)(function*(){return qn(f.auth,function ii(m,c,f){return Ca.apply(this,arguments)}(f._delegate,c,Mr))})()}linkWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Bo(Se(f.auth)),function je(m,c,f){return function ot(m,c,f){return ht.apply(this,arguments)}(m,c,f)}(f._delegate,c,Mr)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,p.Z)(function*(){return qn(f.auth,zi(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Xc(this.auth,function Mh(m,c,f){return pl.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return qn(this.auth,function Ss(m,c,f){return Ea.apply(this,arguments)}(this._delegate,c,Mr))}reauthenticateWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Bo(Se(f.auth)),function X(m,c,f){return function De(m,c,f){return be.apply(this,arguments)}(m,c,f)}(f._delegate,c,Mr)})()}sendEmailVerification(c){return function kr(m,c){return tl.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,p.Z)(function*(){return yield function bo(m,c){return Ka.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function il(m,c){return sl((0,O.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function uu(m,c){return sl((0,O.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function gl(m,c){return bi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Mo(m,c){return rl.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function ga(m,c,f){return ma.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ks.USER_MAP=new WeakMap;const Ol=ee;let td=(()=>{class m{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;Ol(b,"invalid-api-key",{appName:f.name}),Ol(b,"invalid-api-key",{appName:f.name});const R="undefined"!=typeof window?Mr:void 0;this._delegate=y.initialize({options:{persistence:Rp(b,f.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function $t(m,c,f){const y=Se(m);ee(y._canInitEmulator,y,"emulator-config-failed"),ee(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const b=!!(null==f?void 0:f.disableWarnings),R=Pn(c),{host:W,port:re}=function Fi(m){const c=Pn(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(y);if(b){const R=b[1];return{host:R,port:mn(y.substr(R.length+1))}}{const[R,W]=y.split(":");return{host:R,port:mn(W)}}}(c);y.config.emulator={url:`${R}//${W}${null===re?"":`:${re}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:W,port:re,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Jr(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,y)}applyActionCode(f){return function Ya(m,c){return ye.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return _t(this._delegate,f)}confirmPasswordReset(f,y){return function ha(m,c,f){return qa.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var b=this;return(0,p.Z)(function*(){return qn(b._delegate,function to(m,c,f){return hr.apply(this,arguments)}(b._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function pa(m,c){return qi.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function el(m,c){const f=vs.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Ol(Pl(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function ut(m,c){return vn.apply(this,arguments)}(f._delegate,Mr);return y?qn(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Lh(m,c){Se(m)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,y,b){const{next:R,error:W,complete:re}=nd(f,y,b);return this._delegate.onAuthStateChanged(R,W,re)}onIdTokenChanged(f,y,b){const{next:R,error:W,complete:re}=nd(f,y,b);return this._delegate.onIdTokenChanged(R,W,re)}sendSignInLinkToEmail(f,y){return function Xa(m,c,f){return lu.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function ca(m,c,f){return da.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,p.Z)(function*(){let b;switch(function Uh(m,c){Uo(Object.values(jr).includes(c),m,"invalid-persistence-type"),(0,O.b$)()?Uo(c!==jr.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?Uo(c===jr.NONE,m,"unsupported-persistence-type"):Ns()?Uo(c===jr.NONE||c===jr.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):Uo(c===jr.NONE||Kn(),m,"unsupported-persistence-type")}(y._delegate,f),f){case jr.SESSION:b=On;break;case jr.LOCAL:b=(yield ne(Lr)._isAvailable())?Lr:hn;break;case jr.NONE:b=$;break;default:return Ee("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return qn(this._delegate,function sa(m){return ou.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return qn(this._delegate,dn(this._delegate,f))}signInWithCustomToken(f){return qn(this._delegate,function Gi(m,c){return Zi.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return qn(this._delegate,function Ja(m,c,f){return dn((0,O.m9)(m),Za.credential(c,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return qn(this._delegate,function fa(m,c,f){return Ki.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return Xc(this._delegate,function va(m,c,f){return Qt.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,p.Z)(function*(){return Ol(Pl(),y._delegate,"operation-not-supported-in-this-environment"),qn(y._delegate,function is(m,c,f){return Cu.apply(this,arguments)}(y._delegate,f,Mr))})()}signInWithRedirect(f){var y=this;return(0,p.Z)(function*(){return Ol(Pl(),y._delegate,"operation-not-supported-in-this-environment"),yield Bo(y._delegate),function S(m,c,f){return function L(m,c,f){return G.apply(this,arguments)}(m,c,f)}(y._delegate,f,Mr)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function qt(m,c){return eo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=jr,m})();function nd(m,c,f){let y=m;"function"!=typeof m&&({next:y,error:c,complete:f}=m);const b=y;return{next:W=>b(W&&ks.getOrCreate(W)),error:c,complete:f}}function Rp(m,c){const f=function Bh(m,c){const f=xl();if(!f)return[];const y=le(Qc,m,c);switch(f.getItem(y)){case jr.NONE:return[$];case jr.LOCAL:return[Lr,On];case jr.SESSION:return[On];default:return[]}}(m,c);if("undefined"!=typeof self&&!f.includes(Lr)&&f.push(Lr),"undefined"!=typeof window)for(const y of[hn,On])f.includes(y)||f.push(y);return f.includes($)||f.push($),f}class rd{constructor(){this.providerId="phone",this._delegate=new Ur(Vh(q.Z.auth()))}static credential(c,f){return Ur.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}rd.PHONE_SIGN_IN_METHOD=Ur.PHONE_SIGN_IN_METHOD,rd.PROVIDER_ID=Ur.PROVIDER_ID;const Pp=ee;class xp{constructor(c,f,y=q.Z.app()){var b;Pp(null===(b=y.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Sh(c,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Hh(m){m.INTERNAL.registerComponent(new ie.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new td(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Za,FacebookAuthProvider:Es,GithubAuthProvider:su,GoogleAuthProvider:Do,OAuthProvider:Qs,SAMLAuthProvider:wr,PhoneAuthProvider:rd,PhoneMultiFactorGenerator:mp,RecaptchaVerifier:xp,TwitterAuthProvider:ra,Auth:td,AuthCredential:kt,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.12")}(q.Z)},8306:(Ge,ve,x)=>{x.d(ve,{y:()=>j});var p=x(930),q=x(727),O=x(8822),se=x(4671);var ie=x(2416),ue=x(576),ae=x(2806);let j=(()=>{class Ie{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const ce=new Ie;return ce.source=this,ce.operator=Re,ce}subscribe(Re,ce,_e){const $e=function Fe(Ie){return Ie&&Ie instanceof p.Lv||function Q(Ie){return Ie&&(0,ue.m)(Ie.next)&&(0,ue.m)(Ie.error)&&(0,ue.m)(Ie.complete)}(Ie)&&(0,q.Nn)(Ie)}(Re)?Re:new p.Hp(Re,ce,_e);return(0,ae.x)(()=>{const{operator:Ue,source:Ee}=this;$e.add(Ue?Ue.call($e,Ee):Ee?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Re){try{return this._subscribe(Re)}catch(ce){Re.error(ce)}}forEach(Re,ce){return new(ce=H(ce))((_e,$e)=>{const Ue=new p.Hp({next:Ee=>{try{Re(Ee)}catch(pe){$e(pe),Ue.unsubscribe()}},error:$e,complete:_e});this.subscribe(Ue)})}_subscribe(Re){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Re)}[O.L](){return this}pipe(...Re){return function de(Ie){return 0===Ie.length?se.y:1===Ie.length?Ie[0]:function(Re){return Ie.reduce((ce,_e)=>_e(ce),Re)}}(Re)(this)}toPromise(Re){return new(Re=H(Re))((ce,_e)=>{let $e;this.subscribe(Ue=>$e=Ue,Ue=>_e(Ue),()=>ce($e))})}}return Ie.create=Ae=>new Ie(Ae),Ie})();function H(Ie){var Ae;return null!==(Ae=null!=Ie?Ie:ie.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Ge,ve,x)=>{x.d(ve,{x:()=>ie});var p=x(8306),q=x(727);const se=(0,x(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=x(8737),de=x(2806);let ie=(()=>{class ae extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new ue(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Fe,observers:Ie}=this;return Q||Fe?q.Lc:(this.currentObservers=null,Ie.push(H),new q.w0(()=>{this.currentObservers=null,(0,J.P)(Ie,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Fe,isStopped:Ie}=this;Q?H.error(Fe):Ie&&H.complete()}asObservable(){const H=new p.y;return H.source=this,H}}return ae.create=(j,H)=>new ue(j,H),ae})();class ue extends ie{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,j)}error(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Q?Q:q.Lc}}},930:(Ge,ve,x)=>{x.d(ve,{Hp:()=>Re,Lv:()=>Q});var p=x(576),q=x(727),O=x(2416),se=x(7849),J=x(5032);const de=ae("C",void 0,void 0);function ae(Ee,pe,me){return{kind:Ee,value:pe,error:me}}var j=x(3410),H=x(2806);class Q extends q.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,q.Nn)(pe)&&pe.add(this)):this.destination=Ue}static create(pe,me,ke){return new Re(pe,me,ke)}next(pe){this.isStopped?$e(function ue(Ee){return ae("N",Ee,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?$e(function ie(Ee){return ae("E",void 0,Ee)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?$e(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ie(Ee,pe){return Fe.call(Ee,pe)}class Ae{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:me}=this;if(me.next)try{me.next(pe)}catch(ke){ce(ke)}}error(pe){const{partialObserver:me}=this;if(me.error)try{me.error(pe)}catch(ke){ce(ke)}else ce(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(me){ce(me)}}}class Re extends Q{constructor(pe,me,ke){let Ne;if(super(),(0,p.m)(pe)||!pe)Ne={next:null!=pe?pe:void 0,error:null!=me?me:void 0,complete:null!=ke?ke:void 0};else{let ee;this&&O.v.useDeprecatedNextContext?(ee=Object.create(pe),ee.unsubscribe=()=>this.unsubscribe(),Ne={next:pe.next&&Ie(pe.next,ee),error:pe.error&&Ie(pe.error,ee),complete:pe.complete&&Ie(pe.complete,ee)}):Ne=pe}this.destination=new Ae(Ne)}}function ce(Ee){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ee):(0,se.h)(Ee)}function $e(Ee,pe){const{onStoppedNotification:me}=O.v;me&&j.z.setTimeout(()=>me(Ee,pe))}const Ue={closed:!0,next:J.Z,error:function _e(Ee){throw Ee},complete:J.Z}},727:(Ge,ve,x)=>{x.d(ve,{Lc:()=>de,w0:()=>J,Nn:()=>ie});var p=x(576);const O=(0,x(3888).d)(ae=>function(H){ae(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Fe)=>`${Fe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=x(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ie of H)Ie.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,p.m)(Q))try{Q()}catch(Ie){j=Ie instanceof O?Ie.errors:[Ie]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ie of Fe)try{ue(Ie)}catch(Ae){j=null!=j?j:[],Ae instanceof O?j=[...j,...Ae.errors]:j.push(Ae)}}if(j)throw new O(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ue(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,se.P)(H,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const ae=new J;return ae.closed=!0,ae})();const de=J.EMPTY;function ie(ae){return ae instanceof J||ae&&"closed"in ae&&(0,p.m)(ae.remove)&&(0,p.m)(ae.add)&&(0,p.m)(ae.unsubscribe)}function ue(ae){(0,p.m)(ae)?ae():ae.unsubscribe()}},2416:(Ge,ve,x)=>{x.d(ve,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ge,ve,x)=>{x.d(ve,{E:()=>q});const q=new(x(8306).y)(J=>J.complete())},8996:(Ge,ve,x)=>{x.d(ve,{D:()=>pe});var p=x(8421),q=x(5363),O=x(9468),de=x(8306),ue=x(2202),ae=x(576),j=x(9672);function Q(me,ke){if(!me)throw new Error("Iterable cannot be null");return new de.y(Ne=>{(0,j.f)(Ne,ke,()=>{const ee=me[Symbol.asyncIterator]();(0,j.f)(Ne,ke,()=>{ee.next().then(z=>{z.done?Ne.complete():Ne.next(z.value)})},0,!0)})})}var Fe=x(3670),Ie=x(8239),Ae=x(1144),Re=x(6495),ce=x(2206),_e=x(4532),$e=x(3260);function pe(me,ke){return ke?function Ee(me,ke){if(null!=me){if((0,Fe.c)(me))return function se(me,ke){return(0,p.Xf)(me).pipe((0,O.R)(ke),(0,q.Q)(ke))}(me,ke);if((0,Ae.z)(me))return function ie(me,ke){return new de.y(Ne=>{let ee=0;return ke.schedule(function(){ee===me.length?Ne.complete():(Ne.next(me[ee++]),Ne.closed||this.schedule())})})}(me,ke);if((0,Ie.t)(me))return function J(me,ke){return(0,p.Xf)(me).pipe((0,O.R)(ke),(0,q.Q)(ke))}(me,ke);if((0,ce.D)(me))return Q(me,ke);if((0,Re.T)(me))return function H(me,ke){return new de.y(Ne=>{let ee;return(0,j.f)(Ne,ke,()=>{ee=me[ue.h](),(0,j.f)(Ne,ke,()=>{let z,te;try{({value:z,done:te}=ee.next())}catch(he){return void Ne.error(he)}te?Ne.complete():Ne.next(z)},0,!0)}),()=>(0,ae.m)(null==ee?void 0:ee.return)&&ee.return()})}(me,ke);if((0,$e.L)(me))return function Ue(me,ke){return Q((0,$e.Q)(me),ke)}(me,ke)}throw(0,_e.z)(me)}(me,ke):(0,p.Xf)(me)}},8421:(Ge,ve,x)=>{x.d(ve,{Xf:()=>Fe});var p=x(655),q=x(1144),O=x(8239),se=x(8306),J=x(3670),de=x(2206),ie=x(4532),ue=x(6495),ae=x(3260),j=x(576),H=x(7849),Q=x(8822);function Fe(Ee){if(Ee instanceof se.y)return Ee;if(null!=Ee){if((0,J.c)(Ee))return function Ie(Ee){return new se.y(pe=>{const me=Ee[Q.L]();if((0,j.m)(me.subscribe))return me.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,q.z)(Ee))return function Ae(Ee){return new se.y(pe=>{for(let me=0;me<Ee.length&&!pe.closed;me++)pe.next(Ee[me]);pe.complete()})}(Ee);if((0,O.t)(Ee))return function Re(Ee){return new se.y(pe=>{Ee.then(me=>{pe.closed||(pe.next(me),pe.complete())},me=>pe.error(me)).then(null,H.h)})}(Ee);if((0,de.D)(Ee))return _e(Ee);if((0,ue.T)(Ee))return function ce(Ee){return new se.y(pe=>{for(const me of Ee)if(pe.next(me),pe.closed)return;pe.complete()})}(Ee);if((0,ae.L)(Ee))return function $e(Ee){return _e((0,ae.Q)(Ee))}(Ee)}throw(0,ie.z)(Ee)}function _e(Ee){return new se.y(pe=>{(function Ue(Ee,pe){var me,ke,Ne,ee;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(Ee);!(ke=yield me.next()).done;)if(pe.next(ke.value),pe.closed)return}catch(z){Ne={error:z}}finally{try{ke&&!ke.done&&(ee=me.return)&&(yield ee.call(me))}finally{if(Ne)throw Ne.error}}pe.complete()})})(Ee,pe).catch(me=>pe.error(me))})}},6451:(Ge,ve,x)=>{x.d(ve,{T:()=>de});var p=x(8189),q=x(8421),O=x(515),se=x(7669),J=x(8996);function de(...ie){const ue=(0,se.yG)(ie),ae=(0,se._6)(ie,1/0),j=ie;return j.length?1===j.length?(0,q.Xf)(j[0]):(0,p.J)(ae)((0,J.D)(j,ue)):O.E}},5403:(Ge,ve,x)=>{x.d(ve,{x:()=>q});var p=x(930);function q(se,J,de,ie,ue){return new O(se,J,de,ie,ue)}class O extends p.Lv{constructor(J,de,ie,ue,ae,j){super(J),this.onFinalize=ae,this.shouldUnsubscribe=j,this._next=de?function(H){try{de(H)}catch(Q){J.error(Q)}}:super._next,this._error=ue?function(H){try{ue(H)}catch(Q){J.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(H){J.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(Ge,ve,x)=>{x.d(ve,{U:()=>O});var p=x(4482),q=x(5403);function O(se,J){return(0,p.e)((de,ie)=>{let ue=0;de.subscribe((0,q.x)(ie,ae=>{ie.next(se.call(J,ae,ue++))}))})}},8189:(Ge,ve,x)=>{x.d(ve,{J:()=>O});var p=x(5577),q=x(4671);function O(se=1/0){return(0,p.z)(q.y,se)}},5577:(Ge,ve,x)=>{x.d(ve,{z:()=>ue});var p=x(4004),q=x(8421),O=x(4482),se=x(9672),J=x(5403),ie=x(576);function ue(ae,j,H=1/0){return(0,ie.m)(j)?ue((Q,Fe)=>(0,p.U)((Ie,Ae)=>j(Q,Ie,Fe,Ae))((0,q.Xf)(ae(Q,Fe))),H):("number"==typeof j&&(H=j),(0,O.e)((Q,Fe)=>function de(ae,j,H,Q,Fe,Ie,Ae,Re){const ce=[];let _e=0,$e=0,Ue=!1;const Ee=()=>{Ue&&!ce.length&&!_e&&j.complete()},pe=ke=>_e<Q?me(ke):ce.push(ke),me=ke=>{Ie&&j.next(ke),_e++;let Ne=!1;(0,q.Xf)(H(ke,$e++)).subscribe((0,J.x)(j,ee=>{null==Fe||Fe(ee),Ie?pe(ee):j.next(ee)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(_e--;ce.length&&_e<Q;){const ee=ce.shift();Ae?(0,se.f)(j,Ae,()=>me(ee)):me(ee)}Ee()}catch(ee){j.error(ee)}}))};return ae.subscribe((0,J.x)(j,pe,()=>{Ue=!0,Ee()})),()=>{null==Re||Re()}}(Q,Fe,ae,H)))}},5363:(Ge,ve,x)=>{x.d(ve,{Q:()=>se});var p=x(9672),q=x(4482),O=x(5403);function se(J,de=0){return(0,q.e)((ie,ue)=>{ie.subscribe((0,O.x)(ue,ae=>(0,p.f)(ue,J,()=>ue.next(ae),de),()=>(0,p.f)(ue,J,()=>ue.complete(),de),ae=>(0,p.f)(ue,J,()=>ue.error(ae),de)))})}},3099:(Ge,ve,x)=>{x.d(ve,{B:()=>de});var p=x(8996),q=x(5698),O=x(7579),se=x(930),J=x(4482);function de(ue={}){const{connector:ae=(()=>new O.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=ue;return Fe=>{let Ie=null,Ae=null,Re=null,ce=0,_e=!1,$e=!1;const Ue=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ee=()=>{Ue(),Ie=Re=null,_e=$e=!1},pe=()=>{const me=Ie;Ee(),null==me||me.unsubscribe()};return(0,J.e)((me,ke)=>{ce++,!$e&&!_e&&Ue();const Ne=Re=null!=Re?Re:ae();ke.add(()=>{ce--,0===ce&&!$e&&!_e&&(Ae=ie(pe,Q))}),Ne.subscribe(ke),Ie||(Ie=new se.Hp({next:ee=>Ne.next(ee),error:ee=>{$e=!0,Ue(),Ae=ie(Ee,j,ee),Ne.error(ee)},complete:()=>{_e=!0,Ue(),Ae=ie(Ee,H),Ne.complete()}}),(0,p.D)(me).subscribe(Ie))})(Fe)}}function ie(ue,ae,...j){return!0===ae?(ue(),null):!1===ae?null:ae(...j).pipe((0,q.q)(1)).subscribe(()=>ue())}},9468:(Ge,ve,x)=>{x.d(ve,{R:()=>q});var p=x(4482);function q(O,se=0){return(0,p.e)((J,de)=>{de.add(O.schedule(()=>J.subscribe(de),se))})}},5698:(Ge,ve,x)=>{x.d(ve,{q:()=>se});var p=x(515),q=x(4482),O=x(5403);function se(J){return J<=0?()=>p.E:(0,q.e)((de,ie)=>{let ue=0;de.subscribe((0,O.x)(ie,ae=>{++ue<=J&&(ie.next(ae),J<=ue&&ie.complete())}))})}},8505:(Ge,ve,x)=>{x.d(ve,{b:()=>J});var p=x(576),q=x(4482),O=x(5403),se=x(4671);function J(de,ie,ue){const ae=(0,p.m)(de)||ie||ue?{next:de,error:ie,complete:ue}:de;return ae?(0,q.e)((j,H)=>{var Q;null===(Q=ae.subscribe)||void 0===Q||Q.call(ae);let Fe=!0;j.subscribe((0,O.x)(H,Ie=>{var Ae;null===(Ae=ae.next)||void 0===Ae||Ae.call(ae,Ie),H.next(Ie)},()=>{var Ie;Fe=!1,null===(Ie=ae.complete)||void 0===Ie||Ie.call(ae),H.complete()},Ie=>{var Ae;Fe=!1,null===(Ae=ae.error)||void 0===Ae||Ae.call(ae,Ie),H.error(Ie)},()=>{var Ie,Ae;Fe&&(null===(Ie=ae.unsubscribe)||void 0===Ie||Ie.call(ae)),null===(Ae=ae.finalize)||void 0===Ae||Ae.call(ae)}))}):se.y}},4408:(Ge,ve,x)=>{x.d(ve,{o:()=>J});var p=x(727);class q extends p.w0{constructor(ie,ue){super()}schedule(ie,ue=0){return this}}const O={setInterval(de,ie,...ue){const{delegate:ae}=O;return(null==ae?void 0:ae.setInterval)?ae.setInterval(de,ie,...ue):setInterval(de,ie,...ue)},clearInterval(de){const{delegate:ie}=O;return((null==ie?void 0:ie.clearInterval)||clearInterval)(de)},delegate:void 0};var se=x(8737);class J extends q{constructor(ie,ue){super(ie,ue),this.scheduler=ie,this.work=ue,this.pending=!1}schedule(ie,ue=0){if(this.closed)return this;this.state=ie;const ae=this.id,j=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(j,ae,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(j,this.id,ue),this}requestAsyncId(ie,ue,ae=0){return O.setInterval(ie.flush.bind(ie,this),ae)}recycleAsyncId(ie,ue,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return ue;O.clearInterval(ue)}execute(ie,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(ie,ue);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ue){let j,ae=!1;try{this.work(ie)}catch(H){ae=!0,j=H||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ue}=this,{actions:ae}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ae,this),null!=ie&&(this.id=this.recycleAsyncId(ue,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ge,ve,x)=>{x.d(ve,{v:()=>O});var p=x(6063);class q{constructor(J,de=q.now){this.schedulerActionCtor=J,this.now=de}schedule(J,de=0,ie){return new this.schedulerActionCtor(this,J).schedule(ie,de)}}q.now=p.l.now;class O extends q{constructor(J,de=q.now){super(J,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:de}=this;if(this._active)return void de.push(J);let ie;this._active=!0;do{if(ie=J.execute(J.state,J.delay))break}while(J=de.shift());if(this._active=!1,ie){for(;J=de.shift();)J.unsubscribe();throw ie}}}},4986:(Ge,ve,x)=>{x.d(ve,{z:()=>O});var p=x(4408);const O=new(x(7565).v)(p.o)},6063:(Ge,ve,x)=>{x.d(ve,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Ge,ve,x)=>{x.d(ve,{z:()=>p});const p={setTimeout(q,O,...se){const{delegate:J}=p;return(null==J?void 0:J.setTimeout)?J.setTimeout(q,O,...se):setTimeout(q,O,...se)},clearTimeout(q){const{delegate:O}=p;return((null==O?void 0:O.clearTimeout)||clearTimeout)(q)},delegate:void 0}},2202:(Ge,ve,x)=>{x.d(ve,{h:()=>q});const q=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ge,ve,x)=>{x.d(ve,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ge,ve,x)=>{x.d(ve,{_6:()=>de,jO:()=>se,yG:()=>J});var p=x(576);function O(ie){return ie[ie.length-1]}function se(ie){return(0,p.m)(O(ie))?ie.pop():void 0}function J(ie){return function q(ie){return ie&&(0,p.m)(ie.schedule)}(O(ie))?ie.pop():void 0}function de(ie,ue){return"number"==typeof O(ie)?ie.pop():ue}},8737:(Ge,ve,x)=>{function p(q,O){if(q){const se=q.indexOf(O);0<=se&&q.splice(se,1)}}x.d(ve,{P:()=>p})},3888:(Ge,ve,x)=>{function p(q){const se=q(J=>{Error.call(J),J.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}x.d(ve,{d:()=>p})},2806:(Ge,ve,x)=>{x.d(ve,{O:()=>se,x:()=>O});var p=x(2416);let q=null;function O(J){if(p.v.useDeprecatedSynchronousErrorHandling){const de=!q;if(de&&(q={errorThrown:!1,error:null}),J(),de){const{errorThrown:ie,error:ue}=q;if(q=null,ie)throw ue}}else J()}function se(J){p.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=J)}},9672:(Ge,ve,x)=>{function p(q,O,se,J=0,de=!1){const ie=O.schedule(function(){se(),de?q.add(this.schedule(null,J)):this.unsubscribe()},J);if(q.add(ie),!de)return ie}x.d(ve,{f:()=>p})},4671:(Ge,ve,x)=>{function p(q){return q}x.d(ve,{y:()=>p})},1144:(Ge,ve,x)=>{x.d(ve,{z:()=>p});const p=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Ge,ve,x)=>{x.d(ve,{D:()=>q});var p=x(576);function q(O){return Symbol.asyncIterator&&(0,p.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(Ge,ve,x)=>{function p(q){return"function"==typeof q}x.d(ve,{m:()=>p})},3670:(Ge,ve,x)=>{x.d(ve,{c:()=>O});var p=x(8822),q=x(576);function O(se){return(0,q.m)(se[p.L])}},6495:(Ge,ve,x)=>{x.d(ve,{T:()=>O});var p=x(2202),q=x(576);function O(se){return(0,q.m)(null==se?void 0:se[p.h])}},8239:(Ge,ve,x)=>{x.d(ve,{t:()=>q});var p=x(576);function q(O){return(0,p.m)(null==O?void 0:O.then)}},3260:(Ge,ve,x)=>{x.d(ve,{L:()=>se,Q:()=>O});var p=x(655),q=x(576);function O(J){return(0,p.FC)(this,arguments,function*(){const ie=J.getReader();try{for(;;){const{value:ue,done:ae}=yield(0,p.qq)(ie.read());if(ae)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{ie.releaseLock()}})}function se(J){return(0,q.m)(null==J?void 0:J.getReader)}},4482:(Ge,ve,x)=>{x.d(ve,{A:()=>q,e:()=>O});var p=x(576);function q(se){return(0,p.m)(null==se?void 0:se.lift)}function O(se){return J=>{if(q(J))return J.lift(function(de){try{return se(de,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ge,ve,x)=>{function p(){}x.d(ve,{Z:()=>p})},7849:(Ge,ve,x)=>{x.d(ve,{h:()=>O});var p=x(2416),q=x(3410);function O(se){q.z.setTimeout(()=>{const{onUnhandledError:J}=p.v;if(!J)throw se;J(se)})}},4532:(Ge,ve,x)=>{function p(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ve,{z:()=>p})},655:(Ge,ve,x)=>{function se(z,te){var he={};for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&te.indexOf(ne)<0&&(he[ne]=z[ne]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ne=Object.getOwnPropertySymbols(z);Te<ne.length;Te++)te.indexOf(ne[Te])<0&&Object.prototype.propertyIsEnumerable.call(z,ne[Te])&&(he[ne[Te]]=z[ne[Te]])}return he}function ue(z,te,he,ne){return new(he||(he=Promise))(function(oe,lt){function Pt(Xe){try{Ze(ne.next(Xe))}catch(Vt){lt(Vt)}}function un(Xe){try{Ze(ne.throw(Xe))}catch(Vt){lt(Vt)}}function Ze(Xe){Xe.done?oe(Xe.value):function Te(oe){return oe instanceof he?oe:new he(function(lt){lt(oe)})}(Xe.value).then(Pt,un)}Ze((ne=ne.apply(z,te||[])).next())})}function ce(z){return this instanceof ce?(this.v=z,this):new ce(z)}function _e(z,te,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ne=he.apply(z,te||[]),oe=[];return Te={},lt("next"),lt("throw"),lt("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function lt(jt){ne[jt]&&(Te[jt]=function(xr){return new Promise(function(Ot,Kr){oe.push([jt,xr,Ot,Kr])>1||Pt(jt,xr)})})}function Pt(jt,xr){try{!function un(jt){jt.value instanceof ce?Promise.resolve(jt.value.v).then(Ze,Xe):Vt(oe[0][2],jt)}(ne[jt](xr))}catch(Ot){Vt(oe[0][3],Ot)}}function Ze(jt){Pt("next",jt)}function Xe(jt){Pt("throw",jt)}function Vt(jt,xr){jt(xr),oe.shift(),oe.length&&Pt(oe[0][0],oe[0][1])}}function Ue(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,te=z[Symbol.asyncIterator];return te?te.call(z):(z=function Q(z){var te="function"==typeof Symbol&&Symbol.iterator,he=te&&z[te],ne=0;if(he)return he.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ne>=z.length&&(z=void 0),{value:z&&z[ne++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),he={},ne("next"),ne("throw"),ne("return"),he[Symbol.asyncIterator]=function(){return this},he);function ne(oe){he[oe]=z[oe]&&function(lt){return new Promise(function(Pt,un){!function Te(oe,lt,Pt,un){Promise.resolve(un).then(function(Ze){oe({value:Ze,done:Pt})},lt)}(Pt,un,(lt=z[oe](lt)).done,lt.value)})}}}x.d(ve,{FC:()=>_e,KL:()=>Ue,_T:()=>se,mG:()=>ue,qq:()=>ce})},5e3:(Ge,ve,x)=>{x.d(ve,{$8M:()=>lo,$Z:()=>mf,AFp:()=>zm,AaK:()=>ue,CHM:()=>Qa,CRH:()=>hh,CZH:()=>np,CqO:()=>_y,EJc:()=>LC,EpF:()=>gy,F4k:()=>my,FYo:()=>yc,FiY:()=>Sr,G48:()=>fI,GfV:()=>th,JOm:()=>re,LFG:()=>je,LSH:()=>Aa,Lbi:()=>NC,MAs:()=>Ag,NdJ:()=>Lg,O4$:()=>fu,OlP:()=>sn,PXZ:()=>Ln,Q6J:()=>xg,QGY:()=>kg,Qsj:()=>VE,R0b:()=>gs,RDi:()=>vi,Rgc:()=>wc,SBq:()=>fs,Sil:()=>zv,Suo:()=>Lm,TTD:()=>Es,TgZ:()=>_f,VLi:()=>U,X6Q:()=>hI,XFs:()=>qe,Xpm:()=>mt,Y36:()=>lc,YKP:()=>GE,YNc:()=>Md,Yjl:()=>Bn,Yz7:()=>Ot,ZZ4:()=>qC,_UZ:()=>uc,_Vd:()=>$f,_c5:()=>MI,_uU:()=>Pf,aQg:()=>YC,c2e:()=>$v,cJS:()=>xt,cg1:()=>qd,dDg:()=>E,deG:()=>bh,dqk:()=>wt,eFA:()=>Pr,g9A:()=>Km,h0i:()=>Ec,hGG:()=>RI,hij:()=>ql,iGM:()=>km,ifc:()=>Ct,ip1:()=>Wm,kL8:()=>zy,kcU:()=>sp,lG2:()=>St,oAB:()=>Y,q4F:()=>Cv,qLn:()=>qn,qZA:()=>Fd,sBO:()=>pI,sIi:()=>Td,s_b:()=>lh,soG:()=>qm,tBr:()=>nr,tb:()=>Hv,tp0:()=>Ps,uIk:()=>Tg,vHH:()=>Ae,vpe:()=>hi,wAp:()=>it,xp6:()=>ld,z2F:()=>$C,zSh:()=>yg,zs3:()=>js});var p=x(7579),q=x(727),O=x(8306),se=x(6451),J=x(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ae(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const j=de({__forward_ref__:de});function H(n){return n.__forward_ref__=H,n.toString=function(){return ue(this())},n}function Q(n){return function Fe(n){return"function"==typeof n&&n.hasOwnProperty(j)&&n.__forward_ref__===H}(n)?n():n}class Ae extends Error{constructor(r,s){super(function Re(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function _e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}function pe(n,r){const s=r?` in ${r}`:"";throw new Ae(-201,`No provider for ${_e(n)} found${s}`)}function Ze(n,r){null==n&&function Xe(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Et(n){return Sn(n,qr)||Sn(n,fi)}function Sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Xn(n){return n&&(n.hasOwnProperty(er)||n.hasOwnProperty(Yr))?n[er]:null}const qr=de({\u0275prov:de}),er=de({\u0275inj:de}),fi=de({ngInjectableDef:de}),Yr=de({ngInjectorDef:de});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let or;function En(n){const r=or;return or=n,r}function vr(n,r,s){const a=Et(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&qe.Optional?null:void 0!==r?r:void pe(ue(n),"Injector")}function zt(n){return{toString:n}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Ct=(()=>{return(n=Ct||(Ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ct;var n})();const ze="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wt=ze||"undefined"!=typeof global&&global||st||Mn,Rn={},Ye=[],Un=de({\u0275cmp:de}),yt=de({\u0275dir:de}),Be=de({\u0275pipe:de}),Ce=de({\u0275mod:de}),Ve=de({\u0275fac:de}),Qe=de({__NG_ELEMENT_ID__:de});let vt=0;function mt(n){return zt(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ct.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,h=n.features,_=n.pipes;return a.id+=vt++,a.inputs=et(n.inputs,s),a.outputs=et(n.outputs),h&&h.forEach(v=>v(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(F):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,a})}function F(n){return Tt(n)||function en(n){return n[yt]||null}(n)}function $(n){return function dt(n){return n[Be]||null}(n)}const le={};function Y(n){return zt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(le[n.id]=n.type),r})}function et(n,r){if(null==n)return Rn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=a,r&&(r[u]=h)}return s}const St=mt;function Bn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tt(n){return n[Un]||null}function Ht(n,r){const s=n[Ce]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function Cr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ar(n){return Array.isArray(n)&&!0===n[1]}function za(n){return 0!=(8&n.flags)}function Vi(n){return 2==(2&n.flags)}function ea(n){return 1==(1&n.flags)}function lr(n){return null!==n.template}function bc(n){return 0!=(512&n[2])}function ur(n,r){return n.hasOwnProperty(Ve)?n[Ve]:null}class Qs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Es(){return Do}function Do(n){return n.type.prototype.ngOnChanges&&(n.setInput=wh),su}function su(){const n=$i(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Rn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function wh(n,r,s,a){const u=$i(n)||function wr(n,r){return n[Js]=r}(n,{previous:Rn,current:null}),h=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[s],C=_[v];h[v]=new Qs(C&&C.currentValue,r,_===Rn),n[a]=r}Es.ngInherit=!0;const Js="__ngSimpleChanges__";function $i(n){return n[Js]||null}let aa;function vi(n){aa=n}function Gt(n){return!!n.listen}const Xs={createRenderer:(n,r)=>function bo(){return void 0!==aa?aa:"undefined"!=typeof document?document:void 0}()};function Ft(n){for(;Array.isArray(n);)n=n[0];return n}function Hn(n,r){return Ft(r[n.index])}function To(n,r){return n.data[r]}function $n(n,r){const s=r[n];return Cr(s)?s:s[0]}function zi(n){return 4==(4&n[2])}function Ei(n){return 128==(128&n[2])}function dr(n,r){return null==r?null:n[r]}function Gi(n){n[18]=0}function Zi(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Je={lFrame:Ds(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ha(){return Je.bindingsEnabled}function ye(){return Je.lFrame.lView}function _t(){return Je.lFrame.tView}function Qa(n){return Je.lFrame.contextLView=n,n[8]}function qt(){let n=eo();for(;null!==n&&64===n.type;)n=n.parent;return n}function eo(){return Je.lFrame.currentTNode}function hr(n,r){const s=Je.lFrame;s.currentTNode=n,s.isParent=r}function Ja(){return Je.lFrame.isParent}function fa(){return Je.isInCheckNoChangesMode}function Ki(n){Je.isInCheckNoChangesMode=n}function qi(){return Je.lFrame.bindingIndex++}function ma(n,r){const s=Je.lFrame;s.bindingIndex=s.bindingRootIndex=n,So(r)}function So(n){Je.lFrame.currentDirectiveIndex=n}function rl(){return Je.lFrame.currentQueryIndex}function il(n){Je.lFrame.currentQueryIndex=n}function uu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function sl(n,r,s){if(s&qe.SkipSelf){let u=r,h=n;for(;!(u=u.parent,null!==u||s&qe.Host||(u=uu(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;r=u,n=h}const a=Je.lFrame=cu();return a.currentTNode=r,a.lView=n,!0}function Is(n){const r=cu(),s=n[1];Je.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function cu(){const n=Je.lFrame,r=null===n?null:n.child;return null===r?Ds(n):r}function Ds(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function du(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hu=du;function bs(){const n=du();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wn(){return Je.lFrame.selectedIndex}function Qi(n){Je.lFrame.selectedIndex=n}function tn(){const n=Je.lFrame;return To(n.tView,n.selectedIndex)}function fu(){Je.lFrame.currentNamespace="svg"}function sp(){!function al(){Je.lFrame.currentNamespace=null}()}function Ci(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:A}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),T&&((n.viewHooks||(n.viewHooks=[])).push(s,T),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,T)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function Ro(n,r,s){pu(n,r,3,s)}function _a(n,r,s,a){(3&n[2])===s&&pu(n,r,s,a)}function yn(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function pu(n,r,s,a){const h=null!=a?a:-1,_=r.length-1;let v=0;for(let C=void 0!==a?65535&n[18]:0;C<_;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(n[18]+=65536),(v<h||-1==h)&&(Ih(n,s,r,C),n[18]=(4294901760&n[18])+C+2),C++}function Ih(n,r,s,a){const u=s[a]<0,h=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class no{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function rt(n,r,s){const a=Gt(n);let u=0;for(;u<s.length;){const h=s[u];if("number"==typeof h){if(0!==h)break;u++;const _=s[u++],v=s[u++],C=s[u++];a?n.setAttribute(r,v,C,_):r.setAttributeNS(_,v,C)}else{const _=h,v=s[++u];fr(_)?a&&n.setProperty(r,_,v):a?n.setAttribute(r,_,v):r.setAttribute(_,v),u++}}return u}function On(n){return 3===n||4===n||6===n}function fr(n){return 64===n.charCodeAt(0)}function Dr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||ro(n,s,u,null,-1===s||2===s?r[++a]:null)}}return n}function ro(n,r,s,a,u){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const v=n[h++];if("number"==typeof v){if(v===r){_=-1;break}if(v>r){_=h-1;break}}}for(;h<n.length;){const v=n[h];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function _u(n){return-1!==n}function Wt(n){return 32767&n}function Xr(n,r){let s=function Mc(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ya=!0;function pr(n){const r=ya;return ya=n,r}let Rc=0;function fn(n,r){const s=so(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ii(a.data,n),Ii(r,null),Ii(a.blueprint,null));const u=br(n,r),h=n.injectorIndex;if(_u(u)){const _=Wt(u),v=Xr(u,r),C=v[1].data;for(let T=0;T<8;T++)r[h+T]=v[_+T]|C[_+T]}return r[h+8]=u,h}function Ii(n,r){n.push(0,0,0,0,0,0,0,0,r)}function so(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function br(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){const h=u[1],_=h.type;if(a=2===_?h.declTNode:1===_?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Ji(n,r,s){!function io(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qe)&&(a=s[Qe]),null==a&&(a=s[Qe]=Rc++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,s)}function ei(n,r,s){if(s&qe.Optional)return n;pe(r,"NodeInjector")}function dl(n,r,s,a){if(s&qe.Optional&&void 0===a&&(a=null),0==(s&(qe.Self|qe.Host))){const u=n[9],h=En(void 0);try{return u?u.get(r,a,s&qe.Optional):vr(r,a,s&qe.Optional)}finally{En(h)}}return ei(a,r,s)}function Xi(n,r,s,a=qe.Default,u){if(null!==n){const h=function ao(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Qe)?n[Qe]:void 0;return"number"==typeof r?r>=0?255&r:hl:r}(s);if("function"==typeof h){if(!sl(r,n,a))return a&qe.Host?ei(u,s,a):dl(r,s,a,u);try{const _=h(a);if(null!=_||a&qe.Optional)return _;pe(s)}finally{hu()}}else if("number"==typeof h){let _=null,v=so(n,r),C=-1,T=a&qe.Host?r[16][6]:null;for((-1===v||a&qe.SkipSelf)&&(C=-1===v?br(n,r):r[v+8],-1!==C&&Gn(a,!1)?(_=r[1],v=Wt(C),r=Xr(C,r)):v=-1);-1!==v;){const A=r[1];if(xo(h,v,A.data)){const N=vu(v,r,s,_,a,T);if(N!==ti)return N}C=r[v+8],-1!==C&&Gn(a,r[1].data[v+8]===T)&&xo(h,v,r)?(_=A,v=Wt(C),r=Xr(C,r)):v=-1}}}return dl(r,s,a,u)}const ti={};function hl(){return new Fr(qt(),ye())}function vu(n,r,s,a,u,h){const _=r[1],v=_.data[n+8],A=oo(v,_,s,null==a?Vi(v)&&ya:a!=_&&0!=(3&v.type),u&qe.Host&&h===v);return null!==A?Lr(r,_,A,v):ti}function oo(n,r,s,a,u){const h=n.providerIndexes,_=r.data,v=1048575&h,C=n.directiveStart,A=h>>20,V=u?v+A:n.directiveEnd;for(let K=a?v:v+A;K<V;K++){const fe=_[K];if(K<C&&s===fe||K>=C&&fe.type===s)return K}if(u){const K=_[C];if(K&&lr(K)&&K.type===s)return C}return null}function Lr(n,r,s,a){let u=n[s];const h=r.data;if(function gu(n){return n instanceof no}(u)){const _=u;_.resolving&&function $e(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${s}`)}(_e(h[s]));const v=pr(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?En(_.injectImpl):null;sl(n,a,qe.Default);try{u=n[s]=_.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ll(n,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=r.type.prototype;if(a){const _=Do(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==C&&En(C),pr(v),_.resolving=!1,hu()}}return u}function xo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Gn(n,r){return!(n&qe.Self||n&qe.Host&&r)}class Fr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Xi(this._tNode,this._lView,r,a,s)}}function lo(n){return function Po(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(On(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===r)return s[u+1];u+=2}}}return null}(qt(),n)}const uo="__parameters__";function rn(n,r,s){return zt(()=>{const a=function ni(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...h){if(this instanceof u)return a.apply(this,h),this;const _=new u(...h);return v.annotation=_,v;function v(C,T,A){const N=C.hasOwnProperty(uo)?C[uo]:Object.defineProperty(C,uo,{value:[]})[uo];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),C}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class sn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ot({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bh=new sn("AnalyzeForEntryComponents");function Zn(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Zn(a,r)):r!==n&&r.push(a)}return r}function Tr(n,r){n.forEach(s=>Array.isArray(s)?Tr(s,r):r(s))}function gl(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function bi(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}const Ms={},ho="__NG_DI_FLAG__",wa="ngTempTokenPath",I=/\n/gm,L="__source",G=de({provide:String,useValue:de});let X;function De(n){const r=X;return X=n,r}function be(n,r=qe.Default){if(void 0===X)throw new Ae(203,"");return null===X?vr(n,void 0,r):X.get(n,r&qe.Optional?null:void 0,r)}function je(n,r=qe.Default){return(function bn(){return or}()||be)(Q(n),r)}const ht=je;function ut(n){const r=[];for(let s=0;s<n.length;s++){const a=Q(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ae(900,"");let u,h=qe.Default;for(let _=0;_<a.length;_++){const v=a[_],C=on(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}r.push(je(u,h))}else r.push(je(a))}return r}function vn(n,r){return n[ho]=r,n.prototype[ho]=r,n}function on(n){return n[ho]}const nr=vn(rn("Inject",n=>({token:n})),-1),Sr=vn(rn("Optional"),8),Ps=vn(rn("SkipSelf"),4);class Mu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const os=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Nt=(()=>((Nt=Nt||{})[Nt.NONE=0]="NONE",Nt[Nt.HTML=1]="HTML",Nt[Nt.STYLE=2]="STYLE",Nt[Nt.SCRIPT=3]="SCRIPT",Nt[Nt.URL=4]="URL",Nt[Nt.RESOURCE_URL=5]="RESOURCE_URL",Nt))();function Aa(n){const r=function _o(){const n=ye();return n&&n[12]}();return r?r.sanitize(Nt.URL,n)||"":function go(n,r){const s=function Da(n){return n instanceof Mu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?function ss(n){return n instanceof Mu?n.changingThisBreaksApplicationSecurity:n}(n):function ba(n){return(n=String(n)).match(os)||n.match(Bc)?n:"unsafe:"+n}(ce(n))}const qc="__ngContext__";function rr(n,r){n[qc]=r}function Yc(n){const r=function Fo(n){return n[qc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Vo(n){return n.ngOriginalError}function jh(n,...r){n.error(...r)}class qn{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Sp(n){return n&&n.ngErrorLogger||jh}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Vo(r);for(;s&&Vo(s);)s=Vo(s);return s||null}}const xp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wt))();function f(n){return n instanceof Function?n():n}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();function He(n,r){return undefined(n,r)}function an(n){const r=n[3];return ar(r)?r[3]:r}function Sa(n){return id(n[13])}function Ma(n){return id(n[4])}function id(n){for(;null!==n&&!ar(n);)n=n[4];return n}function yo(n,r,s,a,u){if(null!=a){let h,_=!1;ar(a)?h=a:Cr(a)&&(_=!0,a=a[0]);const v=Ft(a);0===n&&null!==s?null==u?Vp(r,s,v):Ai(r,s,v,u||null,!0):1===n&&null!==s?Ai(r,s,v,u||null,!0):2===n?function Wp(n,r,s){const a=ad(n,r);a&&function qv(n,r,s,a){Gt(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,v,_):3===n&&r.destroyNode(v),null!=h&&function Jv(n,r,s,a,u){const h=s[7];h!==Ft(s)&&yo(r,n,a,h,u);for(let v=10;v<s.length;v++){const C=s[v];Gh(C[1],C,n,r,a,h)}}(r,n,h,s,u)}}function Fu(n,r,s){if(Gt(n))return n.createElement(r,s);{const a=null!==s?function oa(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function e_(n,r){const s=n[9],a=s.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,Zi(u,-1)),s.splice(a,1)}function Fp(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&e_(u,a),r>0&&(n[s-1][4]=a[4]);const h=bi(n,10+r);!function Hr(n,r){Gh(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Up(n,r){if(!(256&r[2])){const s=r[11];Gt(s)&&s.destroyNode&&Gh(n,r,s,3,null,null),function kp(n){let r=n[13];if(!r)return Bp(n[1],n);for(;r;){let s=null;if(Cr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Cr(r)&&Bp(r[1],r),r=r[3];null===r&&(r=n),Cr(r)&&Bp(r[1],r),s=r&&r[4]}r=s}}(r)}}function Bp(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function n_(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof no)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const v=u[h[_]],C=h[_+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(n,r),function t_(n,r){const s=n.cleanup,a=r[7];let u=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],v="function"==typeof _?_(r):Ft(r[_]),C=a[u=s[h+2]],T=s[h+3];"boolean"==typeof T?v.removeEventListener(s[h],C,T):T>=0?a[u=T]():a[u=-T].unsubscribe(),h+=2}else{const _=a[u=s[h+1]];s[h].call(_)}if(null!==a){for(let h=u+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&Gt(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&ar(r[3])){s!==r[3]&&e_(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Wh(n,r,s){return function Kv(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===Ct.None||u===Ct.Emulated)return null}return Hn(a,s)}(n,r.parent,s)}function Ai(n,r,s,a,u){Gt(n)?n.insertBefore(r,s,a,u):r.insertBefore(s,a,u)}function Vp(n,r,s){Gt(n)?n.appendChild(r,s):r.appendChild(s)}function r_(n,r,s,a,u){null!==a?Ai(n,r,s,a,u):Vp(n,r,s)}function ad(n,r){return Gt(n)?n.parentNode(r):r.parentNode}let jp=function s_(n,r,s){return 40&n.type?Hn(n,s):null};function zh(n,r,s,a){const u=Wh(n,a,r),h=r[11],v=function i_(n,r,s){return jp(n,r,s)}(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let C=0;C<s.length;C++)r_(h,u,s[C],v,!1);else r_(h,u,s,v,!1)}function Bu(n,r){if(null!==r){const s=r.type;if(3&s)return Hn(r,n);if(4&s)return $p(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Bu(n,a);{const u=n[r.index];return ar(u)?$p(-1,u):Ft(u)}}if(32&s)return He(r,n)()||Ft(n[r.index]);{const a=a_(n,r);return null!==a?Array.isArray(a)?a[0]:Bu(an(n[16]),a):Bu(n,r.next)}}return null}function a_(n,r){return null!==r?n[16][6].projection[r.projection]:null}function $p(n,r){const s=10+n+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Bu(a,u)}return r[7]}function zp(n,r,s,a,u,h,_){for(;null!=s;){const v=a[s.index],C=s.type;if(_&&0===r&&(v&&rr(Ft(v),a),s.flags|=4),64!=(64&s.flags))if(8&C)zp(n,r,s.child,a,u,h,!1),yo(r,n,u,v,h);else if(32&C){const T=He(s,a);let A;for(;A=T();)yo(r,n,u,A,h);yo(r,n,u,v,h)}else 16&C?l_(n,r,a,s,u,h):yo(r,n,u,v,h);s=_?s.projectionNext:s.next}}function Gh(n,r,s,a,u,h){zp(s,a,n.firstChild,r,u,h,!1)}function l_(n,r,s,a,u,h){const _=s[16],C=_[6].projection[a.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)yo(r,n,u,C[T],h);else zp(n,r,C,_[3],u,h,!0)}function u_(n,r,s){Gt(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Gp(n,r,s){Gt(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function c_(n,r,s){let a=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=r.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}s=u+1}}const d_="ng-template";function Ls(n,r,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==c_(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function h_(n){return 4===n.type&&n.value!==d_}function Zp(n,r,s){return r===(4!==n.type||s?n.value:d_)}function f_(n,r,s){let a=4;const u=n.attrs||[],h=function n0(n){for(let r=0;r<n.length;r++)if(On(n[r]))return r;return n.length}(u);let _=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!_)if(4&a){if(a=2|1&a,""!==C&&!Zp(n,C,s)||""===C&&1===r.length){if(Fs(a))return!1;_=!0}}else{const T=8&a?C:r[++v];if(8&a&&null!==n.attrs){if(!Ls(n.attrs,T,s)){if(Fs(a))return!1;_=!0}continue}const N=e0(8&a?"class":C,u,h_(n),s);if(-1===N){if(Fs(a))return!1;_=!0;continue}if(""!==T){let V;V=N>h?"":u[N+1].toLowerCase();const K=8&a?V:null;if(K&&-1!==c_(K,T,0)||2&a&&T!==V){if(Fs(a))return!1;_=!0}}}}else{if(!_&&!Fs(a)&&!Fs(C))return!1;if(_&&Fs(C))continue;_=!1,a=C|1&a}}return Fs(a)||_}function Fs(n){return 0==(1&n)}function e0(n,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let h=!1;for(;u<r.length;){const _=r[u];if(_===n)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let v=r[++u];for(;"string"==typeof v;)v=r[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function Si(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function p_(n,r,s=!1){for(let a=0;a<r.length;a++)if(f_(n,r[a],s))return!0;return!1}function g_(n,r){return n?":not("+r.trim()+")":r}function kl(n){let r=n[0],s=1,a=2,u="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const v=n[++s];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!Fs(_)&&(r+=g_(h,u),u=""),a=_,h=h||!Fs(a);s++}return""!==u&&(r+=g_(h,u)),r}const P={};function ld(n){Kp(_t(),ye(),Wn()+n,fa())}function Kp(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Ro(r,h,s)}else{const h=n.preOrderHooks;null!==h&&_a(r,h,0,s)}Qi(s)}function ng(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];il(u),_.contentQueries(2,r[h],h)}}}function pd(n,r,s,a,u,h,_,v,C,T){const A=r.blueprint.slice();return A[0]=u,A[2]=140|a,Gi(A),A[3]=A[15]=n,A[8]=s,A[10]=_||n&&n[10],A[11]=v||n&&n[11],A[12]=C||n&&n[12]||null,A[9]=T||n&&n[9]||null,A[6]=h,A[16]=2==r.type?n[16]:A,A}function jl(n,r,s,a,u){let h=n.data[r];if(null===h)h=function ig(n,r,s,a,u){const h=eo(),_=Ja(),C=n.data[r]=function h0(n,r,s,a,u,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,u);return null===n.firstChild&&(n.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(n,r,s,a,u),function tl(){return Je.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const _=function to(){const n=Je.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return hr(h,!0),h}function Ra(n,r,s,a){if(0===s)return-1;const u=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function Hl(n,r,s){Is(r);try{const a=n.viewQuery;null!==a&&mr(1,a,s);const u=n.template;null!==u&&w_(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ng(n,r),n.staticViewQueries&&mr(2,n.viewQuery,s);const h=n.components;null!==h&&function rg(n,r){for(let s=0;s<r.length;s++)Bt(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,bs()}}function Pa(n,r,s,a){const u=r[2];if(256==(256&u))return;Is(r);const h=fa();try{Gi(r),function pa(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&w_(n,r,s,2,a);const _=3==(3&u);if(!h)if(_){const T=n.preOrderCheckHooks;null!==T&&Ro(r,T,null)}else{const T=n.preOrderHooks;null!==T&&_a(r,T,0,null),yn(r,0)}if(function F_(n){for(let r=Sa(n);null!==r;r=Ma(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],h=u[3];0==(1024&u[2])&&Zi(h,1),u[2]|=1024}}}(r),function ef(n){for(let r=Sa(n);null!==r;r=Ma(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];Ei(a)&&Pa(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&ng(n,r),!h)if(_){const T=n.contentCheckHooks;null!==T&&Ro(r,T)}else{const T=n.contentHooks;null!==T&&_a(r,T,1),yn(r,1)}!function tg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Qi(~u);else{const h=u,_=s[++a],v=s[++a];ma(_,h),v(2,r[h])}}}finally{Qi(-1)}}(n,r);const v=n.components;null!==v&&function C_(n,r){for(let s=0;s<r.length;s++)U_(n,r[s])}(r,v);const C=n.viewQuery;if(null!==C&&mr(2,C,a),!h)if(_){const T=n.viewCheckHooks;null!==T&&Ro(r,T)}else{const T=n.viewHooks;null!==T&&_a(r,T,2),yn(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Zi(r[3],-1))}finally{bs()}}function d0(n,r,s,a){const u=r[10],h=!fa(),_=zi(r);try{h&&!_&&u.begin&&u.begin(),_&&Hl(n,r,a),Pa(n,r,s,a)}finally{h&&!_&&u.end&&u.end()}}function w_(n,r,s,a,u){const h=Wn(),_=2&a;try{Qi(-1),_&&r.length>20&&Kp(n,r,20,fa()),s(a,u)}finally{Qi(h)}}function og(n,r,s){!ha()||(function m0(n,r,s,a){const u=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||fn(s,r),rr(a,r);const _=s.initialInputs;for(let v=u;v<h;v++){const C=n.data[v],T=lr(C);T&&k_(r,s,C);const A=Lr(r,n,v,s);rr(A,r),null!==_&&v0(0,v-u,A,C,0,_),T&&($n(s.index,r)[8]=A)}}(n,r,s,Hn(s,r)),128==(128&s.flags)&&function _0(n,r,s){const a=s.directiveStart,u=s.directiveEnd,_=s.index,v=function nl(){return Je.lFrame.currentDirectiveIndex}();try{Qi(_);for(let C=a;C<u;C++){const T=n.data[C],A=r[C];So(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&x_(T,A)}}finally{Qi(-1),So(v)}}(n,r,s))}function ag(n,r,s=Hn){const a=r.localNames;if(null!==a){let u=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],v=-1===_?s(r,n):n[_];n[u++]=v}}}function I_(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=gd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function gd(n,r,s,a,u,h,_,v,C,T){const A=20+a,N=A+u,V=function D_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:P);return s}(A,N),K="function"==typeof T?T():T;return V[1]={type:n,blueprint:V,template:s,queries:null,viewQuery:v,declTNode:r,data:V.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:K,incompleteFirstPass:!1}}function T_(n,r,s,a){const u=Ri(r);null===s?u.push(a):(u.push(s),n.firstCreatePass&&B_(n).push(a,u.length-1))}function A_(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function $l(n,r,s,a){let u=!1;if(ha()){const h=function ug(n,r,s){const a=n.directiveRegistry;let u=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];p_(s,_.selectors,!1)&&(u||(u=[]),Ji(fn(s,r),n,_.type),lr(_)?(cg(n,s),u.unshift(_)):u.push(_))}return u}(n,r,s),_=null===a?null:{"":-1};if(null!==h){u=!0,N_(s,n.data.length,h.length);for(let A=0;A<h.length;A++){const N=h[A];N.providersResolver&&N.providersResolver(N)}let v=!1,C=!1,T=Ra(n,r,h.length,null);for(let A=0;A<h.length;A++){const N=h[A];s.mergedAttrs=Dr(s.mergedAttrs,N.hostAttrs),dg(n,s,r,T,N),O_(T,N,_),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),v=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),T++}!function S_(n,r){const a=r.directiveEnd,u=n.data,h=r.attrs,_=[];let v=null,C=null;for(let T=r.directiveStart;T<a;T++){const A=u[T],N=A.inputs,V=null===h||h_(r)?null:L_(N,h);_.push(V),v=A_(N,T,v),C=A_(A.outputs,T,C)}null!==v&&(v.hasOwnProperty("class")&&(r.flags|=16),v.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=v,r.outputs=C}(n,s)}_&&function y0(n,r,s){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const h=s[r[u+1]];if(null==h)throw new Ae(-301,!1);a.push(r[u],h)}}}(s,a,_)}return s.mergedAttrs=Dr(s.mergedAttrs,s.attrs),u}function Jh(n,r,s,a,u,h){const _=h.hostBindings;if(_){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~r.index;(function g0(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(a,u,_)}}function x_(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function cg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function O_(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;lr(r)&&(s[""]=n)}}function N_(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function dg(n,r,s,a,u){n.data[a]=u;const h=u.factory||(u.factory=ur(u.type)),_=new no(h,lr(u),null);n.blueprint[a]=_,s[a]=_,Jh(n,r,0,a,Ra(n,s,u.hostVars,P),u)}function k_(n,r,s){const a=Hn(r,n),u=I_(s),h=n[10],_=Bs(n,pd(n,u,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));n[r.index]=_}function Us(n,r,s,a,u,h){const _=Hn(n,r);!function Xh(n,r,s,a,u,h,_){if(null==h)Gt(n)?n.removeAttribute(r,u,s):r.removeAttribute(u);else{const v=null==_?ce(h):_(h,a||"",u);Gt(n)?n.setAttribute(r,u,v,s):s?r.setAttributeNS(s,u,v):r.setAttribute(u,v)}}(r[11],_,h,n.value,s,a,u)}function v0(n,r,s,a,u,h){const _=h[r];if(null!==_){const v=a.setInput;for(let C=0;C<_.length;){const T=_[C++],A=_[C++],N=_[C++];null!==v?a.setInput(s,N,T,A):s[A]=N}}}function L_(n,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function hg(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function U_(n,r){const s=$n(r,n);if(Ei(s)){const a=s[1];80&s[2]?Pa(a,s,a.template,s[8]):s[5]>0&&Ut(s)}}function Ut(n){for(let a=Sa(n);null!==a;a=Ma(a))for(let u=10;u<a.length;u++){const h=a[u];if(1024&h[2]){const _=h[1];Pa(_,h,_.template,h[8])}else h[5]>0&&Ut(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=$n(s[a],n);Ei(u)&&u[5]>0&&Ut(u)}}function Bt(n,r){const s=$n(r,n),a=s[1];(function It(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Hl(a,s,s[8])}function Bs(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Zt(n){for(;n;){n[2]|=64;const r=an(n);if(bc(n)&&!r)return n;n=r}return null}function Wl(n,r,s){const a=r[10];a.begin&&a.begin();try{Pa(n,r,n.template,s)}catch(u){throw j_(r,u),u}finally{a.end&&a.end()}}function gg(n){!function pg(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=Yc(s),u=a[1];d0(u,a,u.template,s)}}(n[8])}function mr(n,r,s){il(0),r(n,s)}const mg=(()=>Promise.resolve(null))();function Ri(n){return n[7]||(n[7]=[])}function B_(n){return n.cleanup||(n.cleanup=[])}function j_(n,r){const s=n[9],a=s?s.get(qn,null):null;a&&a.handleError(r)}function _g(n,r,s,a,u){for(let h=0;h<s.length;){const _=s[h++],v=s[h++],C=r[_],T=n.data[_];null!==T.setInput?T.setInput(C,u,a,v):C[v]=u}}function zr(n,r,s){const a=function ws(n,r){return Ft(r[n])}(r,n);!function Lu(n,r,s){Gt(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Gu(n,r,s){let a=s?n.styles:null,u=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const v=r[_];"number"==typeof v?h=v:1==h?u=ae(u,v):2==h&&(a=ae(a,v+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const tf=new sn("INJECTOR",-1);class H_{get(r,s=Ms){if(s===Ms){const a=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw a.name="NullInjectorError",a}return s}}const yg=new sn("Set Injector scope."),vd={},$_={};let Wo;function bt(){return void 0===Wo&&(Wo=new H_),Wo}function Ed(n,r=null,s=null,a){const u=Cd(n,r,s,a);return u._resolveInjectorDefTypes(),u}function Cd(n,r=null,s=null,a){return new W_(n,s,r||bt(),a)}class W_{constructor(r,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Tr(s,v=>this.processProvider(v,r,s)),Tr([r],v=>this.processInjectorType(v,[],h)),this.records.set(tf,Yn(void 0,this));const _=this.records.get(yg);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof r?null:ue(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Ms,a=qe.Default){this.assertNotDestroyed();const u=De(this),h=En(void 0);try{if(!(a&qe.SkipSelf)){let v=this.records.get(r);if(void 0===v){const C=function Ku(n){return"function"==typeof n||"object"==typeof n&&n instanceof sn}(r)&&Et(r);v=C&&this.injectableDefInScope(C)?Yn(us(r),vd):null,this.records.set(r,v)}if(null!=v)return this.hydrate(r,v)}return(a&qe.Self?bt():this.parent).get(r,s=a&qe.Optional&&s===Ms?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[wa]=_[wa]||[]).unshift(ue(r)),u)throw _;return function fo(n,r,s,a){const u=n[wa];throw r[L]&&u.unshift(r[L]),n.message=function Rs(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=ue(r);if(Array.isArray(r))u=r.map(ue).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let v=r[_];h.push(_+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(I,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[wa]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{En(h),De(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(ue(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(r,s,a){if(!(r=Q(r)))return!1;let u=Xn(r);const h=null==u&&r.ngModule||void 0,_=void 0===h?r:h,v=-1!==a.indexOf(_);if(void 0!==h&&(u=Xn(h)),null==u)return!1;if(null!=u.imports&&!v){let A;a.push(_);try{Tr(u.imports,N=>{this.processInjectorType(N,s,a)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:V,providers:K}=A[N];Tr(K,fe=>this.processProvider(fe,V,K||Ye))}}this.injectorDefTypes.add(_);const C=ur(_)||(()=>new _);this.records.set(_,Yn(C,vd));const T=u.providers;if(null!=T&&!v){const A=r;Tr(T,N=>this.processProvider(N,A,T))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let u=Zu(r=Q(r))?r:Q(r&&r.provide);const h=function Vs(n,r,s){return G_(n)?Yn(void 0,n.useValue):Yn(function z_(n,r,s){let a;if(Zu(n)){const u=Q(n);return ur(u)||us(u)}if(G_(n))a=()=>Q(n.useValue);else if(function Eg(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ut(n.deps||[]));else if(function vg(n){return!(!n||!n.useExisting)}(n))a=()=>je(Q(n.useExisting));else{const u=Q(n&&(n.useClass||n.provide));if(!function K_(n){return!!n.deps}(n))return ur(u)||us(u);a=()=>new u(...ut(n.deps))}return a}(n),vd)}(r);if(Zu(r)||!0!==r.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=Yn(void 0,vd,!0),_.factory=()=>ut(_.multi),this.records.set(u,_)),u=r,_.multi.push(r)}this.records.set(u,h)}hydrate(r,s){return s.value===vd&&(s.value=$_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function q_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Q(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function us(n){const r=Et(n),s=null!==r?r.factory:ur(n);if(null!==s)return s;if(n instanceof sn)throw new Ae(204,!1);if(n instanceof Function)return function nf(n){const r=n.length;if(r>0)throw function Ur(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Ae(204,!1);const s=function sr(n){const r=n&&(n[qr]||n[fi]);if(r){const s=function ki(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ae(204,!1)}function Yn(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function G_(n){return null!==n&&"object"==typeof n&&G in n}function Zu(n){return"function"==typeof n}let js=(()=>{class n{static create(s,a){var u;if(Array.isArray(s))return Ed({name:""},a,s,"");{const h=null!==(u=s.name)&&void 0!==u?u:"";return Ed({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=Ms,n.NULL=new H_,n.\u0275prov=Ot({token:n,providedIn:"any",factory:()=>je(tf)}),n.__NG_ELEMENT_ID__=-1,n})();function ty(n,r){Ci(Yc(n)[1],qt())}let Ju=null;function Xu(){if(!Ju){const n=wt.Symbol;if(n&&n.iterator)Ju=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ju=a)}}}return Ju}function Td(n){return!!cf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xu()in n)}function cf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qn(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Tg(n,r,s,a){const u=ye();return Qn(u,qi(),r)&&(_t(),Us(tn(),u,n,r,s,a)),Tg}function Md(n,r,s,a,u,h,_,v){const C=ye(),T=_t(),A=n+20,N=T.firstCreatePass?function x0(n,r,s,a,u,h,_,v,C){const T=r.consts,A=jl(r,n,4,_||null,dr(T,v));$l(r,s,A,dr(T,C)),Ci(r,A);const N=A.tViews=gd(2,A,a,u,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,T);return null!==r.queries&&(r.queries.template(r,A),N.queries=r.queries.embeddedTView(A)),A}(A,T,C,r,s,a,u,h,_):T.data[A];hr(N,!1);const V=C[11].createComment("");zh(T,C,V,N),rr(V,C),Bs(C,C[A]=hg(V,C,V,N)),ea(N)&&og(T,C,N),null!=_&&ag(C,N,v)}function Ag(n){return function Nr(n,r){return n[r]}(function el(){return Je.lFrame.contextLView}(),20+n)}function lc(n,r=qe.Default){const s=ye();return null===s?je(n,r):Xi(qt(),s,Q(n),r)}function mf(){throw new Error("invalid")}function xg(n,r,s){const a=ye();return Qn(a,qi(),r)&&function Mi(n,r,s,a,u,h,_,v){const C=Hn(r,s);let A,T=r.inputs;!v&&null!=T&&(A=T[a])?(_g(n,s,A,a,u),Vi(r)&&function f0(n,r){const s=$n(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function M_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=_?_(u,r.value||"",a):u,Gt(h)?h.setProperty(C,a,u):fr(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}(_t(),tn(),a,n,r,a[11],s,!1),xg}function Og(n,r,s,a,u){const _=u?"class":"style";_g(n,s,r.inputs[_],_,a)}function _f(n,r,s,a){const u=ye(),h=_t(),_=20+n,v=u[11],C=u[_]=Fu(v,r,function op(){return Je.lFrame.currentNamespace}()),T=h.firstCreatePass?function z0(n,r,s,a,u,h,_){const v=r.consts,T=jl(r,n,2,u,dr(v,h));return $l(r,s,T,dr(v,_)),null!==T.attrs&&Gu(T,T.attrs,!1),null!==T.mergedAttrs&&Gu(T,T.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,T),T}(_,h,u,0,r,s,a):h.data[_];hr(T,!0);const A=T.mergedAttrs;null!==A&&rt(v,C,A);const N=T.classes;null!==N&&Gp(v,C,N);const V=T.styles;return null!==V&&u_(v,C,V),64!=(64&T.flags)&&zh(h,u,C,T),0===function Ao(){return Je.lFrame.elementDepthCount}()&&rr(C,u),function ca(){Je.lFrame.elementDepthCount++}(),ea(T)&&(og(h,u,T),function sg(n,r,s){if(za(r)){const u=r.directiveEnd;for(let h=r.directiveStart;h<u;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}(h,T,u)),null!==a&&ag(u,T),_f}function Fd(){let n=qt();Ja()?function Xa(){Je.lFrame.isParent=!1}():(n=n.parent,hr(n,!1));const r=n;!function da(){Je.lFrame.elementDepthCount--}();const s=_t();return s.firstCreatePass&&(Ci(s,n),za(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Sc(n){return 0!=(16&n.flags)}(r)&&Og(s,r,ye(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Dh(n){return 0!=(32&n.flags)}(r)&&Og(s,r,ye(),r.stylesWithoutHost,!1),Fd}function uc(n,r,s,a){return _f(n,r,s,a),Fd(),uc}function gy(){return ye()}function kg(n){return!!n&&"function"==typeof n.then}function my(n){return!!n&&"function"==typeof n.subscribe}const _y=my;function Lg(n,r,s,a){const u=ye(),h=_t(),_=qt();return function Fg(n,r,s,a,u,h,_,v){const C=ea(a),A=n.firstCreatePass&&B_(n),N=r[8],V=Ri(r);let K=!0;if(3&a.type||v){const Le=Hn(a,r),We=v?v(Le):Le,we=V.length,nt=v?Rt=>v(Ft(Rt[a.index])):a.index;if(Gt(s)){let Rt=null;if(!v&&C&&(Rt=function G0(n,r,s,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===s&&u[h+1]===a){const v=r[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof _&&(h+=2)}return null}(n,r,u,a.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=h,Rt.__ngLastListenerFn__=h,K=!1;else{h=Ef(a,r,N,h,!1);const Kt=s.listen(We,u,h);V.push(h,Kt),A&&A.push(u,nt,we,we+1)}}else h=Ef(a,r,N,h,!0),We.addEventListener(u,h,_),V.push(h),A&&A.push(u,nt,we,_)}else h=Ef(a,r,N,h,!1);const fe=a.outputs;let Me;if(K&&null!==fe&&(Me=fe[u])){const Le=Me.length;if(Le)for(let We=0;We<Le;We+=2){const Zs=r[Me[We]][Me[We+1]].subscribe(h),mh=V.length;V.push(h,Zs),A&&A.push(u,a.index,mh,-(mh+1))}}}(h,u,u[11],_,n,r,!!s,a),Lg}function vy(n,r,s,a){try{return!1!==s(a)}catch(u){return j_(n,u),!1}}function Ef(n,r,s,a,u){return function h(_){if(_===Function)return a;const v=2&n.flags?$n(n.index,r):r;0==(32&r[2])&&Zt(v);let C=vy(r,0,a,_),T=h.__ngNextListenerFn__;for(;T;)C=vy(r,0,T,_)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function Pf(n,r=""){const s=ye(),a=_t(),u=n+20,h=a.firstCreatePass?jl(a,u,1,r,null):a.data[u],_=s[u]=function ku(n,r){return Gt(n)?n.createText(r):n.createTextNode(r)}(s[11],r);zh(a,s,_,h),hr(h,!1)}function ql(n,r,s){const a=ye(),u=function Gl(n,r,s,a){return Qn(n,qi(),s)?r+ce(s)+a:P}(a,n,r,s);return u!==P&&zr(a,Wn(),u),ql}const Va=void 0;var Wy=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kd(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Yl={};function qd(n){const r=function cE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Lf(r);if(s)return s;const a=r.split("-")[0];if(s=Lf(a),s)return s;if("en"===a)return Wy;throw new Error(`Missing locale data for the locale "${n}".`)}function zy(n){return qd(n)[it.PluralCase]}function Lf(n){return n in Yl||(Yl[n]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[n]),Yl[n]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Ff="en-US";let qo=Ff;class vv{}class UE{resolveComponentFactory(r){throw function LE(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let $f=(()=>{class n{}return n.NULL=new UE,n})();function BE(){return _c(qt(),ye())}function _c(n,r){return new fs(Hn(n,r))}let fs=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=BE,n})();function yr(n){return n instanceof fs?n.nativeElement:n}class yc{}let VE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function HE(){const n=ye(),s=$n(qt().index,n);return function jE(n){return n[11]}(Cr(s)?s:n)}(),n})(),$E=(()=>{class n{}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>null}),n})();class th{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Cv=new th("13.3.3"),mm={};function nh(n,r,s,a,u=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Ft(h)),ar(h))for(let v=10;v<h.length;v++){const C=h[v],T=C[1].firstChild;null!==T&&nh(C[1],C,T,a)}const _=s.type;if(8&_)nh(n,r,s.child,a);else if(32&_){const v=He(s,r);let C;for(;C=v();)a.push(C)}else if(16&_){const v=a_(r,s);if(Array.isArray(v))a.push(...v);else{const C=an(r[16]);nh(C[1],C,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class vc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return nh(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ar(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Fp(r,a),bi(s,a))}this._attachedToViewContainer=!1}Up(this._lView[1],this._lView)}onDestroy(r){T_(this._lView[1],this._lView,null,r)}markForCheck(){Zt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function pn(n,r,s){Ki(!0);try{Wl(n,r,s)}finally{Ki(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $h(n,r){Gh(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=r}}class _m extends vc{constructor(r){super(r),this._view=r}detectChanges(){gg(this._view)}checkNoChanges(){!function Dt(n){Ki(!0);try{gg(n)}finally{Ki(!1)}}(this._view)}get context(){return null}}class ym extends $f{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Tt(r);return new vm(s,this.ngModule)}}function rh(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class vm extends vv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ll(n){return n.map(kl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return rh(this.componentDef.inputs)}get outputs(){return rh(this.componentDef.outputs)}create(r,s,a,u){const h=(u=u||this.ngModule)?function Rw(n,r){return{get:(s,a,u)=>{const h=n.get(s,mm,u);return h!==mm||a===mm?h:r.get(s,a,u)}}}(r,u.injector):r,_=h.get(yc,Xs),v=h.get($E,null),C=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=a?function b_(n,r,s){if(Gt(n))return n.selectRootElement(r,s===Ct.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(C,a,this.componentDef.encapsulation):Fu(_.createRenderer(null,this.componentDef),T,function WE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(T)),N=this.componentDef.onPush?576:528,V=function Dg(n,r){return{components:[],scheduler:n||xp,clean:mg,playerHandler:r||null,flags:0}}(),K=gd(0,null,null,1,0,null,null,null,null,null),fe=pd(null,K,V,N,null,null,_,C,v,h);let Me,Le;Is(fe);try{const We=function ey(n,r,s,a,u,h){const _=s[1];s[20]=n;const C=jl(_,20,2,"#host",null),T=C.mergedAttrs=r.hostAttrs;null!==T&&(Gu(C,T,!0),null!==n&&(rt(u,n,T),null!==C.classes&&Gp(u,n,C.classes),null!==C.styles&&u_(u,n,C.styles)));const A=a.createRenderer(n,r),N=pd(s,I_(r),null,r.onPush?64:16,s[20],C,a,A,h||null,null);return _.firstCreatePass&&(Ji(fn(C,s),_,r.type),cg(_,C),N_(C,s.length,1)),Bs(s,N),s[20]=N}(A,this.componentDef,fe,_,C);if(A)if(a)rt(C,A,["ng-version",Cv.full]);else{const{attrs:we,classes:nt}=function Fl(n){const r=[],s=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&r.push(h,n[++a]):8===u&&s.push(h);else{if(!Fs(u))break;u=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);we&&rt(C,A,we),nt&&nt.length>0&&Gp(C,A,nt.join(" "))}if(Le=To(K,20),void 0!==s){const we=Le.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const Rt=s[nt];we.push(null!=Rt?Array.from(Rt):null)}}Me=function Ig(n,r,s,a,u){const h=s[1],_=function _d(n,r,s){const a=qt();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),dg(n,a,r,Ra(n,r,1,null),s));const u=Lr(r,n,a.directiveStart,a);rr(u,r);const h=Hn(a,r);return h&&rr(h,r),u}(h,s,r);if(a.components.push(_),n[8]=_,u&&u.forEach(C=>C(_,r)),r.contentQueries){const C=qt();r.contentQueries(1,_,C.directiveStart)}const v=qt();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Qi(v.index),Jh(s[1],v,0,v.directiveStart,v.directiveEnd,r),x_(r,_)),_}(We,this.componentDef,fe,V,[ty]),Hl(K,fe,null)}finally{bs()}return new Pw(this.componentType,Me,_c(Le,fe),fe,Le)}}class Pw extends class Mw{}{constructor(r,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new _m(u),this.componentType=r}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Ec{}class GE{}const ih=new Map;class Cm extends Ec{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ym(this);const a=Ht(r);this._bootstrapComponents=f(a.bootstrap),this._r3Injector=Cd(r,s,[{provide:Ec,useValue:this},{provide:$f,useValue:this.componentFactoryResolver}],ue(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=js.THROW_IF_NOT_FOUND,a=qe.Default){return r===js||r===Ec||r===tf?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class wm extends GE{constructor(r){super(),this.moduleType=r,null!==Ht(r)&&function xw(n){const r=new Set;!function s(a){const u=Ht(a,!0),h=u.id;null!==h&&(function ZE(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(r)} vs ${ue(r.name)}`)}(h,ih.get(h),a),ih.set(h,a));const _=f(u.imports);for(const v of _)r.has(v)||(r.add(v),s(v))}(n)}(r)}create(r){return new Cm(this.moduleType,r)}}function Sm(n){return r=>{setTimeout(n,void 0,r)}}const hi=class rC extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var u,h,_;let v=r,C=s||(()=>null),T=a;if(r&&"object"==typeof r){const N=r;v=null===(u=N.next)||void 0===u?void 0:u.bind(N),C=null===(h=N.error)||void 0===h?void 0:h.bind(N),T=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(C=Sm(C),v&&(v=Sm(v)),T&&(T=Sm(T)));const A=super.subscribe({next:v,error:C,complete:T});return r instanceof q.w0&&r.add(A),A}};function bv(){return this._results[Xu()]()}class Cc{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xu(),a=Cc.prototype;a[s]||(a[s]=bv)}get changes(){return this._changes||(this._changes=new hi)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=Zn(r);(this._changesDetected=!function pl(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],h=r[a];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wc=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();const iC=wc,sC=class extends iC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=pd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Hl(s,a,r),new vc(a)}};function oC(){return Gf(qt(),ye())}function Gf(n,r){return 4&n.type?new sC(r,n,_c(n,r)):null}let lh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Mm,n})();function Mm(){return Av(qt(),ye())}const Tv=lh,Zf=class extends Tv{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const r=br(this._hostTNode,this._hostLView);if(_u(r)){const s=Xr(r,this._hostLView),a=Wt(r);return new Fr(s[1].data[a+8],s)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Rm(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const u=r.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(r,s,a,u,h){const _=r&&!function co(n){return"function"==typeof n}(r);let v;if(_)v=s;else{const N=s||{};v=N.index,a=N.injector,u=N.projectableNodes,h=N.ngModuleRef}const C=_?r:new vm(Tt(r)),T=a||this.parentInjector;if(!h&&null==C.ngModule){const V=(_?T:this.parentInjector).get(Ec,null);V&&(h=V)}const A=C.create(T,u,void 0,h);return this.insert(A.hostView,v),A}insert(r,s){const a=r._lView,u=a[1];if(function la(n){return ar(n[3])}(a)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const N=a[3],V=new Zf(N,N[6],N[3]);V.detach(V.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function Lp(n,r,s,a){const u=10+a,h=s.length;a>0&&(s[u-1][4]=r),a<h-10?(r[4]=s[u],gl(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function Uu(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const v=r[19];null!==v&&v.insertView(n),r[2]|=128}(u,a,_,h);const v=$p(h,_),C=a[11],T=ad(C,_[7]);return null!==T&&function od(n,r,s,a,u,h){a[0]=u,a[6]=r,Gh(n,a,s,1,u,h)}(u,_[6],C,a,T,v),r.attachToViewContainerRef(),gl(Xl(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Rm(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Fp(this._lContainer,s);a&&(bi(Xl(this._lContainer),s),Up(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Fp(this._lContainer,s);return a&&null!=bi(Xl(this._lContainer),s)?new vc(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Rm(n){return n[8]}function Xl(n){return n[8]||(n[8]=[])}function Av(n,r){let s;const a=r[n.index];if(ar(a))s=a;else{let u;if(8&n.type)u=Ft(a);else{const h=r[11];u=h.createComment("");const _=Hn(n,r);Ai(h,ad(h,_),u,function Yv(n,r){return Gt(n)?n.nextSibling(r):r.nextSibling}(h,_),!1)}r[n.index]=s=hg(a,r,u,n),Bs(r,s)}return new Zf(s,n,r)}class uh{constructor(r){this.queryList=r,this.matches=null}clone(){return new uh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new Kf(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Pv(r,s).matches&&this.queries[s].setDirty()}}class xm{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class ch{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,u);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new ch(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Om{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Om(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(r,s,aC(s,h)),this.matchTNodeWithReadOption(r,s,oo(s,r,h,!1,!1))}else a===wc?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,oo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===fs||u===lh||u===wc&&4&s.type)this.addMatch(s.index,-2);else{const h=oo(s,r,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function aC(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function qf(n,r,s,a){return-1===s?function lC(n,r){return 11&n.type?_c(n,r):4&n.type?Gf(n,r):null}(r,n):-2===s?function Nm(n,r,s){return s===fs?_c(r,n):s===wc?Gf(r,n):s===lh?Av(r,n):void 0}(n,r,a):Lr(n,n[1],s,r)}function Yf(n,r,s,a){const u=r[19].queries[a];if(null===u.matches){const h=n.data,_=s.matches,v=[];for(let C=0;C<_.length;C+=2){const T=_[C];v.push(T<0?null:qf(r,h[T],_[C+1],s.metadata.read))}u.matches=v}return u.matches}function dh(n,r,s,a){const u=n.queries.getByIndex(s),h=u.matches;if(null!==h){const _=Yf(n,r,u,s);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)a.push(_[v/2]);else{const T=h[v+1],A=r[-C];for(let N=10;N<A.length;N++){const V=A[N];V[17]===V[3]&&dh(V[1],V,T,a)}if(null!==A[9]){const N=A[9];for(let V=0;V<N.length;V++){const K=N[V];dh(K[1],K,T,a)}}}}}return a}function km(n){const r=ye(),s=_t(),a=rl();il(a+1);const u=Pv(s,a);if(n.dirty&&zi(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const h=u.crossesNgTemplate?dh(s,r,a,[]):Yf(s,r,u,a);n.reset(h,yr),n.notifyOnChanges()}return!0}return!1}function Lm(n,r,s,a){const u=_t();if(u.firstCreatePass){const h=qt();(function Rv(n,r,s){null===n.queries&&(n.queries=new ch),n.queries.track(new Om(r,s))})(u,new xm(r,s,a),h.index),function dC(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}!function Mv(n,r,s){const a=new Cc(4==(4&s));T_(n,r,a,a.destroy),null===r[19]&&(r[19]=new Kf),r[19].queries.push(new uh(a))}(u,ye(),s)}function hh(){return function cC(n,r){return n[19].queries[r].queryList}(ye(),rl())}function Pv(n,r){return n.queries.getByIndex(r)}function tp(...n){}const Wm=new sn("Application Initializer");let np=(()=>{class n{constructor(s){this.appInits=s,this.resolve=tp,this.reject=tp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(kg(h))s.push(h);else if(_y(h)){const _=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(je(Wm,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zm=new sn("AppId",{providedIn:"root",factory:function Gm(){return`${Zm()}${Zm()}${Zm()}`}});function Zm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Km=new sn("Platform Initializer"),NC=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hv=new sn("appBootstrapListener");let $v=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const qm=new sn("LocaleId",{providedIn:"root",factory:()=>ht(qm,qe.Optional|qe.SkipSelf)||function Wv(){return"undefined"!=typeof $localize&&$localize.locale||Ff}()}),LC=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zv=(()=>{class n{compileModuleSync(s){return new wm(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=f(Ht(s).declarations).reduce((_,v)=>{const C=Tt(v);return C&&_.push(new vm(C)),_},[]);return new UC(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VC=(()=>Promise.resolve(0))();function Ym(n){"undefined"==typeof Zone?VC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class gs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function jC(){let n=wt.requestAnimationFrame,r=wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function e(n){const r=()=>{!function t(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,o(n),n.isCheckStableRunning=!0,i(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),o(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,_,v)=>{try{return l(n),s.invokeTask(u,h,_,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),d(n)}},onInvoke:(s,a,u,h,_,v,C)=>{try{return l(n),s.invoke(u,h,_,v,C)}finally{n.shouldCoalesceRunChangeDetection&&r(),d(n)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,o(n),i(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,r,HC,tp,tp);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const HC={};function i(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function l(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function d(n){n._nesting--,i(n)}class g{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}let E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),Ym(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ym(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(je(gs))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{constructor(){this._applications=new Map,k.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return k.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class M{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function U(n){k=n}let Z,k=new M;const At=new sn("AllowMultipleToken");class Ln{constructor(r,s){this.name=r,this.token=s}}function Pr(n,r,s=[]){const a=`Platform: ${r}`,u=new sn(a);return(h=[])=>{let _=Wa();if(!_||_.injector.get(At,!1))if(n)n(s.concat(h).concat({provide:u,useValue:!0}));else{const v=s.concat(h).concat({provide:u,useValue:!0},{provide:yg,useValue:"platform"});!function Xt(n){if(Z&&!Z.destroyed&&!Z.injector.get(At,!1))throw new Ae(400,"");Z=n.get(lI);const r=n.get(Km,null);r&&r.forEach(s=>s())}(js.create({providers:v,name:a}))}return function gn(n){const r=Wa();if(!r)throw new Ae(401,"");return r}()}}function Wa(){return Z&&!Z.destroyed?Z:null}let lI=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const v=function uI(n,r){let s;return s="noop"===n?new g:("zone.js"===n?void 0:n)||new gs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:gs,useValue:v}];return v.run(()=>{const T=js.create({providers:C,parent:this.injector,name:s.moduleType.name}),A=s.create(T),N=A.injector.get(qn,null);if(!N)throw new Ae(402,"");return v.runOutsideAngular(()=>{const V=v.onError.subscribe({next:K=>{N.handleError(K)}});A.onDestroy(()=>{WC(this._modules,A),V.unsubscribe()})}),function cI(n,r,s){try{const a=s();return kg(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(N,v,()=>{const V=A.injector.get(np);return V.runInitializers(),V.donePromise.then(()=>(function fE(n){Ze(n,"Expected localeId to be defined"),"string"==typeof n&&(qo=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(qm,Ff)||Ff),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=zw({},a);return function ge(n,r,s){const a=new wm(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const a=s.injector.get($C);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Ae(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(je(js))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zw(n,r){return Array.isArray(r)?r.reduce(zw,n):Object.assign(Object.assign({},n),r)}let $C=(()=>{class n{constructor(s,a,u,h){this._zone=s,this._injector=a,this._exceptionHandler=u,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new O.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new O.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),Ym(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,se.T)(_,v.pipe((0,J.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ae(405,"");let u;u=s instanceof vv?s:this._injector.get($f).resolveComponentFactory(s),this.componentTypes.push(u.componentType);const h=function at(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Ec),v=u.create(js.NULL,[],a||u.selector,h),C=v.location.nativeElement,T=v.injector.get(E,null),A=T&&v.injector.get(D);return T&&A&&A.registerApplication(C,T),v.onDestroy(()=>{this.detachView(v.hostView),WC(this.components,v),A&&A.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;WC(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Hv,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(je(gs),je(js),je(qn),je(np))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WC(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Zw=!0,Kw=!1;function hI(){return Kw=!0,Zw}function fI(){if(Kw)throw new Error("Cannot enable prod mode after platform setup.");Zw=!1}let pI=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(n){return function mI(n,r,s){if(Vi(n)&&!s){const a=$n(n.index,r);return new vc(a,a)}return 47&n.type?new vc(r[16],r):null}(qt(),ye(),16==(16&n))}class Jw{constructor(){}supports(r){return Td(r)}create(r){return new wI(r)}}const CI=(n,r)=>r;class wI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<eI(a,u,h)?s:a,v=eI(_,u,h),C=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{h||(h=[]);const T=v-u,A=C-u;if(T!=A){for(let V=0;V<T;V++){const K=V<h.length?h[V]:h[V]=0,fe=K+V;A<=fe&&fe<T&&(h[V]=K+1)}h[_.previousIndex]=A-T}}v!==C&&r(_,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Td(r))throw new Ae(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)h=r[v],_=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,v),a=!0),s=s._next}else u=0,function ny(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Xu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{_=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,v,_,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,u)):r=this._addAfter(new II(s,a),h,u),r}_verifyReinsertion(r,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,h=r._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Xw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class II{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Xw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new DI,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eI(n,r,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class tI{constructor(){}supports(r){return r instanceof Map||cf(r)}create(){return new bI}}class bI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||cf(r)))throw new Ae(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const a=new TI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class TI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nI(){return new qC([new Jw])}let qC=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||nI()),deps:[[n,new Ps,new Sr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Ae(901,"")}}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:nI}),n})();function rI(){return new YC([new tI])}let YC=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||rI()),deps:[[n,new Ps,new Sr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new Ae(901,"")}}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:rI}),n})();const MI=Pr(null,"core",[]);let RI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(je($C))},n.\u0275mod=Y({type:n}),n.\u0275inj=xt({}),n})()},3942:(Ge,ve,x)=>{x.d(ve,{Z:()=>Ae});var p=x(2090),q=x(4859),O=x(9681),se=x(1877);class J{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,O._addComponent)(ce,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ce,_e=O._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ce);return!Ue.isInitialized()&&"EXPLICIT"===(null===($e=Ue.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,O._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,O._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ae(){const Re=function ue(Re){const ce={},_e={__esModule:!0,initializeApp:function Ee(Ne,ee={}){const z=O.initializeApp(Ne,ee);if((0,p.r3)(ce,z.name))return ce[z.name];const te=new Re(z,_e);return ce[z.name]=te,te},app:Ue,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function me(Ne){const ee=Ne.name,z=ee.replace("-compat","");if(O._registerComponent(Ne)&&"PUBLIC"===Ne.type){const te=(he=Ue())=>{if("function"!=typeof he[z])throw ie.create("invalid-app-argument",{appName:ee});return he[z]()};void 0!==Ne.serviceProps&&(0,p.ZB)(te,Ne.serviceProps),_e[z]=te,Re.prototype[z]=function(...he){return this._getService.bind(this,ee).apply(this,Ne.multipleInstances?he:[])}}return"PUBLIC"===Ne.type?_e[z]:null},removeApp:function $e(Ne){delete ce[Ne]},useAsService:function ke(Ne,ee){return"serverAuth"===ee?null:ee},modularAPIs:O}};function Ue(Ne){if(!(0,p.r3)(ce,Ne=Ne||O._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ne});return ce[Ne]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function pe(){return Object.keys(ce).map(Ne=>ce[Ne])}}),Ue.App=Re,_e}(J);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ce(_e){(0,p.ZB)(Re,_e)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Re}(),H=new se.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=j;!function Ie(Re){(0,O.registerVersion)("@firebase/app-compat","0.1.22",Re)}()},9681:(Ge,ve,x)=>{x.r(ve),x.d(ve,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Xn,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>jt,_addOrOverwriteComponent:()=>xr,_apps:()=>Xe,_clearComponents:()=>Et,_components:()=>Vt,_getProvider:()=>Kr,_registerComponent:()=>Ot,_removeServiceInstance:()=>xt,deleteApp:()=>Yr,getApp:()=>er,getApps:()=>fi,initializeApp:()=>qr,onLog:()=>bn,registerVersion:()=>or,setLogLevel:()=>En});var p=x(5861),q=x(4859),O=x(1877),se=x(2090);class J{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function de(Be){const Ce=Be.getComponent();return"VERSION"===(null==Ce?void 0:Ce.type)}(Ve)){const Qe=Ve.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ie="@firebase/app",ae=new O.Yd("@firebase/app"),un="[DEFAULT]",Ze={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Vt=new Map;function jt(Be,Ce){try{Be.container.addComponent(Ce)}catch(Ve){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Be.name}`,Ve)}}function xr(Be,Ce){Be.container.addOrOverwriteComponent(Ce)}function Ot(Be){const Ce=Be.name;if(Vt.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;Vt.set(Ce,Be);for(const Ve of Xe.values())jt(Ve,Be);return!0}function Kr(Be,Ce){const Ve=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Be.container.getProvider(Ce)}function xt(Be,Ce,Ve=un){Kr(Be,Ce).clearInstance(Ve)}function Et(){Vt.clear()}const sr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ki{constructor(Ce,Ve,Qe){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const Xn="9.6.11";function qr(Be,Ce={}){"object"!=typeof Ce&&(Ce={name:Ce});const Ve=Object.assign({name:un,automaticDataCollectionEnabled:!1},Ce),Qe=Ve.name;if("string"!=typeof Qe||!Qe)throw sr.create("bad-app-name",{appName:String(Qe)});const vt=Xe.get(Qe);if(vt){if((0,se.vZ)(Be,vt.options)&&(0,se.vZ)(Ve,vt.config))return vt;throw sr.create("duplicate-app",{appName:Qe})}const mt=new q.H0(Qe);for(const F of Vt.values())mt.addComponent(F);const B=new ki(Be,Ve,mt);return Xe.set(Qe,B),B}function er(Be=un){const Ce=Xe.get(Be);if(!Ce)throw sr.create("no-app",{appName:Be});return Ce}function fi(){return Array.from(Xe.values())}function Yr(Be){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(Be){const Ce=Be.name;Xe.has(Ce)&&(Xe.delete(Ce),yield Promise.all(Be.container.getProviders().map(Ve=>Ve.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function or(Be,Ce,Ve){var Qe;let vt=null!==(Qe=Ze[Be])&&void 0!==Qe?Qe:Be;Ve&&(vt+=`-${Ve}`);const mt=vt.match(/\s|\//),B=Ce.match(/\s|\//);if(mt||B){const F=[`Unable to register library "${vt}" with version "${Ce}":`];return mt&&F.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),mt&&B&&F.push("and"),B&&F.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(F.join(" "))}Ot(new q.wA(`${vt}-version`,()=>({library:vt,version:Ce}),"VERSION"))}function bn(Be,Ce){if(null!==Be&&"function"!=typeof Be)throw sr.create("invalid-log-argument");(0,O.Am)(Be,Ce)}function En(Be){(0,O.Ub)(Be)}const zt="firebase-heartbeat-store";let Tn=null;function pi(){return Tn||(Tn=(0,se.X3)("firebase-heartbeat-database",1,(Be,Ce)=>{0===Ce&&Be.createObjectStore(zt)}).catch(Be=>{throw sr.create("storage-open",{originalErrorMessage:Be.message})})),Tn}function Ct(){return(Ct=(0,p.Z)(function*(Be){try{return(yield pi()).transaction(zt).objectStore(zt).get(Mn(Be))}catch(Ce){throw sr.create("storage-get",{originalErrorMessage:Ce.message})}})).apply(this,arguments)}function ze(Be,Ce){return st.apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(Be,Ce){try{const Qe=(yield pi()).transaction(zt,"readwrite");return yield Qe.objectStore(zt).put(Ce,Mn(Be)),Qe.complete}catch(Ve){throw sr.create("storage-set",{originalErrorMessage:Ve.message})}})).apply(this,arguments)}function Mn(Be){return`${Be.name}!${Be.options.appId}`}class ms{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Ye(Ve),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var Ce=this;return(0,p.Z)(function*(){const Qe=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=Fn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==vt&&!Ce._heartbeatsCache.heartbeats.some(mt=>mt.date===vt))return Ce._heartbeatsCache.heartbeats.push({date:vt,agent:Qe}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(mt=>{const B=new Date(mt.date).valueOf();return Date.now()-B<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,p.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ve=Fn(),{heartbeatsToSend:Qe,unsentEntries:vt}=function Rn(Be,Ce=1024){const Ve=[];let Qe=Be.slice();for(const vt of Be){const mt=Ve.find(B=>B.agent===vt.agent);if(mt){if(mt.dates.push(vt.date),Un(Ve)>Ce){mt.dates.pop();break}}else if(Ve.push({agent:vt.agent,dates:[vt.date]}),Un(Ve)>Ce){Ve.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Qe}}(Ce._heartbeatsCache.heartbeats),mt=(0,se.L)(JSON.stringify({version:2,heartbeats:Qe}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ve,vt.length>0?(Ce._heartbeatsCache.heartbeats=vt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),mt})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class Ye{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,p.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Ks(Be){return Ct.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ve=this;return(0,p.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const mt=yield Ve.read();return ze(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:mt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ve=this;return(0,p.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const mt=yield Ve.read();return ze(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...Ce.heartbeats]})}})()}}function Un(Be){return(0,se.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function yt(Be){Ot(new q.wA("platform-logger",Ce=>new J(Ce),"PRIVATE")),Ot(new q.wA("heartbeat",Ce=>new ms(Ce),"PRIVATE")),or(ie,"0.7.21",Be),or(ie,"0.7.21","esm2017"),or("fire-js","")}("")},4859:(Ge,ve,x)=>{x.d(ve,{H0:()=>ue,wA:()=>O,zt:()=>J});var p=x(5861),q=x(2090);class O{constructor(j,H,Q){this.name=j,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class J{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Q=new q.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:H});Fe&&Q.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Fe=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(Fe)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ie(ae){return"EAGER"===ae.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(H);try{const Ie=this.getOrInitializeService({instanceIdentifier:Fe});Q.resolve(Ie)}catch(Ie){}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,p.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Ie,Ae]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&Ae.resolve(Fe);return Fe}onInit(j,H){var Q;const Fe=this.normalizeInstanceIdentifier(H),Ie=null!==(Q=this.onInitCallbacks.get(Fe))&&void 0!==Q?Q:new Set;Ie.add(j),this.onInitCallbacks.set(Fe,Ie);const Ae=this.instances.get(Fe);return Ae&&j(Ae,Fe),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Fe of Q)try{Fe(j,H)}catch(Ie){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=j,ae===se?void 0:ae),options:H}),this.instances.set(j,Q),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(Fe){}var ae;return Q||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new J(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Ge,ve,x)=>{x.d(ve,{Am:()=>ae,Ub:()=>ue,Yd:()=>ie,in:()=>q});const p=[];var q=(()=>{return(j=q||(q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",q;var j})();const O={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,J={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},de=(j,H,...Q)=>{if(H<j.logLevel)return;const Fe=(new Date).toISOString(),Ie=J[H];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ie](`[${Fe}]  ${j.name}:`,...Q)};class ie{constructor(H){this.name=H,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...H),this._logHandler(this,q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...H),this._logHandler(this,q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,q.INFO,...H),this._logHandler(this,q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,q.WARN,...H),this._logHandler(this,q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...H),this._logHandler(this,q.ERROR,...H)}}function ue(j){p.forEach(H=>{H.setLogLevel(j)})}function ae(j,H){for(const Q of p){let Fe=null;H&&H.level&&(Fe=O[H.level]),Q.userLogHandler=null===j?null:(Ie,Ae,...Re)=>{const ce=Re.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch($e){return null}}).filter(_e=>_e).join(" ");Ae>=(null!=Fe?Fe:Ie.logLevel)&&j({level:q[Ae].toLowerCase(),message:ce,args:Re,type:Ie.name})}}}},5861:(Ge,ve,x)=>{function p(O,se,J,de,ie,ue,ae){try{var j=O[ue](ae),H=j.value}catch(Q){return void J(Q)}j.done?se(H):Promise.resolve(H).then(de,ie)}function q(O){return function(){var se=this,J=arguments;return new Promise(function(de,ie){var ue=O.apply(se,J);function ae(H){p(ue,de,ie,ae,j,"next",H)}function j(H){p(ue,de,ie,ae,j,"throw",H)}ae(void 0)})}}x.d(ve,{Z:()=>q})}},Ge=>{Ge(Ge.s=3939)}]);