"use strict";(self.webpackChunkhadinayebi=self.webpackChunkhadinayebi||[]).push([[179],{2011:(qe,we,N)=>{N.d(we,{Dh:()=>ce,GT:()=>fe,cc:()=>De,hO:()=>Ue,on:()=>j,pX:()=>J,xv:()=>le});var y=N(5e3),Z=N(127),x=N(5813);qe=N.hmd(qe);const oe=["ngOnDestroy"],J=(ye,We,Be,Ce={})=>new Proxy(ye,{get:(me,_e)=>Be.runOutsideAngular(()=>{var Le;if(ye[_e])return(null===(Le=null==Ce?void 0:Ce.spy)||void 0===Le?void 0:Le.get)&&Ce.spy.get(_e,ye[_e]),ye[_e];if(oe.indexOf(_e)>-1)return()=>{};const Fe=We.toPromise().then(te=>{const K=te&&te[_e];return"function"==typeof K?K.bind(te):K&&K.then?K.then(ne=>Be.run(()=>ne)):Be.run(()=>K)});return new Proxy(()=>{},{get:(te,K)=>Fe[K],apply:(te,K,ne)=>Fe.then(pe=>{var ie;const Se=pe&&pe(...ne);return(null===(ie=null==Ce?void 0:Ce.spy)||void 0===ie?void 0:ie.apply)&&Ce.spy.apply(_e,ne,Se),Se})})})}),fe=(ye,We)=>{We.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Ce=>{Object.defineProperty(ye.prototype,Ce,Object.getOwnPropertyDescriptor(Be.prototype||Be,Ce))})})};class re{constructor(We){return We}}const ce=new y.OlP("angularfire2.app.options"),le=new y.OlP("angularfire2.app.name");function j(ye,We,Be){const me="object"==typeof Be&&Be||{};me.name=me.name||"string"==typeof Be&&Be||"[DEFAULT]";const Le=Z.Z.apps.filter(Fe=>Fe&&Fe.name===me.name)[0]||We.runOutsideAngular(()=>Z.Z.initializeApp(ye,me));try{JSON.stringify(ye)!==JSON.stringify(Le.options)&&H("error",`${Le.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Fe){}return new re(Le)}const H=(ye,...We)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[ye](...We)},Q={provide:re,useFactory:j,deps:[ce,y.R0b,[new y.FiY,le]]};let Ue=(()=>{class ye{constructor(Be){Z.Z.registerVersion("angularfire",x.q4.full,"core"),Z.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Z.Z.registerVersion("angular",y.q4F.full,Be.toString())}static initializeApp(Be,Ce){return{ngModule:ye,providers:[{provide:ce,useValue:Be},{provide:le,useValue:Ce}]}}}return ye.\u0275fac=function(Be){return new(Be||ye)(y.LFG(y.Lbi))},ye.\u0275mod=y.oAB({type:ye}),ye.\u0275inj=y.cJS({providers:[Q]}),ye})();function De(ye,We,Be,Ce,me){const[,_e,Le]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===ye)||[];if(_e)return function Ae(ye,We){try{return ye.toString()===We.toString()}catch(Be){return ye===We}}(me,Le)||(he("error",`${We} was already initialized on the ${Be} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:me,was:Le})),_e;{const Fe=Ce();return globalThis.\u0275AngularfireInstanceCache.push([ye,Fe,me]),Fe}}const Oe=!!qe.hot,he=(ye,...We)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[ye](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(qe,we,N)=>{N.d(we,{q4:()=>kl,iC:()=>Vl,HU:()=>Va,vb:()=>Yu,JM:()=>fs});var y=N(5e3),Z=N(5867),x=N(5861),oe=N(9681),J=N(2090),fe=N(4859),re=N(1877);const ce="@firebase/installations",H="w:0.5.8",Q="FIS_v2",ye=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(I){return I instanceof J.ZR&&I.code.includes("request-failed")}function Be({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ce(I){return{token:I.token,requestStatus:2,expiresIn:ne(I.expiresIn),creationTime:Date.now()}}function me(I,D){return _e.apply(this,arguments)}function _e(){return(_e=(0,x.Z)(function*(I,D){const L=(yield D.json()).error;return ye.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Le({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Fe(I,{refreshToken:D}){const R=Le(I);return R.append("Authorization",function pe(I){return`${Q} ${I}`}(D)),R}function te(I){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function ne(I){return Number(I.replace("s","000"))}function ie(I,D){return Se.apply(this,arguments)}function Se(){return(Se=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:R}){const L=Be(I),q=Le(I),ee=D.getImmediate({optional:!0});if(ee){const ct=yield ee.getHeartbeatsHeader();ct&&q.append("x-firebase-client",ct)}const Te={method:"POST",headers:q,body:JSON.stringify({fid:R,authVersion:Q,appId:I.appId,sdkVersion:H})},He=yield te(()=>fetch(L,Te));if(He.ok){const ct=yield He.json();return{fid:ct.fid||R,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Ce(ct.authToken)}}throw yield me("Create Installation",He)})).apply(this,arguments)}function ae(I){return new Promise(D=>{setTimeout(D,I)})}const Vt=/^[cdef][\w-]{21}$/;function Ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function rt(I){return function dt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Vt.test(R)?R:""}catch(I){return""}}function qt(I){return`${I.appName}!${I.appId}`}const Zt=new Map;function zr(I,D){const R=qt(I);jt(R,D),function St(I,D){const R=function hr(){return!Un&&"BroadcastChannel"in self&&(Un=new BroadcastChannel("[Firebase] FID Change"),Un.onmessage=I=>{jt(I.data.key,I.data.fid)}),Un}();R&&R.postMessage({key:I,fid:D}),function Wi(){0===Zt.size&&Un&&(Un.close(),Un=null)}()}(R,D)}function jt(I,D){const R=Zt.get(I);if(R)for(const L of R)L(D)}let Un=null;const or="firebase-installations-store";let wi=null;function li(){return wi||(wi=(0,J.X3)("firebase-installations-database",1,(I,D)=>{0===D&&I.createObjectStore(or)})),wi}function Je(I,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,x.Z)(function*(I,D){const R=qt(I),q=(yield li()).transaction(or,"readwrite"),ee=q.objectStore(or),be=yield ee.get(R);return yield ee.put(D,R),yield q.complete,(!be||be.fid!==D.fid)&&zr(I,D.fid),D})).apply(this,arguments)}function xn(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,x.Z)(function*(I){const D=qt(I),L=(yield li()).transaction(or,"readwrite");yield L.objectStore(or).delete(D),yield L.complete})).apply(this,arguments)}function Sr(I,D){return zi.apply(this,arguments)}function zi(){return(zi=(0,x.Z)(function*(I,D){const R=qt(I),q=(yield li()).transaction(or,"readwrite"),ee=q.objectStore(or),be=yield ee.get(R),Te=D(be);return void 0===Te?yield ee.delete(R):yield ee.put(Te,R),yield q.complete,Te&&(!be||be.fid!==Te.fid)&&zr(I,Te.fid),Te})).apply(this,arguments)}function en(I){return kn.apply(this,arguments)}function kn(){return(kn=(0,x.Z)(function*(I){let D;const R=yield Sr(I.appConfig,L=>{const q=Ci(L),ee=ro(I,q);return D=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function Ci(I){return Rt(I||{fid:Ze(),registrationStatus:0})}function ro(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ye.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function At(I,D){return Ge.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:lt(I)}:{installationEntry:D}}function Ge(){return(Ge=(0,x.Z)(function*(I,D){try{const R=yield ie(I,D);return Je(I.appConfig,R)}catch(R){throw We(R)&&409===R.customData.serverCode?yield xn(I.appConfig):yield Je(I.appConfig,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function lt(I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,x.Z)(function*(I){let D=yield ui(I.appConfig);for(;1===D.registrationStatus;)yield ae(100),D=yield ui(I.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield en(I);return L||R}return D})).apply(this,arguments)}function ui(I){return Sr(I,D=>{if(!D)throw ye.create("installation-not-found");return Rt(D)})}function Rt(I){return function Ps(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Wn(I,D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:D},R){const L=Xe(I,R),q=Fe(I,R),ee=D.getImmediate({optional:!0});if(ee){const ct=yield ee.getHeartbeatsHeader();ct&&q.append("x-firebase-client",ct)}const Te={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H,appId:I.appId}})},He=yield te(()=>fetch(L,Te));if(He.ok)return Ce(yield He.json());throw yield me("Generate Auth Token",He)})).apply(this,arguments)}function Xe(I,{fid:D}){return`${Be(I)}/${D}/authTokens:generate`}function zn(I){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,x.Z)(function*(I,D=!1){let R;const L=yield Sr(I.appConfig,ee=>{if(!Ct(ee))throw ye.create("not-registered");const be=ee.authToken;if(!D&&V(be))return ee;if(1===be.requestStatus)return R=Ve(I,D),ee;{if(!navigator.onLine)throw ye.create("app-offline");const Te=W(ee);return R=et(I,Te),Te}});return R?yield R:L.authToken})).apply(this,arguments)}function Ve(I,D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,x.Z)(function*(I,D){let R=yield je(I.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield je(I.appConfig);const L=R.authToken;return 0===L.requestStatus?zn(I,D):L})).apply(this,arguments)}function je(I){return Sr(I,D=>{if(!Ct(D))throw ye.create("not-registered");return function ue(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function et(I,D){return bt.apply(this,arguments)}function bt(){return(bt=(0,x.Z)(function*(I,D){try{const R=yield Wn(I,D),L=Object.assign(Object.assign({},D),{authToken:R});return yield Je(I.appConfig,L),R}catch(R){if(!We(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Je(I.appConfig,L)}else yield xn(I.appConfig);throw R}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function V(I){return 2===I.requestStatus&&!function U(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function W(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function Ne(){return(Ne=(0,x.Z)(function*(I){const D=I,{installationEntry:R,registrationPromise:L}=yield en(D);return L?L.catch(console.error):zn(D).catch(console.error),R.fid})).apply(this,arguments)}function kt(){return(kt=(0,x.Z)(function*(I,D=!1){const R=I;return yield Gn(R),(yield zn(R,D)).token})).apply(this,arguments)}function Gn(I){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,x.Z)(function*(I){const{registrationPromise:D}=yield en(I);D&&(yield D)})).apply(this,arguments)}function Mn(I){return ye.create("missing-app-config-values",{valueName:I})}const jo="installations",Re=I=>{const D=I.getProvider("app").getImmediate(),R=function Ii(I){if(!I||!I.options)throw Mn("App Configuration");if(!I.name)throw Mn("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!I.options[R])throw Mn(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},yt=I=>{const D=I.getProvider("app").getImmediate(),R=(0,oe._getProvider)(D,jo).getImmediate();return{getId:()=>function Y(I){return Ne.apply(this,arguments)}(R),getToken:q=>function it(I){return kt.apply(this,arguments)}(R,q)}};(function Jt(){(0,oe._registerComponent)(new fe.wA(jo,Re,"PUBLIC")),(0,oe._registerComponent)(new fe.wA("installations-internal",yt,"PRIVATE"))})(),(0,oe.registerVersion)(ce,"0.5.8"),(0,oe.registerVersion)(ce,"0.5.8","esm2017");const jn="@firebase/remote-config",En=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nd{constructor(D,R,L,q){this.client=D,this.storage=R,this.storageCache=L,this.logger=q}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,q=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var R=this;return(0,x.Z)(function*(){const[L,q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(q&&R.isCachedDataFresh(D.cacheMaxAgeMillis,L))return q;D.eTag=q&&q.eTag;const ee=yield R.client.fetch(D),be=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&be.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(be),ee})()}}function Ru(I=navigator){return I.languages&&I.languages[0]||I.language}class Ea{constructor(D,R,L,q,ee,be){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=be}fetch(D){var R=this;return(0,x.Z)(function*(){const[L,q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Te={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},He={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:R.appId,language_code:Ru()},ct={method:"POST",headers:Te,body:JSON.stringify(He)},_t=fetch(be,ct),ht=new Promise((Fr,Xr)=>{D.signal.addEventListener(()=>{const zs=new Error("The operation was aborted.");zs.name="AbortError",Xr(zs)})});let An;try{yield Promise.race([_t,ht]),An=yield _t}catch(Fr){let Xr="fetch-client-network";throw"AbortError"===Fr.name&&(Xr="fetch-timeout"),En.create(Xr,{originalErrorMessage:Fr.message})}let mn=An.status;const Io=An.headers.get("ETag")||void 0;let Ws,lr;if(200===An.status){let Fr;try{Fr=yield An.json()}catch(Xr){throw En.create("fetch-client-parse",{originalErrorMessage:Xr.message})}Ws=Fr.entries,lr=Fr.state}if("INSTANCE_STATE_UNSPECIFIED"===lr?mn=500:"NO_CHANGE"===lr?mn=304:("NO_TEMPLATE"===lr||"EMPTY_CONFIG"===lr)&&(Ws={}),304!==mn&&200!==mn)throw En.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:Io,config:Ws}})()}}class Xh{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,x.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:L}){var q=this;return(0,x.Z)(function*(){yield function Tn(I,D){return new Promise((R,L)=>{const q=Math.max(D-Date.now(),0),ee=setTimeout(R,q);I.addEventListener(()=>{clearTimeout(ee),L(En.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const ee=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Pu(I){if(!(I instanceof J.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ee))throw ee;const be={throttleEndTimeMillis:Date.now()+(0,J.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(be),q.attemptFetch(D,be)}})()}}class Mu{constructor(D,R,L,q,ee){this.app=D,this._client=R,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fl(I,D){const R=I.target.error||void 0;return En.create(D,{originalErrorMessage:R&&R.message})}const Yi="app_namespace_store";class rf{constructor(D,R,L,q=function nf(){return new Promise((I,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{D(fl(L,"storage-open"))},R.onsuccess=L=>{I(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Yi,{keyPath:"compositeKey"})}}catch(R){D(En.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,x.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ee)=>{const Te=L.transaction([Yi],"readonly").objectStore(Yi),He=R.createCompositeKey(D);try{const ct=Te.get(He);ct.onerror=_t=>{ee(fl(_t,"storage-get"))},ct.onsuccess=_t=>{const ht=_t.target.result;q(ht?ht.value:void 0)}}catch(ct){ee(En.create("storage-get",{originalErrorMessage:ct&&ct.message}))}})})()}set(D,R){var L=this;return(0,x.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,be)=>{const He=q.transaction([Yi],"readwrite").objectStore(Yi),ct=L.createCompositeKey(D);try{const _t=He.put({compositeKey:ct,value:R});_t.onerror=ht=>{be(fl(ht,"storage-set"))},_t.onsuccess=()=>{ee()}}catch(_t){be(En.create("storage-set",{originalErrorMessage:_t&&_t.message}))}})})()}delete(D){var R=this;return(0,x.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ee)=>{const Te=L.transaction([Yi],"readwrite").objectStore(Yi),He=R.createCompositeKey(D);try{const ct=Te.delete(He);ct.onerror=_t=>{ee(fl(_t,"storage-delete"))},ct.onsuccess=()=>{q()}}catch(ct){ee(En.create("storage-delete",{originalErrorMessage:ct&&ct.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Nu{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,x.Z)(function*(){const R=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),ee=yield R;ee&&(D.lastFetchStatus=ee);const be=yield L;be&&(D.lastSuccessfulFetchTimestampMillis=be);const Te=yield q;Te&&(D.activeConfig=Te)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ns(){return rd.apply(this,arguments)}function rd(){return(rd=(0,x.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}!function so(){(0,oe._registerComponent)(new fe.wA("remote-config",function I(D,{instanceIdentifier:R}){const L=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw En.create("registration-window");if(!(0,J.hl)())throw En.create("indexed-db-unavailable");const{projectId:ee,apiKey:be,appId:Te}=L.options;if(!ee)throw En.create("registration-project-id");if(!be)throw En.create("registration-api-key");if(!Te)throw En.create("registration-app-id");const He=new rf(Te,L.name,R=R||"firebase"),ct=new Nu(He),_t=new re.Yd(jn);_t.logLevel=re.in.ERROR;const ht=new Ea(q,oe.SDK_VERSION,R,ee,be,Te),An=new Xh(ht,He),mn=new nd(An,He,ct,_t),Io=new Mu(L,mn,ct,He,_t);return function Gr(I){const D=(0,J.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Io),Io},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(jn,"0.3.7"),(0,oe.registerVersion)(jn,"0.3.7","esm2017")}();const pl="/firebase-messaging-sw.js",Qi="/firebase-cloud-messaging-push-scope",gr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xs="google.c.a.c_id",$o="google.c.a.c_l",xu="google.c.a.ts",sf="google.c.a.e";var Ji=(()=>{return(I=Ji||(Ji={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ji;var I})();function Pr(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ca(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const Ia="fcm_token_details_db",qn="fcm_token_object_Store";function id(I){return Da.apply(this,arguments)}function Da(){return Da=(0,x.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Ia))return null;let D=null;return(yield(0,J.X3)(Ia,5,function(){var L=(0,x.Z)(function*(q,ee,be,Te){var He;if(ee<2||!q.objectStoreNames.contains(qn))return;const ct=Te.objectStore(qn),_t=yield ct.index("fcmSenderId").get(I);if(yield ct.clear(),_t)if(2===ee){const ht=_t;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;D={token:ht.fcmToken,createTime:null!==(He=ht.createTime)&&void 0!==He?He:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:Pr(ht.vapidKey)}}}else if(3===ee){const ht=_t;D={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Pr(ht.auth),p256dh:Pr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Pr(ht.vapidKey)}}}else if(4===ee){const ht=_t;D={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Pr(ht.auth),p256dh:Pr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Pr(ht.vapidKey)}}}});return function(q,ee,be,Te){return L.apply(this,arguments)}}())).close(),yield(0,J.Lj)(Ia),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),ku(D)?D:null}),Da.apply(this,arguments)}function ku(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Si="firebase-messaging-store";let Wo=null;function gl(){return Wo||(Wo=(0,J.X3)("firebase-messaging-database",1,(I,D)=>{0===D&&I.createObjectStore(Si)})),Wo}function tn(I){return lo.apply(this,arguments)}function lo(){return(lo=(0,x.Z)(function*(I){const D=Fs(I),L=yield(yield gl()).transaction(Si).objectStore(Si).get(D);if(L)return L;{const q=yield id(I.appConfig.senderId);if(q)return yield Xi(I,q),q}})).apply(this,arguments)}function Xi(I,D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,x.Z)(function*(I,D){const R=Fs(I),q=(yield gl()).transaction(Si,"readwrite");return yield q.objectStore(Si).put(D,R),yield q.complete,D})).apply(this,arguments)}function Fu(I){return ks.apply(this,arguments)}function ks(){return(ks=(0,x.Z)(function*(I){const D=Fs(I),L=(yield gl()).transaction(Si,"readwrite");yield L.objectStore(Si).delete(D),yield L.complete})).apply(this,arguments)}function Fs({appConfig:I}){return I.appId}const wn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zo(I,D){return qr.apply(this,arguments)}function qr(){return(qr=(0,x.Z)(function*(I,D){const R=yield ts(I),L=tt(D),q={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(_r(I.appConfig),q)).json()}catch(be){throw wn.create("token-subscribe-failed",{errorInfo:be})}if(ee.error)throw wn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw wn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Yn(I,D){return es.apply(this,arguments)}function es(){return(es=(0,x.Z)(function*(I,D){const R=yield ts(I),L=tt(D.subscriptionOptions),q={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${_r(I.appConfig)}/${D.token}`,q)).json()}catch(be){throw wn.create("token-update-failed",{errorInfo:be})}if(ee.error)throw wn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw wn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Ai(I,D){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,x.Z)(function*(I,D){const L={method:"DELETE",headers:yield ts(I)};try{const ee=yield(yield fetch(`${_r(I.appConfig)}/${D}`,L)).json();if(ee.error)throw wn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw wn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function _r({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ts(I){return ns.apply(this,arguments)}function ns(){return(ns=(0,x.Z)(function*({appConfig:I,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function tt({p256dh:I,auth:D,endpoint:R,vapidKey:L}){const q={web:{endpoint:R,auth:D,p256dh:I}};return L!==gr&&(q.web.applicationPubKey=L),q}const Aa=6048e5;function Go(I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,x.Z)(function*(I){const D=yield Lu(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:Pr(D.getKey("auth")),p256dh:Pr(D.getKey("p256dh"))},L=yield tn(I.firebaseDependencies);if(L){if(uo(L.subscriptionOptions,R))return Date.now()>=L.createTime+Aa?ml(I,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Ai(I.firebaseDependencies,L.token)}catch(q){console.warn(q)}return ve(I.firebaseDependencies,R)}return ve(I.firebaseDependencies,R)})).apply(this,arguments)}function Pa(I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,x.Z)(function*(I){const D=yield tn(I.firebaseDependencies);D&&(yield Ai(I.firebaseDependencies,D.token),yield Fu(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function ml(I,D){return _l.apply(this,arguments)}function _l(){return(_l=(0,x.Z)(function*(I,D){try{const R=yield Yn(I.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Xi(I.firebaseDependencies,L),R}catch(R){throw yield Pa(I),R}})).apply(this,arguments)}function ve(I,D){return It.apply(this,arguments)}function It(){return(It=(0,x.Z)(function*(I,D){const L={token:yield zo(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Xi(I,L),L.token})).apply(this,arguments)}function Lu(I,D){return on.apply(this,arguments)}function on(){return(on=(0,x.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ca(D)})})).apply(this,arguments)}function uo(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function co(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function yr(I,D){if(!D.notification)return;I.notification={};const R=D.notification.title;R&&(I.notification.title=R);const L=D.notification.body;L&&(I.notification.body=L);const q=D.notification.image;q&&(I.notification.image=q)}(D,I),function yl(I,D){!D.data||(I.data=D.data)}(D,I),function vl(I,D){if(!D.fcmOptions)return;I.fcmOptions={};const R=D.fcmOptions.link;R&&(I.fcmOptions.link=R);const L=D.fcmOptions.analytics_label;L&&(I.fcmOptions.analyticsLabel=L)}(D,I),D}function Uu(I){return"object"==typeof I&&!!I&&xs in I}function El(I,D){const R=[];for(let L=0;L<I.length;L++)R.push(I.charAt(L)),L<D.length&&R.push(D.charAt(L));return R.join("")}function rs(I){return wn.create("missing-app-config-values",{valueName:I})}El("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),El("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hn{constructor(D,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Oa(I){if(!I||!I.options)throw rs("App Configuration Object");if(!I.name)throw rs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const L of D)if(!R[L])throw rs(L);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Mr(I){return Na.apply(this,arguments)}function Na(){return(Na=(0,x.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(pl,{scope:Qi}),I.swRegistration.update().catch(()=>{})}catch(D){throw wn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function is(I,D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,x.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Mr(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function wl(I,D){return xa.apply(this,arguments)}function xa(){return(xa=(0,x.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=gr)})).apply(this,arguments)}function Cl(){return(Cl=(0,x.Z)(function*(I,D){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield wl(I,null==D?void 0:D.vapidKey),yield is(I,null==D?void 0:D.serviceWorkerRegistration),Go(I)})).apply(this,arguments)}function Ko(I,D,R){return ho.apply(this,arguments)}function ho(){return(ho=(0,x.Z)(function*(I,D,R){const L=Il(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[xs],message_name:R[$o],message_time:R[xu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Il(I){switch(I){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bu(){return(Bu=(0,x.Z)(function*(I,D){const R=D.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Ji.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(co(R)):I.onMessageHandler.next(co(R)));const L=R.data;Uu(L)&&"1"===L[sf]&&(yield Ko(I,R.messageType,L))})).apply(this,arguments)}const bl="@firebase/messaging",Vu=I=>{const D=new Hn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Dl(I,D){return Bu.apply(this,arguments)}(D,R)),D},Us=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:L=>function ka(I,D){return Cl.apply(this,arguments)}(D,L)}};function Hu(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,x.Z)(function*(){try{yield(0,J.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ju(){(0,oe._registerComponent)(new fe.wA("messaging",Vu,"PUBLIC")),(0,oe._registerComponent)(new fe.wA("messaging-internal",Us,"PRIVATE")),(0,oe.registerVersion)(bl,"0.9.12"),(0,oe.registerVersion)(bl,"0.9.12","esm2017")}();const Sl="analytics",$p="firebase_id",qo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fa="https://www.googletagmanager.com/gtag/js",Sn=new re.Yd("@firebase/analytics");function $u(I){return Promise.all(I.map(D=>D.catch(R=>R)))}function of(I,D){const R=document.createElement("script");R.src=`${Fa}?l=${I}&id=${D}`,R.async=!0,document.head.appendChild(R)}function fo(I,D,R,L,q,ee){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,x.Z)(function*(I,D,R,L,q,ee){const be=L[q];try{if(be)yield D[be];else{const He=(yield $u(R)).find(ct=>ct.measurementId===q);He&&(yield D[He.appId])}}catch(Te){Sn.error(Te)}I("config",q,ee)})).apply(this,arguments)}function Rl(I,D,R,L,q){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,x.Z)(function*(I,D,R,L,q){try{let ee=[];if(q&&q.send_to){let be=q.send_to;Array.isArray(be)||(be=[be]);const Te=yield $u(R);for(const He of be){const ct=Te.find(ht=>ht.measurementId===He),_t=ct&&D[ct.appId];if(!_t){ee=[];break}ee.push(_t)}}0===ee.length&&(ee=Object.values(D)),yield Promise.all(ee),I("event",L,q||{})}catch(ee){Sn.error(ee)}})).apply(this,arguments)}function af(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(Fa))return D;return null}const Cn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Or=new class vr{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function po(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Gu(I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,x.Z)(function*(I){var D;const{appId:R,apiKey:L}=I,q={method:"GET",headers:po(L)},ee=qo.replace("{app-id}",R),be=yield fetch(ee,q);if(200!==be.status&&304!==be.status){let Te="";try{const He=yield be.json();(null===(D=He.error)||void 0===D?void 0:D.message)&&(Te=He.error.message)}catch(He){}throw Cn.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Te})}return be.json()})).apply(this,arguments)}function ad(I){return di.apply(this,arguments)}function di(){return(di=(0,x.Z)(function*(I,D=Or,R){const{appId:L,apiKey:q,measurementId:ee}=I.options;if(!L)throw Cn.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw Cn.create("no-api-key")}const be=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Te=new Pl;return setTimeout((0,x.Z)(function*(){Te.abort()}),void 0!==R?R:6e4),La({appId:L,apiKey:q,measurementId:ee},be,Te,D)})).apply(this,arguments)}function La(I,D,R){return Er.apply(this,arguments)}function Er(){return(Er=(0,x.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:R},L,q=Or){const{appId:ee,measurementId:be}=I;try{yield Ft(L,D)}catch(Te){if(be)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Te.message}]`),{appId:ee,measurementId:be};throw Te}try{const Te=yield Gu(I);return q.deleteThrottleMetadata(ee),Te}catch(Te){if(!Ku(Te)){if(q.deleteThrottleMetadata(ee),be)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Te.message}]`),{appId:ee,measurementId:be};throw Te}const He=503===Number(Te.customData.httpStatus)?(0,J.$s)(R,q.intervalMillis,30):(0,J.$s)(R,q.intervalMillis),ct={throttleEndTimeMillis:Date.now()+He,backoffCount:R+1};return q.setThrottleMetadata(ee,ct),Sn.debug(`Calling attemptFetch again in ${He} millis`),La(I,ct,L,q)}})).apply(this,arguments)}function Ft(I,D){return new Promise((R,L)=>{const q=Math.max(D-Date.now(),0),ee=setTimeout(R,q);I.addEventListener(()=>{clearTimeout(ee),L(Cn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ku(I){if(!(I instanceof J.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Pl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function ld(){return go.apply(this,arguments)}function go(){return(go=(0,x.Z)(function*(){if(!(0,J.hl)())return Sn.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(I){return Sn.warn(Cn.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Mi(){return(Mi=(0,x.Z)(function*(I,D,R,L,q,ee,be){var Te;const He=ad(I);He.then(mn=>{R[mn.measurementId]=mn.appId,I.options.measurementId&&mn.measurementId!==I.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>Sn.error(mn)),D.push(He);const ct=ld().then(mn=>{if(mn)return L.getId()}),[_t,ht]=yield Promise.all([He,ct]);af()||of(ee,_t.measurementId),q("js",new Date);const An=null!==(Te=null==be?void 0:be.config)&&void 0!==Te?Te:{};return An.origin="firebase",An.update=!0,null!=ht&&(An[$p]=ht),q("config",_t.measurementId,An),_t.measurementId})).apply(this,arguments)}class mo{constructor(D){this.app=D}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},as=[];const Zo={};let ls,fi,hi="dataLayer",Ol=!1;function Yr(I,D,R){!function _o(){const I=[];if((0,J.ru)()&&I.push("This is a browser extension environment."),(0,J.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((L,q)=>`(${q+1}) ${L}`).join(" "),R=Cn.create("invalid-analytics-context",{errorInfo:D});Sn.warn(R.message)}}();const L=I.options.appId;if(!L)throw Cn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Cn.create("no-api-key");Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[L])throw Cn.create("already-exists",{id:L});if(!Ol){!function Pi(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(hi);const{wrappedGtag:ee,gtagCore:be}=function od(I,D,R,L,q){let ee=function(...be){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function zu(I,D,R,L){function ee(){return(ee=(0,x.Z)(function*(be,Te,He){try{"event"===be?yield Rl(I,D,R,Te,He):"config"===be?yield fo(I,D,R,L,Te,He):I("set",Te)}catch(ct){Sn.error(ct)}})).apply(this,arguments)}return function q(be,Te,He){return ee.apply(this,arguments)}}(ee,I,D,R),{gtagCore:ee,wrappedGtag:window[q]}}(Nr,as,Zo,hi,"gtag");fi=ee,ls=be,Ol=!0}return Nr[L]=function In(I,D,R,L,q,ee,be){return Mi.apply(this,arguments)}(I,as,Zo,D,ls,hi,R),new mo(I)}function Yo(){return(Yo=(0,x.Z)(function*(I,D,R,L,q){if(q&&q.global)I("event",R,L);else{const ee=yield D;I("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function pn(){return cs.apply(this,arguments)}function cs(){return(cs=(0,x.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}const ds="@firebase/analytics";!function df(){(0,oe._registerComponent)(new fe.wA(Sl,(D,{options:R})=>Yr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new fe.wA("analytics-internal",function I(D){try{const R=D.getProvider(Sl).getImmediate();return{logEvent:(L,q,ee)=>function cf(I,D,R,L){I=(0,J.m9)(I),function yo(I,D,R,L,q){return Yo.apply(this,arguments)}(fi,Nr[I.app.options.appId],D,R,L).catch(q=>Sn.error(q))}(R,L,q,ee)}}catch(R){throw Cn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(ds,"0.7.8"),(0,oe.registerVersion)(ds,"0.7.8","esm2017")}();var hs=N(4408),Ua=N(7565);const Nl=new class ln extends Ua.v{}(class Oi extends hs.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,R,L):D.flush(this)}});var hf=N(4986),xl=N(8505),er=N(9468),xr=N(5363);const kl=new y.GfV("7.3.0"),Ni="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",gi="__angularfire_symbol__remoteConfigIsSupportedValue",Qo="__angularfire_symbol__remoteConfigIsSupported",Fl="__angularfire_symbol__messagingIsSupportedValue",Ll="__angularfire_symbol__messagingIsSupported";function fs(I,D,R){if(D){if(1===D.length)return D[0];const ee=D.filter(be=>be.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=pn().then(I=>globalThis[Ni]=I).catch(()=>globalThis[Ni]=!1)),globalThis[Ll]||(globalThis[Ll]=Hu().then(I=>globalThis[Fl]=I).catch(()=>globalThis[Fl]=!1)),globalThis[Qo]||(globalThis[Qo]=Ns().then(I=>globalThis[gi]=I).catch(()=>globalThis[gi]=!1));const Yu=(I,D)=>{const R=D?[D]:(0,Z.C6)(),L=[];return R.forEach(q=>{q.container.getProvider(I).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function Hs(){}class Ba{constructor(D,R=Nl){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,L){const q=this.zone;return this.delegate.schedule(function(be){q.runGuarded(()=>{D.apply(this,[be])})},R,L)}}class mi{constructor(D){this.zone=D,this.task=null}call(D,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),R.pipe((0,xl.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Va=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ba(Zone.current)),this.insideAngular=R.run(()=>new Ba(Zone.current,hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(y.LFG(y.R0b))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function _i(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Vl(I){return _i(),function $s(I){return function(R){return(R=R.lift(new mi(I.ngZone))).pipe((0,er.R)(I.outsideAngular),(0,xr.Q)(I.insideAngular))}}(_i())(I)}},2090:(qe,we,N)=>{N.d(we,{$s:()=>Ps,BH:()=>De,DV:()=>St,Dv:()=>zi,GJ:()=>oi,L:()=>le,LL:()=>dt,Lj:()=>bt,Pz:()=>rt,Sg:()=>Ae,UG:()=>ye,UI:()=>hr,US:()=>re,Wj:()=>Ci,X3:()=>et,Yr:()=>Fe,ZB:()=>Q,ZR:()=>ae,b$:()=>Ce,cI:()=>Ze,dS:()=>At,eu:()=>ne,g5:()=>oe,gK:()=>en,gQ:()=>li,h$:()=>ce,hl:()=>K,hu:()=>x,jU:()=>We,lb:()=>ro,m9:()=>Xe,ne:()=>Je,p$:()=>H,pd:()=>wi,r3:()=>jt,ru:()=>Be,tV:()=>j,uI:()=>he,ug:()=>Ge,vZ:()=>Wi,w1:()=>_e,w9:()=>Ht,xO:()=>ai,xb:()=>Un,z$:()=>Oe,zI:()=>pe,zd:()=>or});var y=N(5861);const x=function(V,U){if(!V)throw oe(U)},oe=function(V){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+V)},J=function(V){const U=[];let W=0;for(let ue=0;ue<V.length;ue++){let Y=V.charCodeAt(ue);Y<128?U[W++]=Y:Y<2048?(U[W++]=Y>>6|192,U[W++]=63&Y|128):55296==(64512&Y)&&ue+1<V.length&&56320==(64512&V.charCodeAt(ue+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++ue)),U[W++]=Y>>18|240,U[W++]=Y>>12&63|128,U[W++]=Y>>6&63|128,U[W++]=63&Y|128):(U[W++]=Y>>12|224,U[W++]=Y>>6&63|128,U[W++]=63&Y|128)}return U},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,U){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let Y=0;Y<V.length;Y+=3){const Ne=V[Y],it=Y+1<V.length,kt=it?V[Y+1]:0,Gn=Y+2<V.length,Nt=Gn?V[Y+2]:0;let Qt=(15&kt)<<2|Nt>>6,Fn=63&Nt;Gn||(Fn=64,it||(Qt=64)),ue.push(W[Ne>>2],W[(3&Ne)<<4|kt>>4],W[Qt],W[Fn])}return ue.join("")},encodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(V):this.encodeByteArray(J(V),U)},decodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(V):function(V){const U=[];let W=0,ue=0;for(;W<V.length;){const Y=V[W++];if(Y<128)U[ue++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ne=V[W++];U[ue++]=String.fromCharCode((31&Y)<<6|63&Ne)}else if(Y>239&&Y<365){const Gn=((7&Y)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;U[ue++]=String.fromCharCode(55296+(Gn>>10)),U[ue++]=String.fromCharCode(56320+(1023&Gn))}else{const Ne=V[W++],it=V[W++];U[ue++]=String.fromCharCode((15&Y)<<12|(63&Ne)<<6|63&it)}}return U.join("")}(this.decodeStringToByteArray(V,U))},decodeStringToByteArray(V,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let Y=0;Y<V.length;){const Ne=W[V.charAt(Y++)],kt=Y<V.length?W[V.charAt(Y)]:0;++Y;const Nt=Y<V.length?W[V.charAt(Y)]:64;++Y;const mt=Y<V.length?W[V.charAt(Y)]:64;if(++Y,null==Ne||null==kt||null==Nt||null==mt)throw Error();ue.push(Ne<<2|kt>>4),64!==Nt&&(ue.push(kt<<4&240|Nt>>2),64!==mt&&ue.push(Nt<<6&192|mt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ce=function(V){const U=J(V);return re.encodeByteArray(U,!0)},le=function(V){return ce(V).replace(/\./g,"")},j=function(V){try{return re.decodeString(V,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H(V){return Q(void 0,V)}function Q(V,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!Ue(W)||(V[W]=Q(V[W],U[W]));return V}function Ue(V){return"__proto__"!==V}class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,ue)=>{W?this.reject(W):this.resolve(ue),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,ue))}}}function Ae(V,U){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=U||"demo-project",Y=V.iat||0,Ne=V.sub||V.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:Y,exp:Y+3600,auth_time:Y,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},V);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(it)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function We(){return"object"==typeof self&&self.self===self}function Be(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){const V=Oe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Fe(){return!1}function K(){return"object"==typeof indexedDB}function ne(){return new Promise((V,U)=>{try{let W=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ue);Y.onsuccess=()=>{Y.result.close(),W||self.indexedDB.deleteDatabase(ue),V(!0)},Y.onupgradeneeded=()=>{W=!1},Y.onerror=()=>{var Ne;U((null===(Ne=Y.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(W){U(W)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(U,W,ue){super(W),this.code=U,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(U,W,ue){this.service=U,this.serviceName=W,this.errors=ue}create(U,...W){const ue=W[0]||{},Y=`${this.service}/${U}`,Ne=this.errors[U],it=Ne?function Vt(V,U){return V.replace(vn,(W,ue)=>{const Y=U[ue];return null!=Y?String(Y):`<${ue}?>`})}(Ne,ue):"Error";return new ae(Y,`${this.serviceName}: ${it} (${Y}).`,ue)}}const vn=/\{\$([^}]+)}/g;function Ze(V){return JSON.parse(V)}function rt(V){return JSON.stringify(V)}const qt=function(V){let U={},W={},ue={},Y="";try{const Ne=V.split(".");U=Ze(j(Ne[0])||""),W=Ze(j(Ne[1])||""),Y=Ne[2],ue=W.d||{},delete W.d}catch(Ne){}return{header:U,claims:W,data:ue,signature:Y}},Ht=function(V){const W=qt(V).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},oi=function(V){const U=qt(V).claims;return"object"==typeof U&&!0===U.admin};function jt(V,U){return Object.prototype.hasOwnProperty.call(V,U)}function St(V,U){if(Object.prototype.hasOwnProperty.call(V,U))return V[U]}function Un(V){for(const U in V)if(Object.prototype.hasOwnProperty.call(V,U))return!1;return!0}function hr(V,U,W){const ue={};for(const Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(ue[Y]=U.call(W,V[Y],Y,V));return ue}function Wi(V,U){if(V===U)return!0;const W=Object.keys(V),ue=Object.keys(U);for(const Y of W){if(!ue.includes(Y))return!1;const Ne=V[Y],it=U[Y];if(sr(Ne)&&sr(it)){if(!Wi(Ne,it))return!1}else if(Ne!==it)return!1}for(const Y of ue)if(!W.includes(Y))return!1;return!0}function sr(V){return null!==V&&"object"==typeof V}function ai(V){const U=[];for(const[W,ue]of Object.entries(V))Array.isArray(ue)?ue.forEach(Y=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(Y))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(ue));return U.length?"&"+U.join("&"):""}function or(V){const U={};return V.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[Y,Ne]=ue.split("=");U[decodeURIComponent(Y)]=decodeURIComponent(Ne)}}),U}function wi(V){const U=V.indexOf("?");if(!U)return"";const W=V.indexOf("#",U);return V.substring(U,W>0?W:void 0)}class li{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,W){W||(W=0);const ue=this.W_;if("string"==typeof U)for(let mt=0;mt<16;mt++)ue[mt]=U.charCodeAt(W)<<24|U.charCodeAt(W+1)<<16|U.charCodeAt(W+2)<<8|U.charCodeAt(W+3),W+=4;else for(let mt=0;mt<16;mt++)ue[mt]=U[W]<<24|U[W+1]<<16|U[W+2]<<8|U[W+3],W+=4;for(let mt=16;mt<80;mt++){const Qt=ue[mt-3]^ue[mt-8]^ue[mt-14]^ue[mt-16];ue[mt]=4294967295&(Qt<<1|Qt>>>31)}let Nt,dn,Y=this.chain_[0],Ne=this.chain_[1],it=this.chain_[2],kt=this.chain_[3],Gn=this.chain_[4];for(let mt=0;mt<80;mt++){mt<40?mt<20?(Nt=kt^Ne&(it^kt),dn=1518500249):(Nt=Ne^it^kt,dn=1859775393):mt<60?(Nt=Ne&it|kt&(Ne|it),dn=2400959708):(Nt=Ne^it^kt,dn=3395469782);const Qt=(Y<<5|Y>>>27)+Nt+Gn+dn+ue[mt]&4294967295;Gn=kt,kt=it,it=4294967295&(Ne<<30|Ne>>>2),Ne=Y,Y=Qt}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ne&4294967295,this.chain_[2]=this.chain_[2]+it&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+Gn&4294967295}update(U,W){if(null==U)return;void 0===W&&(W=U.length);const ue=W-this.blockSize;let Y=0;const Ne=this.buf_;let it=this.inbuf_;for(;Y<W;){if(0===it)for(;Y<=ue;)this.compress_(U,Y),Y+=this.blockSize;if("string"==typeof U){for(;Y<W;)if(Ne[it]=U.charCodeAt(Y),++it,++Y,it===this.blockSize){this.compress_(Ne),it=0;break}}else for(;Y<W;)if(Ne[it]=U[Y],++it,++Y,it===this.blockSize){this.compress_(Ne),it=0;break}}this.inbuf_=it,this.total_+=W}digest(){const U=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&W,W/=256;this.compress_(this.buf_);let ue=0;for(let Y=0;Y<5;Y++)for(let Ne=24;Ne>=0;Ne-=8)U[ue]=this.chain_[Y]>>Ne&255,++ue;return U}}function Je(V,U){const W=new fr(V,U);return W.subscribe.bind(W)}class fr{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(ue=>{this.error(ue)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,ue){let Y;if(void 0===U&&void 0===W&&void 0===ue)throw new Error("Missing Observer.");Y=function Pn(V,U){if("object"!=typeof V||null===V)return!1;for(const W of U)if(W in V&&"function"==typeof V[W])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:ue},void 0===Y.next&&(Y.next=Sr),void 0===Y.error&&(Y.error=Sr),void 0===Y.complete&&(Y.complete=Sr);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(it){}}),this.observers.push(Y),Ne}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}const zi=function(V,U,W,ue){let Y;if(ue<U?Y="at least "+U:ue>W&&(Y=0===W?"none":"no more than "+W),Y)throw new Error(V+" failed: Was called with "+ue+(1===ue?" argument.":" arguments.")+" Expects "+Y+".")};function en(V,U){return`${V} failed: ${U} argument `}function Ci(V,U,W,ue){if((!ue||W)&&"function"!=typeof W)throw new Error(en(V,U)+"must be a valid function.")}function ro(V,U,W,ue){if((!ue||W)&&("object"!=typeof W||null===W))throw new Error(en(V,U)+"must be a valid context object.")}const At=function(V){const U=[];let W=0;for(let ue=0;ue<V.length;ue++){let Y=V.charCodeAt(ue);if(Y>=55296&&Y<=56319){const Ne=Y-55296;ue++,x(ue<V.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ne<<10)+(V.charCodeAt(ue)-56320)}Y<128?U[W++]=Y:Y<2048?(U[W++]=Y>>6|192,U[W++]=63&Y|128):Y<65536?(U[W++]=Y>>12|224,U[W++]=Y>>6&63|128,U[W++]=63&Y|128):(U[W++]=Y>>18|240,U[W++]=Y>>12&63|128,U[W++]=Y>>6&63|128,U[W++]=63&Y|128)}return U},Ge=function(V){let U=0;for(let W=0;W<V.length;W++){const ue=V.charCodeAt(W);ue<128?U++:ue<2048?U+=2:ue>=55296&&ue<=56319?(U+=4,W++):U+=3}return U};function Ps(V,U=1e3,W=2){const ue=U*Math.pow(W,V),Y=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+Y)}function Xe(V){return V&&V._delegate?V._delegate:V}function zn(V,U){return new Promise((W,ue)=>{V.onsuccess=Y=>{W(Y.target.result)},V.onerror=Y=>{var Ne;ue(`${U}: ${null===(Ne=Y.target.error)||void 0===Ne?void 0:Ne.message}`)}})}class Dt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,W="readonly"){return new Ve(this._db.transaction.call(this._db,U,W))}createObjectStore(U,W){return new Ie(this._db.createObjectStore(U,W))}close(){this._db.close()}}class Ve{constructor(U){this._transaction=U,this.complete=new Promise((W,ue)=>{this._transaction.oncomplete=function(){W()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(U){return new Ie(this._transaction.objectStore(U))}}class Ie{constructor(U){this._store=U}index(U){return new je(this._store.index(U))}createIndex(U,W,ue){return new je(this._store.createIndex(U,W,ue))}get(U){return zn(this._store.get(U),"Error reading from IndexedDB")}put(U,W){return zn(this._store.put(U,W),"Error writing to IndexedDB")}delete(U){return zn(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return zn(this._store.clear(),"Error clearing IndexedDB object store")}}class je{constructor(U){this._index=U}get(U){return zn(this._index.get(U),"Error reading from IndexedDB")}}function et(V,U,W){return new Promise((ue,Y)=>{try{const Ne=indexedDB.open(V,U);Ne.onsuccess=it=>{ue(new Dt(it.target.result))},Ne.onerror=it=>{var kt;Y(`Error opening indexedDB: ${null===(kt=it.target.error)||void 0===kt?void 0:kt.message}`)},Ne.onupgradeneeded=it=>{W(new Dt(Ne.result),it.oldVersion,it.newVersion,new Ve(Ne.transaction))}}catch(Ne){Y(`Error opening indexedDB: ${Ne.message}`)}})}function bt(V){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,y.Z)(function*(V){return new Promise((U,W)=>{try{const ue=indexedDB.deleteDatabase(V);ue.onsuccess=()=>{U()},ue.onerror=Y=>{var Ne;W(`Error deleting indexedDB database "${V}": ${null===(Ne=Y.target.error)||void 0===Ne?void 0:Ne.message}`)}}catch(ue){W(`Error deleting indexedDB database "${V}": ${ue.message}`)}})})).apply(this,arguments)}},2923:(qe,we,N)=>{var y=N(5e3);let Z=null;function x(){return Z}const re=new y.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return function le(){return(0,y.LFG)(H)}()},providedIn:"platform"}),n})();const j=new y.OlP("Location Initialized");let H=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const s=x().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=x().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){Q()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){Q()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(re))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Ue(){return new H((0,y.LFG)(re))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function De(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Oe(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return function ye(n){const t=(0,y.LFG)(re).location;return new Be((0,y.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const We=new y.OlP("appBaseHref");let Be=(()=>{class n extends he{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return De(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Oe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,u){const p=this.prepareExternalUrl(a+Oe(u));this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,u){const p=this.prepareExternalUrl(a+Oe(u));this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ce),y.LFG(We,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends he{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=De(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,u){let p=this.prepareExternalUrl(a+Oe(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,u){let p=this.prepareExternalUrl(a+Oe(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ce),y.LFG(We,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n{constructor(e,s){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ae(Fe(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Oe(s))}normalize(e){return n.stripTrailingSlash(function Le(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Oe,n.joinWithSlash=De,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(y.LFG(he),y.LFG(ce))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function _e(){return new me((0,y.LFG)(he),(0,y.LFG)(ce))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}let ao=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();let ba=(()=>{class n{}return n.\u0275prov=(0,y.Yz7)({token:n,providedIn:"root",factory:()=>new Ta((0,y.LFG)(re),window)}),n})();class Ta{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const u=a.shadowRoot;if(u){const p=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],a-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Si(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xi extends class lo extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){Z||(Z=n)}(new Xi)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fu(){return Kt=Kt||document.querySelector("base"),Kt?Kt.getAttribute("href"):null}();return null==e?null:function Fs(n){ks=ks||document.createElement("a"),ks.setAttribute("href",n);const t=ks.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function io(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,u]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let ks,Kt=null;const Zn=new y.OlP("TRANSITION_ID"),zo=[{provide:y.ip1,useFactory:function wn(n,t,e){return()=>{e.get(y.CZH).donePromise.then(()=>{const s=x(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)s.remove(a[u])})}},deps:[Zn,re,y.zs3],multi:!0}];class qr{static init(){(0,y.VLi)(new qr)}addToWindow(t){y.dqk.getAngularTestability=(s,a=!0)=>{const u=t.findTestabilityInTree(s,a);if(null==u)throw new Error("Could not find testability for element.");return u},y.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(s=>{const a=y.dqk.getAllAngularTestabilities();let u=a.length,p=!1;const m=function(w){p=p||w,u--,0==u&&s(p)};a.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:s?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Yn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const es=new y.OlP("EventManagerPlugins");let Ai=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let u=0;u<a.length;u++){const p=a[u];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(es),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=x().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let _r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),ts=(()=>{class n extends _r{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(u=>{const p=this._doc.createElement("style");p.textContent=u,a.push(s.appendChild(p))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(ns),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ns))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(re))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function ns(n){x().remove(n)}const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Aa=/%COMP%/g;function ve(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?ve(n,a,e):(a=a.replace(Aa,n),e.push(a))}return e}function It(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let on=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new uo(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case y.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new yl(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case y.ifc.ShadowDom:return new vl(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=ve(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ai),y.LFG(ts),y.LFG(y.AFp))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class uo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const u=tt[a];u?t.setAttributeNS(u,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=tt[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(y.JOm.DashCase|y.JOm.Important)?t.style.setProperty(e,s,a&y.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&y.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,It(s)):this.eventManager.addEventListener(t,e,It(s))}}class yl extends uo{constructor(t,e,s,a){super(t),this.component=s;const u=ve(a+"-"+s.id,s.styles,[]);e.addStyles(u),this.contentAttr=function ml(n){return"_ngcontent-%COMP%".replace(Aa,n)}(a+"-"+s.id),this.hostAttr=function _l(n){return"_nghost-%COMP%".replace(Aa,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class vl extends uo{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ve(a.id,a.styles,[]);for(let p=0;p<u.length;p++){const m=document.createElement("style");m.textContent=u[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Uu=(()=>{class n extends Sa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(re))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const El=["alt","control","meta","shift"],rs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Na=(()=>{class n extends Sa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const u=n.parseEventName(s),p=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,u.domEventName,p))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(s.pop());let p="";if(El.forEach(w=>{const b=s.indexOf(w);b>-1&&(s.splice(b,1),p+=w+".")}),p+=u,0!=s.length||0===u.length)return null;const m={};return m.domEventName=a,m.fullKey=p,m}static getEventFullKey(e){let s="",a=function is(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Hn.hasOwnProperty(t)&&(t=Hn[t]))}return rs[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),El.forEach(u=>{u!=a&&Mr[u](e)&&(s+=u+".")}),s+=a,s}static eventCallback(e,s,a){return u=>{n.getEventFullKey(u)===e&&a.runGuarded(()=>s(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(re))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Cl=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function Zr(){Xi.makeCurrent(),qr.init()},multi:!0},{provide:re,useFactory:function xa(){return(0,y.RDi)(document),document},deps:[]}]),Ko=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function wl(){return new y.qLn},deps:[]},{provide:es,useClass:Uu,multi:!0,deps:[re,y.R0b,y.Lbi]},{provide:es,useClass:Na,multi:!0,deps:[re]},{provide:on,useClass:on,deps:[Ai,ts,y.AFp]},{provide:y.FYo,useExisting:on},{provide:_r,useExisting:ts},{provide:ts,useClass:ts,deps:[re]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:Ai,useClass:Ai,deps:[es,y.R0b]},{provide:class tn{},useClass:Yn,deps:[]}];let ho=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:y.AFp,useValue:e.appId},{provide:Zn,useExisting:y.AFp},zo]}}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(n,12))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:Ko,imports:[ao,y.hGG]}),n})();"undefined"!=typeof window&&window;var Jn=N(8996),Cn=N(7669);function ot(...n){const t=(0,Cn.yG)(n);return(0,Jn.D)(n,t)}var $n=N(7579);class vr extends $n.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}var Or=N(8306);const{isArray:po}=Array,{getPrototypeOf:Gu,prototype:Xt,keys:ad}=Object;var Er=N(4671),Ft=N(4004);const{isArray:Ku}=Array;var In=N(5403),Mi=N(9672);function mo(...n){const t=(0,Cn.yG)(n),e=(0,Cn.jO)(n),{args:s,keys:a}=function di(n){if(1===n.length){const t=n[0];if(po(t))return{args:t,keys:null};if(function La(n){return n&&"object"==typeof n&&Gu(n)===Xt}(t)){const e=ad(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}(n);if(0===s.length)return(0,Jn.D)([],t);const u=new Or.y(function Nr(n,t,e=Er.y){return s=>{as(t,()=>{const{length:a}=n,u=new Array(a);let p=a,m=a;for(let w=0;w<a;w++)as(t,()=>{const b=(0,Jn.D)(n[w],t);let O=!1;b.subscribe((0,In.x)(s,M=>{u[w]=M,O||(O=!0,m--),m||s.next(e(u.slice()))},()=>{--p||s.complete()}))},s)},s)}}(s,t,a?p=>function go(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}(a,p):Er.y));return e?u.pipe(function ld(n){return(0,Ft.U)(t=>function Pl(n,t){return Ku(t)?n(...t):n(t)}(n,t))}(e)):u}function as(n,t,e){n?(0,Mi.f)(e,n,t):t()}var Zo=N(576);function hi(n,t){const e=(0,Zo.m)(n)?n:()=>n,s=a=>a.error(e());return new Or.y(t?a=>t.schedule(s,0,a):s)}const ls=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var fi=N(8189);function qu(...n){return function Ol(){return(0,fi.J)(1)}()((0,Jn.D)(n,(0,Cn.yG)(n)))}var _o=N(8421);function Yr(n){return new Or.y(t=>{(0,_o.Xf)(n()).subscribe(t)})}var yo=N(515),Yo=N(727),Xn=N(4482);function Qr(){return(0,Xn.e)((n,t)=>{let e=null;n._refCount++;const s=(0,In.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class ud extends Or.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Yo.w0;const e=this.getSubject();t.add(this.source.subscribe((0,In.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Yo.w0.EMPTY)}return t}refCount(){return Qr()(this)}}function fn(n,t){return(0,Xn.e)((e,s)=>{let a=null,u=0,p=!1;const m=()=>p&&!a&&s.complete();e.subscribe((0,In.x)(s,w=>{null==a||a.unsubscribe();let b=0;const O=u++;(0,_o.Xf)(n(w,O)).subscribe(a=(0,In.x)(s,M=>s.next(t?t(w,M,O,b++):M),()=>{a=null,m()}))},()=>{p=!0,m()}))})}var vo=N(5698);function Eo(n,t,e,s,a){return(u,p)=>{let m=e,w=t,b=0;u.subscribe((0,In.x)(p,O=>{const M=b++;w=m?n(w,O,M):(m=!0,O),s&&p.next(w)},a&&(()=>{m&&p.next(w),p.complete()})))}}function ar(n,t){return(0,Xn.e)(Eo(n,t,arguments.length>=2,!0))}function js(n,t){return(0,Xn.e)((e,s)=>{let a=0;e.subscribe((0,In.x)(s,u=>n.call(t,u,a++)&&s.next(u)))})}function pi(n){return(0,Xn.e)((t,e)=>{let u,s=null,a=!1;s=t.subscribe((0,In.x)(e,void 0,void 0,p=>{u=(0,_o.Xf)(n(p,pi(n)(t))),s?(s.unsubscribe(),s=null,u.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,u.subscribe(e))})}var pn=N(5577);function cs(n,t){return(0,Zo.m)(t)?(0,pn.z)(n,t,1):(0,pn.z)(n,1)}function Zu(n){return n<=0?()=>yo.E:(0,Xn.e)((t,e)=>{let s=[];t.subscribe((0,In.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function gn(n=lf){return(0,Xn.e)((t,e)=>{let s=!1;t.subscribe((0,In.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function lf(){return new ls}function uf(n){return(0,Xn.e)((t,e)=>{let s=!1;t.subscribe((0,In.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function ds(n,t){const e=arguments.length>=2;return s=>s.pipe(n?js((a,u)=>n(a,u,s)):Er.y,(0,vo.q)(1),e?uf(t):gn(()=>new ls))}var wr=N(8505);class hs{constructor(t,e){this.id=t,this.url=e}}class Oi extends hs{constructor(t,e,s="imperative",a=null){super(t,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ua extends hs{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends hs{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nl extends hs{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends hs{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hf extends hs{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xl extends hs{constructor(t,e,s,a,u){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class er extends hs{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends hs{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ni{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ll{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class Ul{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function On(n){return new Ul(n)}const Bl="ngNavigationCancelingError";function fs(n){const t=Error("NavigationCancelingError: "+n);return t[Bl]=!0,t}function Hs(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let u=0;u<s.length;u++){const p=s[u],m=n[u];if(p.startsWith(":"))a[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function mi(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!Va(n[a],t[a]))return!1;return!0}function Va(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,u)=>s[u]===a)}return n===t}function _i(n){return Array.prototype.concat.apply([],n)}function Qu(n){return n.length>0?n[n.length-1]:null}function Nn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function kr(n){return(0,y.CqO)(n)?n:(0,y.QGY)(n)?(0,Jn.D)(Promise.resolve(n)):ot(n)}const $s={exact:function D(n,t,e){if(!_t(n.segments,t.segments)||!ee(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!D(n.children[s],t.children[s],e))return!1;return!0},subset:L},Co={exact:function I(n,t){return mi(n,t)},subset:function R(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Va(n[e],t[e]))},ignored:()=>!0};function ja(n,t,e){return $s[e.paths](n.root,t.root,e.matrixParams)&&Co[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function L(n,t,e){return q(n,t,t.segments,e)}function q(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!_t(a,e)||t.hasChildren()||!ee(a,e,s))}if(n.segments.length===e.length){if(!_t(n.segments,e)||!ee(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!L(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(_t(n.segments,a)&&ee(n.segments,a,s)&&n.children[vt])&&q(n.children[vt],t,u,s)}}function ee(n,t,e){return t.every((s,a)=>Co[e](n[a].parameters,s.parameters))}class be{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return Io.serialize(this)}}class Te{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nn(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ws(this)}}class He{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return Jo(this)}}function _t(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}class An{}class mn{parse(t){const e=new Xu(t);return new be(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${lr(t.root,!0)}`,s=function Wp(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Xr(e)}=${Xr(a)}`).join("&"):`${Xr(e)}=${Xr(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function zs(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Io=new mn;function Ws(n){return n.segments.map(t=>Jo(t)).join("/")}function lr(n,t){if(!n.hasChildren())return Ws(n);if(t){const e=n.children[vt]?lr(n.children[vt],!1):"",s=[];return Nn(n.children,(a,u)=>{u!==vt&&s.push(`${u}:${lr(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function ht(n,t){let e=[];return Nn(n.children,(s,a)=>{a===vt&&(e=e.concat(t(s,a)))}),Nn(n.children,(s,a)=>{a!==vt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===vt?[lr(n.children[vt],!1)]:[`${a}:${lr(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vt]?`${Ws(n)}/${e[0]}`:`${Ws(n)}/(${e.join("//")})`}}function Fr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xr(n){return Fr(n).replace(/%3B/gi,";")}function Ju(n){return Fr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jl(n){return decodeURIComponent(n)}function Hl(n){return jl(n.replace(/\+/g,"%20"))}function Jo(n){return`${Ju(n.path)}${function ff(n){return Object.keys(n).map(t=>`;${Ju(t)}=${Ju(n[t])}`).join("")}(n.parameters)}`}const zp=/^[^\/()?;=#]+/;function xi(n){const t=n.match(zp);return t?t[0]:""}const $l=/^[^=?&#]+/,Kp=/^[^&#]+/;class Xu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[vt]=new Te(t,e)),s}parseSegment(){const t=xi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new He(jl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xi(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=xi(this.remaining);a&&(s=a,this.capture(s))}t[jl(e)]=jl(s)}parseQueryParam(t){const e=function Gp(n){const t=n.match($l);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const p=function pf(n){const t=n.match(Kp);return t?t[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=Hl(e),u=Hl(s);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=xi(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=vt);const p=this.parseChildren();e[u]=1===Object.keys(p).length?p[vt]:new Te([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cd(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=cd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=dd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return dd(t,this._root).map(e=>e.value)}}function cd(n,t){if(n===t.value)return t;for(const e of t.children){const s=cd(n,e);if(s)return s}return null}function dd(n,t){if(n===t.value)return[t];for(const e of t.children){const s=dd(n,e);if(s.length)return s.unshift(t),s}return[]}class Gs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ks(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ec extends qp{constructor(t,e){super(t),this.snapshot=e,nc(this,t)}toString(){return this.snapshot.toString()}}function Xo(n,t){const e=function Zp(n,t){const p=new Ha([],{},{},"",{},vt,t,null,n.root,-1,{});return new hd("",new Gs(p,[]))}(n,t),s=new vr([new He("",{})]),a=new vr({}),u=new vr({}),p=new vr({}),m=new vr(""),w=new Do(s,a,p,m,u,vt,t,e.root);return w.snapshot=e.root,new ec(new Gs(w,[]),e)}class Do{constructor(t,e,s,a,u,p,m,w){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=u,this.outlet=p,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(t=>On(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(t=>On(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yp(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],u=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(u.component)break;s--}}return function tc(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Ha{constructor(t,e,s,a,u,p,m,w,b,O,M){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=u,this.outlet=p,this.component=m,this.routeConfig=w,this._urlSegment=b,this._lastPathIndex=O,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hd extends qp{constructor(t,e){super(e),this.url=t,nc(this,e)}toString(){return rc(this._root)}}function nc(n,t){t.value._routerState=n,t.children.forEach(e=>nc(n,e))}function rc(n){const t=n.children.length>0?` { ${n.children.map(rc).join(", ")} } `:"";return`${n.value}${t}`}function ic(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,mi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),mi(t.params,e.params)||n.params.next(e.params),function Ba(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!mi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),mi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fd(n,t){const e=mi(n.params,t.params)&&function ct(n,t){return _t(n,t)&&n.every((e,s)=>mi(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||fd(n.parent,t.parent))}function Wl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function pd(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Wl(n,s,a);return Wl(n,s)})}(n,t,e);return new Gs(s,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const p=u.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(m=>Wl(n,m)),p}}const s=function Jp(n){return new Do(new vr(n.url),new vr(n.params),new vr(n.queryParams),new vr(n.fragment),new vr(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>Wl(n,u));return new Gs(s,a)}}function bo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $a(n){return"object"==typeof n&&null!=n&&n.outlets}function gf(n,t,e,s,a){let u={};if(s&&Nn(s,(m,w)=>{u[w]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),n===t)return new be(e,u,a);const p=gd(n,t,e);return new be(p,u,a)}function gd(n,t,e){const s={};return Nn(n.children,(a,u)=>{s[u]=a===t?e:gd(a,t,e)}),new Te(n.segments,s)}class Xp{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&bo(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find($a);if(a&&a!==Qu(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class md{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function rg(n,t,e){if(n||(n=new Te([],{})),0===n.segments.length&&n.hasChildren())return gs(n,t,e);const s=function uy(n,t,e){let s=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return u;const p=n.segments[a],m=e[s];if($a(m))break;const w=`${m}`,b=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&b&&"object"==typeof b&&void 0===b.outlets){if(!ei(w,b,p))return u;s+=2}else{if(!ei(w,{},p))return u;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const u=new Te(n.segments.slice(0,s.pathIndex),{});return u.children[vt]=new Te(n.segments.slice(s.pathIndex),n.children),gs(u,0,a)}return s.match&&0===a.length?new Te(n.segments,{}):s.match&&!n.hasChildren()?_d(n,t,e):s.match?gs(n,0,a):_d(n,t,e)}function gs(n,t,e){if(0===e.length)return new Te(n.segments,{});{const s=function ng(n){return $a(n[0])?n[0].outlets:{[vt]:n}}(e),a={};return Nn(s,(u,p)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[p]=rg(n.children[p],t,u))}),Nn(n.children,(u,p)=>{void 0===s[p]&&(a[p]=u)}),new Te(n.segments,a)}}function _d(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if($a(u)){const w=Wa(u.outlets);return new Te(s,w)}if(0===a&&bo(e[0])){s.push(new He(n.segments[t].path,yd(e[0]))),a++;continue}const p=$a(u)?u.outlets[vt]:`${u}`,m=a<e.length-1?e[a+1]:null;p&&m&&bo(m)?(s.push(new He(p,yd(m))),a+=2):(s.push(new He(p,{})),a++)}return new Te(s,{})}function Wa(n){const t={};return Nn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=_d(new Te([],{}),0,e))}),t}function yd(n){const t={};return Nn(n,(e,s)=>t[s]=`${e}`),t}function ei(n,t,e){return n==e.path&&mi(t,e.parameters)}class _f{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),ic(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Ks(e);t.children.forEach(u=>{const p=u.value.outlet;this.deactivateRoutes(u,a[p],s),delete a[p]}),Nn(a,(u,p)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(t,e,s){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,s);else u&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,u=Ks(t);for(const p of Object.keys(u))this.deactivateRouteAndItsChildren(u[p],a);if(s&&s.outlet){const p=s.outlet.detach(),m=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,u=Ks(t);for(const p of Object.keys(u))this.deactivateRouteAndItsChildren(u[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Ks(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],s),this.forwardEvent(new Fl(u.value.snapshot))}),t.children.length&&this.forwardEvent(new gi(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,u=e?e.value:null;if(ic(a),a===u)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),ic(m.route.value),this.activateChildRoutes(t,null,p.children)}else{const m=function sc(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=m?m.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=w,p.outlet&&p.outlet.activateWith(a,w),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,s)}}class oc{constructor(t,e){this.routes=t,this.module=e}}function ea(n){return"function"==typeof n}function za(n){return n instanceof be}const Gl=Symbol("INITIAL_VALUE");function To(){return fn(n=>mo(n.map(t=>t.pipe((0,vo.q)(1),function us(...n){const t=(0,Cn.yG)(n);return(0,Xn.e)((e,s)=>{(t?qu(n,e,t):qu(n,e)).subscribe(s)})}(Gl)))).pipe(ar((t,e)=>{let s=!1;return e.reduce((a,u,p)=>a!==Gl?a:(u===Gl&&(s=!0),s||!1!==u&&p!==e.length-1&&!za(u)?a:u),t)},Gl),js(t=>t!==Gl),(0,Ft.U)(t=>za(t)?t:!0===t),(0,vo.q)(1)))}class ig{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kl,this.attachRef=null}}class Kl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ig,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ac=(()=>{class n{constructor(e,s,a,u,p){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=u||vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new Cd(e,m,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(y.Y36(Kl),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},n.\u0275dir=y.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Cd{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Do?this.route:t===Kl?this.childContexts:this.parent.get(t,e)}}let Id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&y._UZ(0,"router-outlet")},directives:[ac],encapsulation:2}),n})();function ql(n,t=""){for(let e=0;e<n.length;e++){const s=n[e];lc(s,Dd(t,s))}}function lc(n,t){n.children&&ql(n.children,t)}function Dd(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function bd(n){const t=n.children&&n.children.map(bd),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==vt&&(e.component=Id),e}function $t(n){return n.outlet||vt}function Td(n,t){const e=n.filter(s=>$t(s)===t);return e.push(...n.filter(s=>$t(s)!==t)),e}const vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ga(n,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},vf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const u=(t.matcher||Hs)(e,n,t);if(!u)return Object.assign({},vf);const p={};Nn(u.posParams,(w,b)=>{p[b]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},p),u.consumed[u.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:u.consumed,remainingSegments:e.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function Zl(n,t,e,s,a="corrected"){if(e.length>0&&function og(n,t,e){return e.some(s=>cc(n,t,s)&&$t(s)!==vt)}(n,e,s)){const p=new Te(t,function uc(n,t,e,s){const a={};a[vt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&$t(u)!==vt){const p=new Te([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[$t(u)]=p}return a}(n,t,s,new Te(e,n.children)));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function Ef(n,t,e){return e.some(s=>cc(n,t,s))}(n,e,s)){const p=new Te(n.segments,function sg(n,t,e,s,a,u){const p={};for(const m of s)if(cc(n,e,m)&&!a[$t(m)]){const w=new Te([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:t.length,p[$t(m)]=w}return Object.assign(Object.assign({},a),p)}(n,t,e,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const u=new Te(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function cc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ag(n,t,e,s){return!!($t(n)===s||s!==vt&&cc(t,e,n))&&("**"===n.path||Ga(t,n,e).matched)}function lg(n,t,e){return 0===t.length&&!n.children[e]}class So{constructor(t){this.segmentGroup=t||null}}class tr{constructor(t){this.urlTree=t}}function qs(n){return hi(new So(n))}function Yl(n){return hi(new tr(n))}class Ad{constructor(t,e,s,a,u){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(y.h0i)}apply(){const t=Zl(this.urlTree.root,[],[],this.config).segmentGroup,e=new Te(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vt).pipe((0,Ft.U)(u=>this.createUrlTree(na(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pi(u=>{if(u instanceof tr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof So?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vt).pipe((0,Ft.U)(a=>this.createUrlTree(na(a),t.queryParams,t.fragment))).pipe(pi(a=>{throw a instanceof So?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const a=t.segments.length>0?new Te([],{[vt]:t}):t;return new be(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,Ft.U)(u=>new Te([],u))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const u of Object.keys(s.children))"primary"===u?a.unshift(u):a.push(u);return(0,Jn.D)(a).pipe(cs(u=>{const p=s.children[u],m=Td(e,u);return this.expandSegmentGroup(t,m,p,u).pipe((0,Ft.U)(w=>({segment:w,outlet:u})))}),ar((u,p)=>(u[p.outlet]=p.segment,u),{}),function cf(n,t){const e=arguments.length>=2;return s=>s.pipe(n?js((a,u)=>n(a,u,s)):Er.y,Zu(1),e?uf(t):gn(()=>new ls))}())}expandSegment(t,e,s,a,u,p){return(0,Jn.D)(s).pipe(cs(m=>this.expandSegmentAgainstRoute(t,e,s,m,a,u,p).pipe(pi(b=>{if(b instanceof So)return ot(null);throw b}))),ds(m=>!!m),pi((m,w)=>{if(m instanceof ls||"EmptyError"===m.name)return lg(e,a,u)?ot(new Te([],{})):qs(e);throw m}))}expandSegmentAgainstRoute(t,e,s,a,u,p,m){return ag(a,e,u,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,u,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,u,p):qs(e):qs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,u,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,u,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Yl(u):this.lineralizeSegments(s,u).pipe((0,pn.z)(p=>{const m=new Te(p,{});return this.expandSegment(t,m,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,u,p){const{matched:m,consumedSegments:w,remainingSegments:b,positionalParamSegments:O}=Ga(e,a,u);if(!m)return qs(e);const M=this.applyRedirectCommands(w,a.redirectTo,O);return a.redirectTo.startsWith("/")?Yl(M):this.lineralizeSegments(a,M).pipe((0,pn.z)($=>this.expandSegment(t,e,s,$.concat(b),p,!1)))}matchSegmentAgainstRoute(t,e,s,a,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?ot(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,Ft.U)(M=>(s._loadedConfig=M,new Te(a,{})))):ot(new Te(a,{}));const{matched:p,consumedSegments:m,remainingSegments:w}=Ga(e,s,a);return p?this.getChildConfig(t,s,a).pipe((0,pn.z)(O=>{const M=O.module,$=O.routes,{segmentGroup:X,slicedSegments:de}=Zl(e,m,w,$),Me=new Te(X.segments,X.children);if(0===de.length&&Me.hasChildren())return this.expandChildren(M,$,Me).pipe((0,Ft.U)(sn=>new Te(m,sn)));if(0===$.length&&0===de.length)return ot(new Te(m,{}));const Ke=$t(s)===u;return this.expandSegment(M,Me,$,de,Ke?vt:u,!0).pipe((0,Ft.U)(wt=>new Te(m.concat(wt.segments),wt.children)))})):qs(e)}getChildConfig(t,e,s){return e.children?ot(new oc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ot(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,pn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,Ft.U)(u=>(e._loadedConfig=u,u))):function ur(n){return hi(fs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ot(new oc([],t))}runCanLoadGuards(t,e,s){const a=e.canLoad;return a&&0!==a.length?ot(a.map(p=>{const m=t.get(p);let w;if(function vd(n){return n&&ea(n.canLoad)}(m))w=m.canLoad(e,s);else{if(!ea(m))throw new Error("Invalid CanLoad guard");w=m(e,s)}return kr(w)})).pipe(To(),(0,wr.b)(p=>{if(!za(p))return;const m=fs(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw m.url=p,m}),(0,Ft.U)(p=>!0===p)):ot(!0)}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return ot(s);if(a.numberOfChildren>1||!a.children[vt])return hi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[vt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,a){const u=this.createSegmentGroup(t,e.root,s,a);return new be(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Nn(t,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);s[u]=e[m]}else s[u]=a}),s}createSegmentGroup(t,e,s,a){const u=this.createSegments(t,e.segments,s,a);let p={};return Nn(e.children,(m,w)=>{p[w]=this.createSegmentGroup(t,m,s,a)}),new Te(u,p)}createSegments(t,e,s,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}function na(n){const t={};for(const s of Object.keys(n.children)){const u=na(n.children[s]);(u.segments.length>0||u.hasChildren())&&(t[s]=u)}return function ti(n){if(1===n.numberOfChildren&&n.children[vt]){const t=n.children[vt];return new Te(n.segments.concat(t.segments),t.children)}return n}(new Te(n.segments,t))}class wf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ra{constructor(t,e){this.component=t,this.route=e}}function Pd(n,t,e){const s=n._root;return Lr(s,t?t._root:null,e,[s.value])}function Ql(n,t,e){const s=function ug(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(n)}function Lr(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ks(t);return n.children.forEach(p=>{(function If(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,p=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(p&&u.routeConfig===p.routeConfig){const w=function cg(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_t(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_t(n.url,t.url)||!mi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fd(n,t)||!mi(n.queryParams,t.queryParams);default:return!fd(n,t)}}(p,u,u.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new wf(s)):(u.data=p.data,u._resolvedData=p._resolvedData),Lr(n,t,u.component?m?m.children:null:e,s,a),w&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new ra(m.outlet.component,p))}else p&&ia(t,m,a),a.canActivateChecks.push(new wf(s)),Lr(n,null,u.component?m?m.children:null:e,s,a)})(p,u[p.value.outlet],e,s.concat([p.value]),a),delete u[p.value.outlet]}),Nn(u,(p,m)=>ia(p,e.getContext(m),a)),a}function ia(n,t,e){const s=Ks(n),a=n.value;Nn(s,(u,p)=>{ia(u,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new ra(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class Nd{}function xd(n){return new Or.y(t=>t.error(n))}class kd{constructor(t,e,s,a,u,p){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=p}recognize(){const t=Zl(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vt);if(null===e)return null;const s=new Ha([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Gs(s,e),u=new hd(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,s=Yp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const u of Object.keys(e.children)){const p=e.children[u],m=Td(t,u),w=this.processSegmentGroup(m,p,u);if(null===w)return null;s.push(...w)}const a=bf(s);return function pg(n){n.sort((t,e)=>t.value.outlet===vt?-1:e.value.outlet===vt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,s,a){for(const u of t){const p=this.processSegmentAgainstRoute(u,e,s,a);if(null!==p)return p}return lg(e,s,a)?[]:null}processSegmentAgainstRoute(t,e,s,a){if(t.redirectTo||!ag(t,e,s,a))return null;let u,p=[],m=[];if("**"===t.path){const X=s.length>0?Qu(s).parameters:{};u=new Ha(s,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(t),$t(t),t.component,t,d(e),f(e)+s.length,T(t))}else{const X=Ga(e,t,s);if(!X.matched)return null;p=X.consumedSegments,m=X.remainingSegments,u=new Ha(p,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(t),$t(t),t.component,t,d(e),f(e)+p.length,T(t))}const w=function gg(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:O}=Zl(e,p,m,w.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===O.length&&b.hasChildren()){const X=this.processChildren(w,b);return null===X?null:[new Gs(u,X)]}if(0===w.length&&0===O.length)return[new Gs(u,[])];const M=$t(t)===a,$=this.processSegment(w,b,O,M?vt:a);return null===$?null:[new Gs(u,$)]}}function mg(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bf(n){const t=[],e=new Set;for(const s of n){if(!mg(s)){t.push(s);continue}const a=t.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=bf(s.children);t.push(new Gs(s.value,a))}return t.filter(s=>!e.has(s))}function d(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function f(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function v(n){return n.data||{}}function T(n){return n.resolve||{}}function $e(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ye(n){return fn(t=>{const e=n(t);return e?(0,Jn.D)(e).pipe((0,Ft.U)(()=>t)):ot(t)})}class Xl extends class vi{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ka=new y.OlP("ROUTES");class qa{constructor(t,e,s,a){this.injector=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Ft.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=u.create(t);return new oc(_i(p.injector.get(Ka,void 0,y.XFs.Self|y.XFs.Optional)).map(bd),p)}),pi(u=>{throw e._loader$=void 0,u}));return e._loader$=new ud(a,()=>new $n.x).pipe(Qr()),e._loader$}loadModuleFactory(t){return kr(t()).pipe((0,pn.z)(e=>e instanceof y.YKP?ot(e):(0,Jn.D)(this.compiler.compileModuleAsync(e))))}}class _g{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ao(n){throw n}function dc(n,t,e){return t.parse("/")}function hc(n,t){return ot(null)}const Ld={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{constructor(e,s,a,u,p,m,w){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $n.x,this.errorHandler=Ao,this.malformedUriErrorHandler=dc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hc,afterPreactivation:hc},this.urlHandlingStrategy=new _g,this.routeReuseStrategy=new Xl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(y.h0i),this.console=p.get(y.c2e);const M=p.get(y.R0b);this.isNgZoneEnabled=M instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function Vl(){return new be(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qa(p,m,$=>this.triggerEvent(new kl($)),$=>this.triggerEvent(new Ni($))),this.routerState=Xo(this.currentUrlTree,this.rootComponentType),this.transitions=new vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(js(a=>0!==a.id),(0,Ft.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),fn(a=>{let u=!1,p=!1;return ot(a).pipe((0,wr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fn(m=>{const w=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Tf(m.source)&&(this.browserUrlTree=m.extractedUrl),ot(m).pipe(fn(M=>{const $=this.transitions.getValue();return s.next(new Oi(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),$!==this.transitions.getValue()?yo.E:Promise.resolve(M)}),function Rd(n,t,e,s){return fn(a=>function ta(n,t,e,s,a){return new Ad(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,Ft.U)(u=>Object.assign(Object.assign({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function P(n,t,e,s,a){return(0,pn.z)(u=>function fg(n,t,e,s,a="emptyOnly",u="legacy"){try{const p=new kd(n,t,e,s,a,u).recognize();return null===p?xd(new Nd):ot(p)}catch(p){return xd(p)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),s,a).pipe((0,Ft.U)(p=>Object.assign(Object.assign({},u),{targetSnapshot:p}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(X,M)}this.browserUrlTree=M.urlAfterRedirects}const $=new wo(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);s.next($)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:X,source:de,restoredState:Me,extras:Ke}=m,xt=new Oi($,this.serializeUrl(X),de,Me);s.next(xt);const wt=Xo(X,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},m),{targetSnapshot:wt,urlAfterRedirects:X,extras:Object.assign(Object.assign({},Ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),yo.E}),Ye(m=>{const{targetSnapshot:w,id:b,extractedUrl:O,rawUrl:M,extras:{skipLocationChange:$,replaceUrl:X}}=m;return this.hooks.beforePreactivation(w,{navigationId:b,appliedUrlTree:O,rawUrlTree:M,skipLocationChange:!!$,replaceUrl:!!X})}),(0,wr.b)(m=>{const w=new hf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,Ft.U)(m=>Object.assign(Object.assign({},m),{guards:Pd(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function dg(n,t){return(0,pn.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:p}}=e;return 0===p.length&&0===u.length?ot(Object.assign(Object.assign({},e),{guardsResult:!0})):function Df(n,t,e,s){return(0,Jn.D)(n).pipe((0,pn.z)(a=>function Jl(n,t,e,s,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?ot(u.map(m=>{const w=Ql(m,t,a);let b;if(function cy(n){return n&&ea(n.canDeactivate)}(w))b=kr(w.canDeactivate(n,t,e,s));else{if(!ea(w))throw new Error("Invalid CanDeactivate guard");b=kr(w(n,t,e,s))}return b.pipe(ds())})).pipe(To()):ot(!0)}(a.component,a.route,e,t,s)),ds(a=>!0!==a,!0))}(p,s,a,n).pipe((0,pn.z)(m=>m&&function yf(n){return"boolean"==typeof n}(m)?function nr(n,t,e,s){return(0,Jn.D)(t).pipe(cs(a=>qu(function Od(n,t){return null!==n&&t&&t(new Jr(n)),ot(!0)}(a.route.parent,s),function Md(n,t){return null!==n&&t&&t(new Qo(n)),ot(!0)}(a.route,s),function Zs(n,t,e){const s=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(p=>function Cf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Yr(()=>ot(p.guards.map(w=>{const b=Ql(w,p.node,e);let O;if(function wd(n){return n&&ea(n.canActivateChild)}(b))O=kr(b.canActivateChild(s,n));else{if(!ea(b))throw new Error("Invalid CanActivateChild guard");O=kr(b(s,n))}return O.pipe(ds())})).pipe(To())));return ot(u).pipe(To())}(n,a.path,e),function hg(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return ot(!0);const a=s.map(u=>Yr(()=>{const p=Ql(u,t,e);let m;if(function Ed(n){return n&&ea(n.canActivate)}(p))m=kr(p.canActivate(t,n));else{if(!ea(p))throw new Error("Invalid CanActivate guard");m=kr(p(t,n))}return m.pipe(ds())}));return ot(a).pipe(To())}(n,a.route,e))),ds(a=>!0!==a,!0))}(s,u,n,t):ot(m)),(0,Ft.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,wr.b)(m=>{if(za(m.guardsResult)){const b=fs(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const w=new xl(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),js(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Ye(m=>{if(m.guards.canActivateChecks.length)return ot(m).pipe((0,wr.b)(w=>{const b=new er(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}),fn(w=>{let b=!1;return ot(w).pipe(function z(n,t){return(0,pn.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return ot(e);let u=0;return(0,Jn.D)(a).pipe(cs(p=>function se(n,t,e,s){return function xe(n,t,e,s){const a=$e(n);if(0===a.length)return ot({});const u={};return(0,Jn.D)(a).pipe((0,pn.z)(p=>function st(n,t,e,s){const a=Ql(n,t,s);return kr(a.resolve?a.resolve(t,e):a(t,e))}(n[p],t,e,s).pipe((0,wr.b)(m=>{u[p]=m}))),Zu(1),(0,pn.z)(()=>$e(u).length===a.length?ot(u):yo.E))}(n._resolve,n,t,s).pipe((0,Ft.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Yp(n,e).resolve),null)))}(p.route,s,n,t)),(0,wr.b)(()=>u++),Zu(1),(0,pn.z)(p=>u===a.length?ot(e):yo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,wr.b)(w=>{const b=new xr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}))}),Ye(m=>{const{targetSnapshot:w,id:b,extractedUrl:O,rawUrl:M,extras:{skipLocationChange:$,replaceUrl:X}}=m;return this.hooks.afterPreactivation(w,{navigationId:b,appliedUrlTree:O,rawUrlTree:M,skipLocationChange:!!$,replaceUrl:!!X})}),(0,Ft.U)(m=>{const w=function Qp(n,t,e){const s=Wl(n,t._root,e?e._root:void 0);return new ec(s,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,wr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,Ft.U)(s=>(new _f(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,wr.b)({next(){u=!0},complete(){u=!0}}),function df(n){return(0,Xn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var m;u||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),pi(m=>{if(p=!0,function Yu(n){return n&&n[Bl]}(m)){const w=za(m.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const b=new ln(a.id,this.serializeUrl(a.extractedUrl),m.message);s.next(b),w?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tf(a.source)};this.scheduleNavigation(O,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Nl(a.id,this.serializeUrl(a.extractedUrl),m);s.next(w);try{a.resolve(this.errorHandler(m))}catch(b){a.reject(b)}}return yo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var a;const u={replaceUrl:!0},p=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(p){const w=Object.assign({},p);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,s,p,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ql(e),this.config=e.map(bd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:u,fragment:p,queryParamsHandling:m,preserveFragment:w}=s,b=a||this.routerState.root,O=w?this.currentUrlTree.fragment:p;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function ps(n,t,e,s,a){if(0===e.length)return gf(t.root,t.root,t.root,s,a);const u=function eg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xp(!0,0,n);let t=0,e=!1;const s=n.reduce((a,u,p)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Nn(u.outlets,(w,b)=>{m[b]="string"==typeof w?w.split("/"):w}),[...a,{outlets:m}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===p?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?e=!0:".."===m?t++:""!=m&&a.push(m))}),a):[...a,u]},[]);return new Xp(e,t,s)}(e);if(u.toRoot())return gf(t.root,t.root,new Te([],{}),s,a);const p=function mf(n,t,e){if(n.isAbsolute)return new md(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new md(u,u===t.root,0)}const s=bo(n.commands[0])?0:1;return function tg(n,t,e){let s=n,a=t,u=e;for(;u>a;){if(u-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new md(s,!1,a-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(u,t,n),m=p.processChildren?gs(p.segmentGroup,p.index,u.commands):rg(p.segmentGroup,p.index,u.commands);return gf(t.root,p.segmentGroup,m,s,a)}(b,this.currentUrlTree,e,M,null!=O?O:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=za(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function Ud(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},Ld):!1===s?Object.assign({},fc):s,za(e))return ja(this.currentUrlTree,e,a);const u=this.parseUrl(e);return ja(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const u=e[a];return null!=u&&(s[a]=u),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ua(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,u,p){var m,w;if(this.disposed)return Promise.resolve(!1);let b,O,M;p?(b=p.resolve,O=p.reject,M=p.promise):M=new Promise((de,Me)=>{b=de,O=Me});const $=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),X=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):X=0,this.setTransition({id:$,targetPageId:X,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:b,reject:O,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(de=>Promise.reject(de))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,s=!1){var a,u;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new ln(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function Tf(n){return"imperative"!==n}class wg{}class hy{preload(t,e){return ot(null)}}let fy=(()=>{class n{constructor(e,s,a,u){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=new qa(a,s,w=>e.triggerEvent(new kl(w)),w=>e.triggerEvent(new Ni(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(js(e=>e instanceof Ua),cs(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(y.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const p=u._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(e,u)):u.children&&a.push(this.processRoutes(e,u.children));return(0,Jn.D)(a).pipe((0,fi.J)(),(0,Ft.U)(u=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?ot(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,pn.z)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ni),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(wg))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Sf=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ua&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Ll(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ki=new y.OlP("ROUTER_CONFIGURATION"),Ig=new y.OlP("ROUTER_FORROOT_GUARD"),py=[me,{provide:An,useClass:mn},{provide:ni,useFactory:function bg(n,t,e,s,a,u,p={},m,w){const b=new ni(null,n,t,e,s,a,_i(u));return m&&(b.urlHandlingStrategy=m),w&&(b.routeReuseStrategy=w),function _y(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(p,b),p.enableTracing&&b.events.subscribe(O=>{var M,$;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===($=console.groupEnd)||void 0===$||$.call(console)}),b},deps:[An,Kl,me,y.zs3,y.Sil,Ka,ki,[class Fd{},new y.FiY],[class _n{},new y.FiY]]},Kl,{provide:Do,useFactory:function Af(n){return n.routerState.root},deps:[ni]},fy,hy,class Cg{preload(t,e){return e().pipe(pi(()=>ot(null)))}},{provide:ki,useValue:{enableTracing:!1}}];function k0(){return new y.PXZ("Router",ni)}let Bd=(()=>{class n{constructor(e,s){}static forRoot(e,s){return{ngModule:n,providers:[py,Dg(e),{provide:Ig,useFactory:my,deps:[[ni,new y.FiY,new y.tp0]]},{provide:ki,useValue:s||{}},{provide:he,useFactory:gy,deps:[ce,[new y.tBr(We),new y.FiY],ki]},{provide:Sf,useFactory:F0,deps:[ni,ba,ki]},{provide:wg,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:hy},{provide:y.PXZ,multi:!0,useFactory:k0},[gc,{provide:y.ip1,multi:!0,useFactory:yy,deps:[gc]},{provide:Sg,useFactory:Tg,deps:[gc]},{provide:y.tb,multi:!0,useExisting:Sg}]]}}static forChild(e){return{ngModule:n,providers:[Dg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(Ig,8),y.LFG(ni,8))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();function F0(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Sf(n,t,e)}function gy(n,t,e={}){return e.useHash?new Ce(n,t):new Be(n,t)}function my(n){return"guarded"}function Dg(n){return[{provide:y.deG,multi:!0,useValue:n},{provide:Ka,multi:!0,useValue:n}]}let gc=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $n.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(m=>s=m),u=this.injector.get(ni),p=this.injector.get(ki);return"disabled"===p.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(ki),a=this.injector.get(fy),u=this.injector.get(Sf),p=this.injector.get(ni),m=this.injector.get(y.z2F);e===m.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),u.init(),p.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(y.zs3))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function yy(n){return n.appInitializer.bind(n)}function Tg(n){return n.bootstrapListener.bind(n)}const Sg=new y.OlP("Router Initializer"),L0=[];let vy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[[Bd.forRoot(L0)],Bd]}),n})(),U0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-homepage"]],decls:2,vars:0,template:function(e,s){1&e&&(y.TgZ(0,"p"),y._uU(1,"homepage works!"),y.qZA())},styles:[""]}),n})(),B0=(()=>{class n{constructor(){this.title="hadinayebi"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&y._UZ(0,"app-homepage")},directives:[U0],styles:[""]}),n})();var ms=N(2011),Rg=N(4986),Pf=N(6451),V0=N(3099);function j0(n,t){return n===t}var wy=N(5032),Rn=N(5813),Cy=(N(820),N(3942)),eu=N(4859),tu=N(5861),nu=N(9681),F=N(2090),Vd=N(1877);const Iy="@firebase/database";let Pg="";function gt(n){Pg=n}class W0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class by{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Mg=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new W0(t)}}catch(t){}return new by},Ro=Mg("localStorage"),Fi=Mg("sessionStorage"),ru=new Vd.Yd("@firebase/database"),Ty=function(){let n=1;return function(){return n++}}(),Mf=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const s=e.digest();return F.US.encodeByteArray(s)},Li=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Li.apply(null,s):t+="object"==typeof s?(0,F.Pz)(s):s,t+=" "}return t};let sa=null,Og=!0;const Of=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ru.logLevel=Vd.in.VERBOSE,sa=ru.log.bind(ru),t&&Fi.set("logging_enabled",!0)):"function"==typeof n?sa=n:(sa=null,Fi.remove("logging_enabled"))},Cr=function(...n){if(!0===Og&&(Og=!1,null===sa&&!0===Fi.get("logging_enabled")&&Of(!0)),sa){const t=Li.apply(null,n);sa(t)}},mc=function(n){return function(...t){Cr(n,...t)}},Sy=function(...n){const t="FIREBASE INTERNAL ERROR: "+Li(...n);ru.error(t)},Ui=function(...n){const t=`FIREBASE FATAL ERROR: ${Li(...n)}`;throw ru.error(t),new Error(t)},cr=function(...n){const t="FIREBASE WARNING: "+Li(...n);ru.warn(t)},_c=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Za="[MIN_NAME]",Po="[MAX_NAME]",iu=function(n,t){if(n===t)return 0;if(n===Za||t===Po)return-1;if(t===Za||n===Po)return 1;{const e=Fg(n),s=Fg(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},z0=function(n,t){return n===t?0:n<t?-1:1},jd=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},Nf=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,F.Pz)(t[s]),e+=":",e+=Nf(n[t[s]]);return e+="}",e},G0=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function dr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const K0=function(n){(0,F.hu)(!_c(n),"Invalid JSON number");const s=1023;let a,u,p,m,w;0===n?(u=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=m+s,p=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(u=0,p=Math.round(n/Math.pow(2,-1074))));const b=[];for(w=52;w;w-=1)b.push(p%2?1:0),p=Math.floor(p/2);for(w=11;w;w-=1)b.push(u%2?1:0),u=Math.floor(u/2);b.push(a?1:0),b.reverse();const O=b.join("");let M="";for(w=0;w<64;w+=8){let $=parseInt(O.substr(w,8),2).toString(16);1===$.length&&($="0"+$),M+=$}return M.toLowerCase()},kg=new RegExp("^-?(0*)\\d{1,10}$"),Z0=-2147483648,Py=2147483647,Fg=function(n){if(kg.test(n)){const t=Number(n);if(t>=Z0&&t<=Py)return t}return null},Hd=function(n){try{n()}catch(t){setTimeout(()=>{throw cr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},xf=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class oD{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aD{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(t)}}let kf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Lf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aa="websocket",Hg="long_polling";class $g{constructor(t,e,s,a,u=!1,p="",m=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=p,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ro.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ro.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Oy(n,t,e){let s;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===aa)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hg)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return dr(e,(u,p)=>{a.push(u+"="+p)}),s+a.join("&")}class Ny{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const zg={},Gg={};function su(n){const t=n.toString();return zg[t]||(zg[t]=new Ny),zg[t]}class Kg{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Hd(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ec{constructor(t,e,s,a,u,p,m){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.transportSessionId=p,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mc(t),this.stats_=su(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Oy(e,Hg,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jg((...u)=>{const[p,m,w,b,O]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=m,this.password=w;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[p,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(p,m)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Lf.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ec.forceAllow_=!0}static forceDisallow(){Ec.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Ec.forceAllow_&&(Ec.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),a=G0(s,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Jg{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ty(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Jg.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(m){Cr("frame writing exception"),m.stack&&Cr(m.stack),Cr(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Cr("No IE domain setting required")}catch(e){const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const p=this.pendingSegs.shift();s=s+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Cr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let Wd=null;"undefined"!=typeof MozWebSocket?Wd=MozWebSocket:"undefined"!=typeof WebSocket&&(Wd=WebSocket);let Vf=(()=>{class n{constructor(e,s,a,u,p,m,w){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mc(this.connId),this.stats_=su(s),this.connURL=n.connectionURL_(s,m,w,u),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,u){const p={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Lf.test(location.hostname)&&(p.r="f"),s&&(p.s=s),a&&(p.ls=a),u&&(p.ac=u),Oy(e,aa,p)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ro.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${Pg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,m=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;m&&(u.proxy={origin:m}),this.mySock=new Wd(this.connURL,[],u)}else this.mySock=new Wd(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Wd&&!n.forceDisallow_}static previouslyFailed(){return Ro.isInMemoryStorage||!0===Ro.get("previous_websocket_failure")}markConnectionHealthy(){Ro.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,F.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,F.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=G0(s,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Uy{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ec,Vf]}initTransports_(t){const e=Vf&&Vf.isAvailable();let s=e&&!Vf.previouslyFailed();if(t.webSocketOnly&&(e||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Vf];else{const a=this.transports_=[];for(const u of Uy.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class tm{constructor(t,e,s,a,u,p,m,w,b,O){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=p,this.onReady_=m,this.onDisconnect_=w,this.onKill_=b,this.lastSessionId=O,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mc("c:"+this.id+":"),this.transportManager_=new Uy(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=xf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=jd("t",t),s=jd("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=jd("t",t),s=jd("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=jd("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Sy("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sy("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),xf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ro.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ky{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Ys{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!s||s===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wc extends Ys{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wc}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class nn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new nn("")}function Pt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ya(n){return n.pieces_.length-n.pieceNum_}function an(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new nn(n.pieces_,t)}function zd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Gd(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Kd(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new nn(t,0)}function un(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof nn)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new nn(e,0)}function Mt(n){return n.pieceNum_>=n.pieces_.length}function Ir(n,t){const e=Pt(n),s=Pt(t);if(null===e)return t;if(e===s)return Ir(an(n),an(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function nm(n,t){const e=Gd(n,0),s=Gd(t,0);for(let a=0;a<e.length&&a<s.length;a++){const u=iu(e[a],s[a]);if(0!==u)return u}return e.length===s.length?0:e.length<s.length?-1:1}function Hf(n,t){if(Ya(n)!==Ya(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function _s(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ya(n)>Ya(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class iw{constructor(t,e){this.errorPrefix_=e,this.parts_=Gd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);Yy(this)}}function Yy(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qa(n))}function Qa(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $f extends Ys{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new $f}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Cc=1e3;let Ja,la=(()=>{class n extends Ky{constructor(e,s,a,u,p,m,w,b){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=p,this.authTokenProvider_=m,this.appCheckTokenProvider_=w,this.authOverride_=b,this.id=n.nextPersistentConnectionId_++,this.log_=mc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$f.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const u=++this.requestNumber_,p={r:u,a:e,b:s};this.log_((0,F.Pz)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const s=new F.BH,a={p:e._path.toString(),q:e._queryObject},u={action:"g",request:a,onComplete:m=>{const w=m.d;"ok"===m.s?(this.onDataUpdate_(a.p,w,!1,null),s.resolve(w)):s.reject(w)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[p];void 0===m||u!==m||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),s.promise}listen(e,s,a,u){this.initConnection_();const p=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+p),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(p),"listen() called twice for same path/queryId.");const w={onComplete:u,hashFn:s,query:e,tag:a};this.listens.get(m).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),u=s._queryIdentifier;this.log_("Listen on "+a+" for "+u);const p={p:a};e.tag&&(p.q=s._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,w=>{const b=w.d,O=w.s;n.warnOnListenWarnings_(b,s),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",w),"ok"!==O&&this.removeListen_(a,u),e.onComplete&&e.onComplete(O,b))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+s._queryParams.getIndex().toString()+'"',p=s._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,u=>{const p=u.s,m=u.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,s)}sendUnlisten_(e,s,a,u){this.log_("Unlisten on "+e+" for "+s);const p={p:e};u&&(p.q=a,p.t=u),this.sendRequest("n",p)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,u){const p={p:s,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,m=>{u&&setTimeout(()=>{u(m.s,m.d)},Math.floor(0))})}put(e,s,a,u){this.putInternal("p",e,s,a,u)}merge(e,s,a,u){this.putInternal("m",e,s,a,u)}putInternal(e,s,a,u,p){this.initConnection_();const m={p:s,d:a};void 0!==p&&(m.h=p),this.outstandingPuts_.push({action:e,request:m,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,p=>{this.log_(s+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(p.s,p.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Sy("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,tu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let w=!1,b=null;const O=function(){b?b.close():(w=!0,u())};e.realtime_={close:O,sendRequest:function(X){(0,F.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(X)}};const $=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[X,de]=yield Promise.all([e.authTokenProvider_.getToken($),e.appCheckTokenProvider_.getToken($)]);w?Cr("getToken() completed but was canceled"):(Cr("getToken() completed. Creating connection."),e.authToken_=X&&X.accessToken,e.appCheckToken_=de&&de.token,b=new tm(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,u,Me=>{cr(Me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(X){e.log_("Failed to get token: "+X),w||(e.repoInfo_.nodeAdmin&&cr(X),O())}}})()}interrupt(e){Cr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Cr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Cc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(p=>Nf(p)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,s){const a=new nn(e).toString();let u;if(this.listens.has(a)){const p=this.listens.get(a);u=p.get(s),p.delete(s),0===p.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,s){Cr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Cr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Pg.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wc.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ot{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ot(t,e)}}class Ic{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Ot(Za,t),a=new Ot(Za,e);return 0!==this.compare(s,a)}minPost(){return Ot.MIN}}class Xy extends Ic{static get __EMPTY_NODE(){return Ja}static set __EMPTY_NODE(t){Ja=t}compare(t,e){return iu(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ot.MIN}maxPost(){return new Ot(Po,Ja)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ot(t,Ja)}toString(){return".key"}}const ys=new Xy;class qd{constructor(t,e,s,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(t=t,p=e?s(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let om,vs=(()=>{class n{constructor(e,s,a,u,p){this.key=e,this.value=s,this.color=null!=a?a:n.RED,this.left=null!=u?u:Ei.EMPTY_NODE,this.right=null!=p?p:Ei.EMPTY_NODE}copy(e,s,a,u,p){return new n(null!=e?e:this.key,null!=s?s:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let u=this;const p=a(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,s,a),null):0===p?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(e,s,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ei.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,u;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Ei.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ei{constructor(t,e=Ei.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ei(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,vs.BLACK,null,null))}remove(t){return new Ei(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vs.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new qd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new qd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new qd(this.root_,null,this.comparator_,!0,t)}}function im(n,t){return iu(n.name,t.name)}function sm(n,t){return iu(n,t)}Ei.EMPTY_NODE=new class ev{copy(t,e,s,a,u){return this}insert(t,e,s){return new vs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const au=function(n){return"number"==typeof n?"number:"+K0(n):"string:"+n},am=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===om||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===om||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nv,lu,rv,Dc=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),am(this.priorityNode_)}static set __childrenNodeConstructor(e){nv=e}static get __childrenNodeConstructor(){return nv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Mt(e)?this:".priority"===Pt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Pt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Ya(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+au(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?K0(this.value_):this.value_,this.lazyHash_=Mf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(s),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(u>=0,"Unknown leaf type: "+s),(0,F.hu)(p>=0,"Unknown leaf type: "+a),u===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ut=new class cw extends Ic{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),u=s.compareTo(a);return 0===u?iu(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ot.MIN}maxPost(){return new Ot(Po,new Dc("[PRIORITY-POST]",rv))}makePost(t,e){const s=lu(t);return new Ot(e,new Dc("[PRIORITY-POST]",s))}toString(){return".priority"}},lm=Math.log(2);class iv{constructor(t){this.count=parseInt(Math.log(t+1)/lm,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zd=function(n,t,e,s){n.sort(t);const a=function(w,b){const O=b-w;let M,$;if(0===O)return null;if(1===O)return M=n[w],$=e?e(M):M,new vs($,M.node,vs.BLACK,null,null);{const X=parseInt(O/2,10)+w,de=a(w,X),Me=a(X+1,b);return M=n[X],$=e?e(M):M,new vs($,M.node,vs.BLACK,de,Me)}},m=function(w){let b=null,O=null,M=n.length;const $=function(de,Me){const Ke=M-de,xt=M;M-=de;const wt=a(Ke+1,xt),sn=n[Ke],Tt=e?e(sn):sn;X(new vs(Tt,sn.node,Me,null,wt))},X=function(de){b?(b.left=de,b=de):(O=de,b=de)};for(let de=0;de<w.count;++de){const Me=w.nextBitIsOne(),Ke=Math.pow(2,w.count-(de+1));Me?$(Ke,vs.BLACK):($(Ke,vs.BLACK),$(Ke,vs.RED))}return O}(new iv(n.length));return new Ei(s||t,m)};let zf;const uu={};class ua{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(uu&&Ut,"ChildrenNode.ts has not been loaded"),zf=zf||new ua({".priority":uu},{".priority":Ut}),zf}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ei?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==ys,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const u=e.getIterator(Ot.Wrap);let m,p=u.getNext();for(;p;)a=a||t.isDefinedOn(p.node),s.push(p),p=u.getNext();m=a?Zd(s,t.getCompare()):uu;const w=t.toString(),b=Object.assign({},this.indexSet_);b[w]=t;const O=Object.assign({},this.indexes_);return O[w]=m,new ua(O,b)}addToIndexes(t,e){const s=(0,F.UI)(this.indexes_,(a,u)=>{const p=(0,F.DV)(this.indexSet_,u);if((0,F.hu)(p,"Missing index implementation for "+u),a===uu){if(p.isDefinedOn(t.node)){const m=[],w=e.getIterator(Ot.Wrap);let b=w.getNext();for(;b;)b.name!==t.name&&m.push(b),b=w.getNext();return m.push(t),Zd(m,p.getCompare())}return uu}{const m=e.get(t.name);let w=a;return m&&(w=w.remove(new Ot(t.name,m))),w.insert(t,t.node)}});return new ua(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,F.UI)(this.indexes_,a=>{if(a===uu)return a;{const u=e.get(t.name);return u?a.remove(new Ot(t.name,u)):a}});return new ua(s,this.indexSet_)}}let Yd,Et=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&am(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yd||(Yd=new n(new Ei(sm),null,ua.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Yd:s}}getChild(e){const s=Pt(e);return null===s?this:this.getImmediateChild(s).getChild(an(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Ot(e,s);let u,p;s.isEmpty()?(u=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,s),p=this.indexMap_.addToIndexes(a,this.children_));const m=u.isEmpty()?Yd:this.priorityNode_;return new n(u,m,p)}}updateChild(e,s){const a=Pt(e);if(null===a)return s;{(0,F.hu)(".priority"!==Pt(e)||1===Ya(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(an(e),s);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,u=0,p=!0;if(this.forEachChild(Ut,(m,w)=>{s[m]=w.val(e),a++,p&&n.INTEGER_REGEXP_.test(m)?u=Math.max(u,Number(m)):p=!1}),!e&&p&&u<2*a){const m=[];for(const w in s)m[w]=s[w];return m}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+au(this.getPriority().val())+":"),this.forEachChild(Ut,(s,a)=>{const u=a.hash();""!==u&&(e+=":"+s+":"+u)}),this.lazyHash_=""===e?"":Mf(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const u=this.resolveIndex_(a);if(u){const p=u.getPredecessorKey(new Ot(e,s));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Ot(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Ot(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>s(u.name,u.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Ot.Wrap);let p=u.peek();for(;null!=p&&s.compare(p,e)<0;)u.getNext(),p=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Ot.Wrap);let p=u.peek();for(;null!=p&&s.compare(p,e)>0;)u.getNext(),p=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bc?-1:0}withIndex(e){if(e===ys||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===ys||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(Ut),u=s.getIterator(Ut);let p=a.getNext(),m=u.getNext();for(;p&&m;){if(p.name!==m.name||!p.node.equals(m.node))return!1;p=a.getNext(),m=u.getNext()}return null===p&&null===m}return!1}return!1}}resolveIndex_(e){return e===ys?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const bc=new class dw extends Et{constructor(){super(new Ei(sm),Et.EMPTY_NODE,ua.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Et.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return Et.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Dc(n,Dn(t));if(n instanceof Array){let e=Et.EMPTY_NODE;return dr(n,(s,a)=>{if((0,F.r3)(n,s)&&"."!==s.substring(0,1)){const u=Dn(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(s,u))}}),e.updatePriority(Dn(t))}{const e=[];let s=!1;if(dr(n,(p,m)=>{if("."!==p.substring(0,1)){const w=Dn(m);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new Ot(p,w)))}}),0===e.length)return Et.EMPTY_NODE;const u=Zd(e,im,p=>p.name,sm);if(s){const p=Zd(e,Ut.getCompare());return new Et(u,Dn(t),new ua({".priority":p},{".priority":Ut}))}return new Et(u,Dn(t),ua.Default)}}Object.defineProperties(Ot,{MIN:{value:new Ot(Za,Et.EMPTY_NODE)},MAX:{value:new Ot(Po,bc)}}),Xy.__EMPTY_NODE=Et.EMPTY_NODE,Dc.__childrenNodeConstructor=Et,function tv(n){om=n}(bc),function uw(n){rv=n}(bc),function lw(n){lu=n}(Dn);class um extends Ic{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Mt(t)&&".priority"!==Pt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),u=s.compareTo(a);return 0===u?iu(t.name,e.name):u}makePost(t,e){const s=Dn(t),a=Et.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ot(e,a)}maxPost(){const t=Et.EMPTY_NODE.updateChild(this.indexPath_,bc);return new Ot(Po,t)}toString(){return Gd(this.indexPath_,0).join("/")}}const sv=new class hw extends Ic{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?iu(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ot.MIN}maxPost(){return Ot.MAX}makePost(t,e){const s=Dn(t);return new Ot(e,s)}toString(){return".value"}},Qd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",av=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=Qd.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=u.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=Qd.charAt(t[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),fw=function(n){if(n===""+Py)return"-";const t=Fg(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let p=0;p<e.length;p++)e[p]=n.charAt(p);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return Po;const u=Qd.charAt(Qd.indexOf(e[s])+1);return e[s]=u,e.slice(0,s+1).join("")},Es=function(n){if(n===""+Z0)return Za;const t=Fg(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Py:(delete e[e.length-1],e.join("")):(e[e.length-1]=Qd.charAt(Qd.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function pw(n){return{type:"value",snapshotNode:n}}function Xd(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Tc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Sc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class dm{constructor(t){this.index_=t}updateChild(t,e,s,a,u,p){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(a).equals(s.getChild(a))&&m.isEmpty()===s.isEmpty()||(null!=p&&(s.isEmpty()?t.hasChild(e)?p.trackChildChange(Tc(e,m)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?p.trackChildChange(Xd(e,s)):p.trackChildChange(Sc(e,s,m))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(Ut,(a,u)=>{e.hasChild(a)||s.trackChildChange(Tc(a,u))}),e.isLeafNode()||e.forEachChild(Ut,(a,u)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(u)||s.trackChildChange(Sc(a,u,p))}else s.trackChildChange(Xd(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Et.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Gf{constructor(t){this.indexedFilter_=new dm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Gf.getStartPost_(t),this.endPost_=Gf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,u,p){return this.matches(new Ot(e,s))||(s=Et.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,u,p)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Et.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Et.EMPTY_NODE);const u=this;return e.forEachChild(Ut,(p,m)=>{u.matches(new Ot(p,m))||(a=a.updateImmediateChild(p,Et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class uv{constructor(t){this.rangedFilter_=new Gf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,u,p){return this.rangedFilter_.matches(new Ot(e,s))||(s=Et.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,u,p):this.fullLimitUpdateChild_(t,e,s,u,p)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Et.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=Et.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;u.hasNext()&&p<this.limit_;){const m=u.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(m.name,m.node),p++}}else{let u,p,m,w;if(a=e.withIndex(this.index_),a=a.updatePriority(Et.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();m=($,X)=>M(X,$)}else w=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let b=0,O=!1;for(;w.hasNext();){const M=w.getNext();!O&&m(u,M)<=0&&(O=!0),O&&b<this.limit_&&m(M,p)<=0?b++:a=a.updateImmediateChild(M.name,Et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,u){let p;if(this.reverse_){const M=this.index_.getCompare();p=($,X)=>M(X,$)}else p=this.index_.getCompare();const m=t;(0,F.hu)(m.numChildren()===this.limit_,"");const w=new Ot(e,s),b=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),O=this.rangedFilter_.matches(w);if(m.hasChild(e)){const M=m.getImmediateChild(e);let $=a.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=$&&($.name===e||m.hasChild($.name));)$=a.getChildAfterChild(this.index_,$,this.reverse_);const X=null==$?1:p($,w);if(O&&!s.isEmpty()&&X>=0)return null!=u&&u.trackChildChange(Sc(e,s,M)),m.updateImmediateChild(e,s);{null!=u&&u.trackChildChange(Tc(e,M));const Me=m.updateImmediateChild(e,Et.EMPTY_NODE);return null!=$&&this.rangedFilter_.matches($)?(null!=u&&u.trackChildChange(Xd($.name,$.node)),Me.updateImmediateChild($.name,$.node)):Me}}return s.isEmpty()?t:O&&p(b,w)>=0?(null!=u&&(u.trackChildChange(Tc(b.name,b.node)),u.trackChildChange(Xd(e,s))),m.updateImmediateChild(e,s).updateImmediateChild(b.name,Et.EMPTY_NODE)):t}}class eh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Za}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Po}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const t=new eh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fm(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function pm(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Kf(n,t){const e=n.copy();return e.index_=t,e}function th(n){const t={};if(n.isDefault())return t;let e;return n.index_===Ut?e="$priority":n.index_===sv?e="$value":n.index_===ys?e="$key":((0,F.hu)(n.index_ instanceof um,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function cu(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ut&&(t.i=n.index_.toString()),t}class qf extends Ky{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=mc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const p=qf.getListenId_(t,s),m={};this.listens_[p]=m;const w=th(t._queryParams);this.restRequest_(u+".json",w,(b,O)=>{let M=O;if(404===b&&(M=null,b=null),null===b&&this.onDataUpdate_(u,M,!1,s),(0,F.DV)(this.listens_,p)===m){let $;$=b?401===b?"permission_denied":"rest_error:"+b:"ok",a($,null)}})}unlisten(t,e){const s=qf.getListenId_(t,e);delete this.listens_[s]}get(t){const e=th(t._queryParams),s=t._path.toString(),a=new F.BH;return this.restRequest_(s+".json",e,(u,p)=>{let m=p;404===u&&(m=null,u=null),null===u?(this.onDataUpdate_(s,m,!1,null),a.resolve(m)):a.reject(new Error(m))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&4===m.readyState){this.log_("REST Response for "+p+" received. status:",m.status,"response:",m.responseText);let w=null;if(m.status>=200&&m.status<300){try{w=(0,F.cI)(m.responseText)}catch(b){cr("Failed to parse JSON response for "+p+": "+m.responseText)}s(null,w)}else 401!==m.status&&404!==m.status&&cr("Got unsuccessful REST response for "+p+" Status: "+m.status),s(m.status);s=null}},m.open("GET",p,!0),m.send()})}}class nh{constructor(){this.rootNode_=Et.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Zf(){return{value:null,children:new Map}}function Ac(n,t,e){if(Mt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Pt(t);n.children.has(s)||n.children.set(s,Zf()),Ac(n.children.get(s),t=an(t),e)}}function rh(n,t){if(Mt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ut,(s,a)=>{Ac(n,new nn(s),a)}),rh(n,t)}}if(n.children.size>0){const e=Pt(t);return t=an(t),n.children.has(e)&&rh(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ws(n,t,e){null!==n.value?e(t,n.value):function ih(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{ws(a,new nn(t.toString()+"/"+s),e)})}class Ur{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&dr(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class gm{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ur(t);const s=1e4+2e4*Math.random();xf(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;dr(t,(a,u)=>{u>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=u,s=!0)}),s&&this.server_.reportStats(e),xf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dr=(()=>{return(n=Dr||(Dr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Dr;var n})();function nl(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ca{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Dr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Mt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new nn(t));return new ca(Wt(),e,this.revert)}}return(0,F.hu)(Pt(this.path)===t,"operationForChild called for unrelated child."),new ca(an(this.path),this.affectedTree,this.revert)}}class Oo{constructor(t,e){this.source=t,this.path=e,this.type=Dr.LISTEN_COMPLETE}operationForChild(t){return Mt(this.path)?new Oo(this.source,Wt()):new Oo(this.source,an(this.path))}}class Is{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Dr.OVERWRITE}operationForChild(t){return Mt(this.path)?new Is(this.source,Wt(),this.snap.getImmediateChild(t)):new Is(this.source,an(this.path),this.snap)}}class Qs{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Dr.MERGE}operationForChild(t){if(Mt(this.path)){const e=this.children.subtree(new nn(t));return e.isEmpty()?null:e.value?new Is(this.source,Wt(),e.value):new Qs(this.source,Wt(),e)}return(0,F.hu)(Pt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qs(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vi{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Pt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class cv{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Rc(n,t,e,s,a,u){const p=s.filter(m=>m.type===e);p.sort((m,w)=>function fv(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new Ot(t.childName,t.snapshotNode),a=new Ot(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,m,w)),p.forEach(m=>{const w=function hv(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,u);a.forEach(b=>{b.respondsTo(m.type)&&t.push(b.createEvent(w,n.query_))})})}function sh(n,t){return{eventCache:n,serverCache:t}}function Pc(n,t,e,s){return sh(new Vi(t,e,s),n.serverCache)}function mm(n,t,e,s){return sh(n.eventCache,new Vi(t,e,s))}function oh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function du(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _m;class cn{constructor(t,e=(()=>(_m||(_m=new Ei(z0)),_m))()){this.value=t,this.children=e}static fromObject(t){let e=new cn(null);return dr(t,(s,a)=>{e=e.set(new nn(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Mt(t))return null;{const s=Pt(t),a=this.children.get(s);if(null!==a){const u=a.findRootMostMatchingPathAndValue(an(t),e);return null!=u?{path:un(new nn(s),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mt(t))return this;{const e=Pt(t),s=this.children.get(e);return null!==s?s.subtree(an(t)):new cn(null)}}set(t,e){if(Mt(t))return new cn(e,this.children);{const s=Pt(t),u=(this.children.get(s)||new cn(null)).set(an(t),e),p=this.children.insert(s,u);return new cn(this.value,p)}}remove(t){if(Mt(t))return this.children.isEmpty()?new cn(null):new cn(null,this.children);{const e=Pt(t),s=this.children.get(e);if(s){const a=s.remove(an(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new cn(null):new cn(this.value,u)}return this}}get(t){if(Mt(t))return this.value;{const e=Pt(t),s=this.children.get(e);return s?s.get(an(t)):null}}setTree(t,e){if(Mt(t))return e;{const s=Pt(t),u=(this.children.get(s)||new cn(null)).setTree(an(t),e);let p;return p=u.isEmpty()?this.children.remove(s):this.children.insert(s,u),new cn(this.value,p)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,u)=>{s[a]=u.fold_(un(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Mt(t))return null;{const u=Pt(t),p=this.children.get(u);return p?p.findOnPath_(an(t),un(e,u),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,s){if(Mt(t))return this;{this.value&&s(e,this.value);const a=Pt(t),u=this.children.get(a);return u?u.foreachOnPath_(an(t),un(e,a),s):new cn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(un(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Ds{constructor(t){this.writeTree_=t}static empty(){return new Ds(new cn(null))}}function ah(n,t,e){if(Mt(t))return new Ds(new cn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let u=s.value;const p=Ir(a,t);return u=u.updateChild(p,e),new Ds(n.writeTree_.set(a,u))}{const a=new cn(e),u=n.writeTree_.setTree(t,a);return new Ds(u)}}}function ym(n,t,e){let s=n;return dr(e,(a,u)=>{s=ah(s,un(t,a),u)}),s}function vm(n,t){if(Mt(t))return Ds.empty();{const e=n.writeTree_.setTree(t,new cn(null));return new Ds(e)}}function Em(n,t){return null!=rl(n,t)}function rl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ir(e.path,t)):null}function pv(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ut,(s,a)=>{t.push(new Ot(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Ot(s,a.value))}),t}function il(n,t){if(Mt(t))return n;{const e=rl(n,t);return new Ds(null!=e?new cn(e):n.writeTree_.subtree(t))}}function gv(n){return n.writeTree_.isEmpty()}function Mc(n,t){return Qf(Wt(),n.writeTree_,t)}function Qf(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,F.hu)(null!==u.value,"Priority writes must always be leaf nodes"),s=u.value):e=Qf(un(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(un(n,".priority"),s)),e}}function Oc(n,t){return wv(t,n)}function ww(n,t){if(n.snap)return _s(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&_s(un(n.path,e),t))return!0;return!1}function pD(n){return n.visible}function _v(n,t,e){let s=Ds.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const p=u.path;let m;if(u.snap)_s(e,p)?(m=Ir(e,p),s=ah(s,m,u.snap)):_s(p,e)&&(m=Ir(p,e),s=ah(s,Wt(),u.snap.getChild(m)));else{if(!u.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(_s(e,p))m=Ir(e,p),s=ym(s,m,u.children);else if(_s(p,e))if(m=Ir(p,e),Mt(m))s=ym(s,Wt(),u.children);else{const w=(0,F.DV)(u.children,Pt(m));if(w){const b=w.getChild(an(m));s=ah(s,Wt(),b)}}}}}return s}function hu(n,t,e,s,a){if(s||a){const u=il(n.visibleWrites,t);return!a&&gv(u)?e:a||null!=e||Em(u,Wt())?Mc(_v(n.allWrites,function(b){return(b.visible||a)&&(!s||!~s.indexOf(b.writeId))&&(_s(b.path,t)||_s(t,b.path))},t),e||Et.EMPTY_NODE):null}{const u=rl(n.visibleWrites,t);if(null!=u)return u;{const p=il(n.visibleWrites,t);return gv(p)?e:null!=e||Em(p,Wt())?Mc(p,e||Et.EMPTY_NODE):null}}}function lh(n,t,e,s){return hu(n.writeTree,n.treePath,t,e,s)}function wm(n,t){return function Cw(n,t,e){let s=Et.EMPTY_NODE;const a=rl(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ut,(u,p)=>{s=s.updateImmediateChild(u,p)}),s;if(e){const u=il(n.visibleWrites,t);return e.forEachChild(Ut,(p,m)=>{const w=Mc(il(u,new nn(p)),m);s=s.updateImmediateChild(p,w)}),pv(u).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}return pv(il(n.visibleWrites,t)).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}(n.writeTree,n.treePath,t)}function Ev(n,t,e,s){return function yv(n,t,e,s,a){(0,F.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const u=un(t,e);if(Em(n.visibleWrites,u))return null;{const p=il(n.visibleWrites,u);return gv(p)?a.getChild(e):Mc(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Xf(n,t){return function vv(n,t){return rl(n.visibleWrites,t)}(n.writeTree,un(n.treePath,t))}function Cm(n,t,e){return function Iw(n,t,e,s){const a=un(t,e),u=rl(n.visibleWrites,a);return null!=u?u:s.isCompleteForChild(e)?Mc(il(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Im(n,t){return wv(un(n.treePath,t),n.writeTree)}function wv(n,t){return{treePath:n,writeTree:t}}class Cv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(s,Sc(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(s,Tc(s,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(s,Xd(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,Sc(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const ep=new class Iv{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Dv{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cm(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:du(this.viewCache_),u=function bw(n,t,e,s,a,u){return function Jf(n,t,e,s,a,u,p){let m;const w=il(n.visibleWrites,t),b=rl(w,Wt());if(null!=b)m=b;else{if(null==e)return[];m=Mc(w,e)}if(m=m.withIndex(p),m.isEmpty()||m.isLeafNode())return[];{const O=[],M=p.getCompare(),$=u?m.getReverseIteratorFrom(s,p):m.getIteratorFrom(s,p);let X=$.getNext();for(;X&&O.length<a;)0!==M(X,s)&&O.push(X),X=$.getNext();return O}}(n.writeTree,n.treePath,t,e,s,a,u)}(this.writes_,a,e,1,s,t);return 0===u.length?null:u[0]}}function bm(n,t,e,s,a,u){const p=t.eventCache;if(null!=Xf(s,e))return t;{let m,w;if(Mt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=du(t),M=wm(s,b instanceof Et?b:Et.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),M,u)}else{const b=lh(s,du(t));m=n.filter.updateFullNode(t.eventCache.getNode(),b,u)}else{const b=Pt(e);if(".priority"===b){(0,F.hu)(1===Ya(e),"Can't have a priority with additional path components");const O=p.getNode();w=t.serverCache.getNode();const M=Ev(s,e,O,w);m=null!=M?n.filter.updatePriority(O,M):p.getNode()}else{const O=an(e);let M;if(p.isCompleteForChild(b)){w=t.serverCache.getNode();const $=Ev(s,e,p.getNode(),w);M=null!=$?p.getNode().getImmediateChild(b).updateChild(O,$):p.getNode().getImmediateChild(b)}else M=Cm(s,b,t.serverCache);m=null!=M?n.filter.updateChild(p.getNode(),b,M,O,a,u):p.getNode()}}return Pc(t,m,p.isFullyInitialized()||Mt(e),n.filter.filtersNodes())}}function ch(n,t,e,s,a,u,p,m){const w=t.serverCache;let b;const O=p?n.filter:n.filter.getIndexedFilter();if(Mt(e))b=O.updateFullNode(w.getNode(),s,null);else if(O.filtersNodes()&&!w.isFiltered()){const X=w.getNode().updateChild(e,s);b=O.updateFullNode(w.getNode(),X,null)}else{const X=Pt(e);if(!w.isCompleteForPath(e)&&Ya(e)>1)return t;const de=an(e),Ke=w.getNode().getImmediateChild(X).updateChild(de,s);b=".priority"===X?O.updatePriority(w.getNode(),Ke):O.updateChild(w.getNode(),X,Ke,de,ep,null)}const M=mm(t,b,w.isFullyInitialized()||Mt(e),O.filtersNodes());return bm(n,M,e,a,new Dv(a,M,u),m)}function dh(n,t,e,s,a,u,p){const m=t.eventCache;let w,b;const O=new Dv(a,t,u);if(Mt(e))b=n.filter.updateFullNode(t.eventCache.getNode(),s,p),w=Pc(t,b,!0,n.filter.filtersNodes());else{const M=Pt(e);if(".priority"===M)b=n.filter.updatePriority(t.eventCache.getNode(),s),w=Pc(t,b,m.isFullyInitialized(),m.isFiltered());else{const $=an(e),X=m.getNode().getImmediateChild(M);let de;if(Mt($))de=s;else{const Me=O.getCompleteChild(M);de=null!=Me?".priority"===zd($)&&Me.getChild(Kd($)).isEmpty()?Me:Me.updateChild($,s):Et.EMPTY_NODE}w=X.equals(de)?t:Pc(t,n.filter.updateChild(m.getNode(),M,de,$,O,p),m.isFullyInitialized(),n.filter.filtersNodes())}}return w}function bv(n,t){return n.eventCache.isCompleteForChild(t)}function hh(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function fh(n,t,e,s,a,u,p,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,w=t;b=Mt(e)?s:new cn(null).setTree(e,s);const O=t.serverCache.getNode();return b.children.inorderTraversal((M,$)=>{if(O.hasChild(M)){const de=hh(0,t.serverCache.getNode().getImmediateChild(M),$);w=ch(n,w,new nn(M),de,a,u,p,m)}}),b.children.inorderTraversal((M,$)=>{const X=!t.serverCache.isCompleteForChild(M)&&void 0===$.value;if(!O.hasChild(M)&&!X){const Me=hh(0,t.serverCache.getNode().getImmediateChild(M),$);w=ch(n,w,new nn(M),Me,a,u,p,m)}}),w}class Sm{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new dm(s.getIndex()),u=function gw(n){return n.loadsAllData()?new dm(n.getIndex()):n.hasLimit()?new uv(n):new Gf(n)}(s);this.processor_=function Dm(n){return{filter:n}}(u);const p=e.serverCache,m=e.eventCache,w=a.updateFullNode(Et.EMPTY_NODE,p.getNode(),null),b=u.updateFullNode(Et.EMPTY_NODE,m.getNode(),null),O=new Vi(w,p.isFullyInitialized(),a.filtersNodes()),M=new Vi(b,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=sh(M,O),this.eventGenerator_=new cv(this.query_)}get query(){return this.query_}}function Am(n,t){const e=du(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Mt(t)&&!e.getImmediateChild(Pt(t)).isEmpty())?e.getChild(t):null}function Rm(n){return 0===n.eventRegistrations_.length}function np(n,t,e){const s=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const p=u.createCancelEvent(e,a);p&&s.push(p)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const p=n.eventRegistrations_[u];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function Pm(n,t,e,s){t.type===Dr.MERGE&&null!==t.source.queryId&&((0,F.hu)(du(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(oh(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function gD(n,t,e,s,a){const u=new Cv;let p,m;if(e.type===Dr.OVERWRITE){const b=e;b.source.fromUser?p=dh(n,t,b.path,b.snap,s,a,u):((0,F.hu)(b.source.fromServer,"Unknown source."),m=b.source.tagged||t.serverCache.isFiltered()&&!Mt(b.path),p=ch(n,t,b.path,b.snap,s,a,m,u))}else if(e.type===Dr.MERGE){const b=e;b.source.fromUser?p=function tp(n,t,e,s,a,u,p){let m=t;return s.foreach((w,b)=>{const O=un(e,w);bv(t,Pt(O))&&(m=dh(n,m,O,b,a,u,p))}),s.foreach((w,b)=>{const O=un(e,w);bv(t,Pt(O))||(m=dh(n,m,O,b,a,u,p))}),m}(n,t,b.path,b.children,s,a,u):((0,F.hu)(b.source.fromServer,"Unknown source."),m=b.source.tagged||t.serverCache.isFiltered(),p=fh(n,t,b.path,b.children,s,a,m,u))}else if(e.type===Dr.ACK_USER_WRITE){const b=e;p=b.revert?function Tm(n,t,e,s,a,u){let p;if(null!=Xf(s,e))return t;{const m=new Dv(s,t,a),w=t.eventCache.getNode();let b;if(Mt(e)||".priority"===Pt(e)){let O;if(t.serverCache.isFullyInitialized())O=lh(s,du(t));else{const M=t.serverCache.getNode();(0,F.hu)(M instanceof Et,"serverChildren would be complete if leaf node"),O=wm(s,M)}O=O,b=n.filter.updateFullNode(w,O,u)}else{const O=Pt(e);let M=Cm(s,O,t.serverCache);null==M&&t.serverCache.isCompleteForChild(O)&&(M=w.getImmediateChild(O)),b=null!=M?n.filter.updateChild(w,O,M,an(e),m,u):t.eventCache.getNode().hasChild(O)?n.filter.updateChild(w,O,Et.EMPTY_NODE,an(e),m,u):w,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=lh(s,du(t)),p.isLeafNode()&&(b=n.filter.updateFullNode(b,p,u)))}return p=t.serverCache.isFullyInitialized()||null!=Xf(s,Wt()),Pc(t,b,p,n.filter.filtersNodes())}}(n,t,b.path,s,a,u):function mD(n,t,e,s,a,u,p){if(null!=Xf(a,e))return t;const m=t.serverCache.isFiltered(),w=t.serverCache;if(null!=s.value){if(Mt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return ch(n,t,e,w.getNode().getChild(e),a,u,m,p);if(Mt(e)){let b=new cn(null);return w.getNode().forEachChild(ys,(O,M)=>{b=b.set(new nn(O),M)}),fh(n,t,e,b,a,u,m,p)}return t}{let b=new cn(null);return s.foreach((O,M)=>{const $=un(e,O);w.isCompleteForPath($)&&(b=b.set(O,w.getNode().getChild($)))}),fh(n,t,e,b,a,u,m,p)}}(n,t,b.path,b.affectedTree,s,a,u)}else{if(e.type!==Dr.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function Sw(n,t,e,s,a){const u=t.serverCache;return bm(n,mm(t,u.getNode(),u.isFullyInitialized()||Mt(e),u.isFiltered()),e,s,ep,a)}(n,t,e.path,s,u)}const w=u.getChanges();return function uh(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=oh(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&e.push(pw(oh(t)))}}(t,p,w),{viewCache:p,changes:w}}(n.processor_,a,t,e,s);return function Tw(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,F.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,Mm(n,u.changes,u.viewCache.eventCache.getNode(),null)}function Mm(n,t,e,s){return function dv(n,t,e,s){const a=[],u=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&u.push(function lv(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),Rc(n,a,"child_removed",t,s,e),Rc(n,a,"child_added",t,s,e),Rc(n,a,"child_moved",u,s,e),Rc(n,a,"child_changed",t,s,e),Rc(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let ph,mh;class rp{constructor(){this.views=new Map}}function Om(n,t,e,s){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,F.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Pm(u,t,e,s)}{let u=[];for(const p of n.views.values())u=u.concat(Pm(p,t,e,s));return u}}function Nm(n,t,e,s,a){const p=n.views.get(t._queryIdentifier);if(!p){let m=lh(e,a?s:null),w=!1;m?w=!0:s instanceof Et?(m=wm(e,s),w=!1):(m=Et.EMPTY_NODE,w=!1);const b=sh(new Vi(m,w,!1),new Vi(s,a,!1));return new Sm(t,b)}return p}function km(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function da(n,t){let e=null;for(const s of n.views.values())e=e||Am(s,t);return e}function Fm(n,t){return t._queryParams.loadsAllData()?gh(n):n.views.get(t._queryIdentifier)}function Lm(n,t){return null!=Fm(n,t)}function ha(n){return null!=gh(n)}function gh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xw=1;class Um{constructor(t){this.listenProvider_=t,this.syncPointTree_=new cn(null),this.pendingWriteTree_=function Dw(){return{visibleWrites:Ds.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bm(n,t,e,s,a){return function Ew(n,t,e,s,a){(0,F.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=ah(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?xc(n,new Is({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function fa(n,t,e=!1){const s=function hD(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function fD(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,u=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const m=n.allWrites[p];m.visible&&(p>=e&&ww(m,s.path)?a=!1:_s(s.path,m.path)&&(u=!0)),p--}return!!a&&(u?(function mv(n){n.visibleWrites=_v(n.allWrites,pD,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=vm(n.visibleWrites,s.path):dr(s.children,w=>{n.visibleWrites=vm(n.visibleWrites,un(s.path,w))}),!0))}(n.pendingWriteTree_,t)){let u=new cn(null);return null!=s.snap?u=u.set(Wt(),!0):dr(s.children,p=>{u=u.set(new nn(p),!0)}),xc(n,new ca(s.path,u,e))}return[]}function _h(n,t,e){return xc(n,new Is({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ip(n,t,e,s){const a=t._path,u=n.syncPointTree_.get(a);let p=[];if(u&&("default"===t._queryIdentifier||Lm(u,t))){const m=function Av(n,t,e,s){const a=t._queryIdentifier,u=[];let p=[];const m=ha(n);if("default"===a)for(const[w,b]of n.views.entries())p=p.concat(np(b,e,s)),Rm(b)&&(n.views.delete(w),b.query._queryParams.loadsAllData()||u.push(b.query));else{const w=n.views.get(a);w&&(p=p.concat(np(w,e,s)),Rm(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return m&&!ha(n)&&u.push(new(function Mw(){return(0,F.hu)(ph,"Reference.ts has not been loaded"),ph}())(t._repo,t._path)),{removed:u,events:p}}(u,t,e,s);(function Ow(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const w=m.removed;p=m.events;const b=-1!==w.findIndex(M=>M._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(a,(M,$)=>ha($));if(b&&!O){const M=n.syncPointTree_.subtree(a);if(!M.isEmpty()){const $=function Js(n){return n.fold((t,e,s)=>{if(e&&ha(e))return[gh(e)];{let a=[];return e&&(a=km(e)),dr(s,(u,p)=>{a=a.concat(p)}),a}})}(M);for(let X=0;X<$.length;++X){const de=$[X],Me=de.query,Ke=jm(n,de);n.listenProvider_.startListening(ri(Me),yh(n,Me),Ke.hashFn,Ke.onComplete)}}}!O&&w.length>0&&!s&&(b?n.listenProvider_.stopListening(ri(t),null):w.forEach(M=>{const $=n.queryToTagMap.get(ji(M));n.listenProvider_.stopListening(ri(M),$)})),function Nv(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=ji(s),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,w)}return p}function Mv(n,t,e){const s=t._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(s,(M,$)=>{const X=Ir(M,s);a=a||da($,X),u=u||ha($)});let m,p=n.syncPointTree_.get(s);p?(u=u||ha(p),a=a||da(p,Wt())):(p=new rp,n.syncPointTree_=n.syncPointTree_.set(s,p)),null!=a?m=!0:(m=!1,a=Et.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild(($,X)=>{const de=da(X,Wt());de&&(a=a.updateImmediateChild($,de))}));const w=Lm(p,t);if(!w&&!t._queryParams.loadsAllData()){const M=ji(t);(0,F.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const $=function xv(){return xw++}();n.queryToTagMap.set(M,$),n.tagToQueryMap.set($,M)}let O=function xm(n,t,e,s,a,u){const p=Nm(n,t,s,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function Sv(n,t){n.eventRegistrations_.push(t)}(p,e),function Rw(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ut,(u,p)=>{s.push(Xd(u,p))}),e.isFullyInitialized()&&s.push(pw(e.getNode())),Mm(n,s,e.getNode(),t)}(p,e)}(p,t,e,Oc(n.pendingWriteTree_,s),a,m);if(!w&&!u){const M=Fm(p,t);O=O.concat(function Uw(n,t,e){const s=t._path,a=yh(n,t),u=jm(n,e),p=n.listenProvider_.startListening(ri(t),a,u.hashFn,u.onComplete),m=n.syncPointTree_.subtree(s);if(a)(0,F.hu)(!ha(m.value),"If we're adding a query, it shouldn't be shadowed");else{const w=m.fold((b,O,M)=>{if(!Mt(b)&&O&&ha(O))return[gh(O).query];{let $=[];return O&&($=$.concat(km(O).map(X=>X.query))),dr(M,(X,de)=>{$=$.concat(de)}),$}});for(let b=0;b<w.length;++b){const O=w[b];n.listenProvider_.stopListening(ri(O),yh(n,O))}}return p}(n,t,M))}return O}function sp(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(p,m)=>{const b=da(m,Ir(p,t));if(b)return b});return hu(a,t,u,e,!0)}function xc(n,t){return Vm(t,n.syncPointTree_,null,Oc(n.pendingWriteTree_,Wt()))}function Vm(n,t,e,s){if(Mt(n.path))return Lw(n,t,e,s);{const a=t.get(Wt());null==e&&null!=a&&(e=da(a,Wt()));let u=[];const p=Pt(n.path),m=n.operationForChild(p),w=t.children.get(p);if(w&&m){const b=e?e.getImmediateChild(p):null,O=Im(s,p);u=u.concat(Vm(m,w,b,O))}return a&&(u=u.concat(Om(a,n,s,e))),u}}function Lw(n,t,e,s){const a=t.get(Wt());null==e&&null!=a&&(e=da(a,Wt()));let u=[];return t.children.inorderTraversal((p,m)=>{const w=e?e.getImmediateChild(p):null,b=Im(s,p),O=n.operationForChild(p);O&&(u=u.concat(Lw(O,m,w,b)))}),a&&(u=u.concat(Om(a,n,s,e))),u}function jm(n,t){const e=t.query,s=yh(n,e);return{hashFn:()=>(function Tv(n){return n.viewCache_.serverCache.getNode()}(t)||Et.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function Fw(n,t,e){const s=Hm(n,e);if(s){const a=$m(s),u=a.path,p=a.queryId,m=Ir(u,t);return bs(n,u,new Oo(nl(p),m))}return[]}(n,e._path,s):function Rv(n,t){return xc(n,new Oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function q0(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return ip(n,e,null,u)}}}}function yh(n,t){const e=ji(t);return n.queryToTagMap.get(e)}function ji(n){return n._path.toString()+"$"+n._queryIdentifier}function Hm(n,t){return n.tagToQueryMap.get(t)}function $m(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new nn(n.substr(0,t))}}function bs(n,t,e){const s=n.syncPointTree_.get(t);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),Om(s,e,Oc(n.pendingWriteTree_,t),null)}function ri(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Nw(){return(0,F.hu)(mh,"Reference.ts has not been loaded"),mh}())(n._repo,n._path):n}class Wm{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Wm(e)}node(){return this.node_}}class zm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=un(this.path_,t);return new zm(this.syncTree_,e)}node(){return sp(this.syncTree_,this.path_)}}const op=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?vh(n[".sv"],t,e):"object"==typeof n[".sv"]?Vw(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},vh=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Vw=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,F.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const p=a.getValue();return"number"!=typeof p?s:p+s},Gm=function(n,t,e,s){return ap(t,new zm(e,n),s)},Km=function(n,t,e){return ap(n,new Wm(t),e)};function ap(n,t,e){const s=n.getPriority().val(),a=op(s,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const p=n,m=op(p.getValue(),t,e);return m!==p.getValue()||a!==p.getPriority().val()?new Dc(m,Dn(a)):n}{const p=n;return u=p,a!==p.getPriority().val()&&(u=u.updatePriority(new Dc(a))),p.forEachChild(Ut,(m,w)=>{const b=ap(w,t.getImmediateChild(m),e);b!==w&&(u=u.updateImmediateChild(m,b))}),u}}class lp{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function fu(n,t){let e=t instanceof nn?t:new nn(t),s=n,a=Pt(e);for(;null!==a;){const u=(0,F.DV)(s.node.children,a)||{children:{},childCount:0};s=new lp(a,s,u),e=an(e),a=Pt(e)}return s}function pu(n){return n.node.value}function up(n,t){n.node.value=t,cp(n)}function qm(n){return n.node.childCount>0}function kc(n,t){dr(n.node.children,(e,s)=>{t(new lp(e,n,s))})}function Zm(n,t,e,s){e&&!s&&t(n),kc(n,a=>{Zm(a,t,!0,s)}),e&&s&&t(n)}function Fc(n){return new nn(null===n.parent?n.name:Fc(n.parent)+"/"+n.name)}function cp(n){null!==n.parent&&function Lv(n,t,e){const s=function kv(n){return void 0===pu(n)&&!qm(n)}(e),a=(0,F.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,cp(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,cp(n))}(n.parent,n.name,n)}const Uv=/[\[\].#$\/\u0000-\u001F\u007F]/,Bv=/[\[\].#$\u0000-\u001F\u007F]/,dp=10485760,hp=function(n){return"string"==typeof n&&0!==n.length&&!Uv.test(n)},Vv=function(n){return"string"==typeof n&&0!==n.length&&!Bv.test(n)},Eh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!_c(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},No=function(n,t,e,s){s&&void 0===t||wh((0,F.gK)(n,"value"),t,e)},wh=function(n,t,e){const s=e instanceof nn?new iw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Qa(s));if("function"==typeof t)throw new Error(n+"contains a function "+Qa(s)+" with contents = "+t.toString());if(_c(t))throw new Error(n+"contains "+t.toString()+" "+Qa(s));if("string"==typeof t&&t.length>dp/3&&(0,F.ug)(t)>dp)throw new Error(n+"contains a string greater than "+dp+" utf8 bytes "+Qa(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(dr(t,(p,m)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(u=!0,!hp(p)))throw new Error(n+" contains an invalid key ("+p+") "+Qa(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function rm(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Yy(n)})(s,p),wh(n,m,s),function uD(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&u)throw new Error(n+' contains ".value" child '+Qa(s)+" in addition to actual children.")}},jv=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];dr(t,(p,m)=>{const w=new nn(p);if(wh(a,m,un(e,w)),".priority"===zd(w)&&!Eh(m))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(w)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const u=Gd(s);for(let p=0;p<u.length;p++)if((".priority"!==u[p]||p!==u.length-1)&&!hp(u[p]))throw new Error(n+"contains an invalid key ("+u[p]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(nm);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&_s(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,u)},Ym=function(n,t,e){if(!e||void 0!==t){if(_c(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Eh(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ch=function(n,t,e,s){if(!(s&&void 0===e||hp(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ih=function(n,t,e,s){if(!(s&&void 0===e||Vv(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ts=function(n,t){if(".info"===Pt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Hv=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!hp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vv(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ww{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fp(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],u=a.getPath();null!==e&&!Hf(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function Qm(n,t,e){fp(n,e),Jm(n,s=>Hf(s,t))}function Ss(n,t,e){fp(n,e),Jm(n,s=>_s(s,t)||_s(t,s))}function Jm(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?($v(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function $v(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();sa&&Cr("event: "+e.toString()),Hd(s)}}}const Xm="repo_interrupt";class zv{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ww,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zf(),this.transactionQueueTree_=new lp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function e_(n){const e=n.infoData_.getNode(new nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Lc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:e_(n)})}function t_(n,t,e,s,a){n.dataUpdateCount++;const u=new nn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(s){const w=(0,F.UI)(e,b=>Dn(b));p=function Nc(n,t,e,s){const a=Hm(n,s);if(a){const u=$m(a),p=u.path,m=u.queryId,w=Ir(p,t),b=cn.fromObject(e);return bs(n,p,new Qs(nl(m),w,b))}return[]}(n.serverSyncTree_,u,w,a)}else{const w=Dn(e);p=function Pv(n,t,e,s){const a=Hm(n,s);if(null!=a){const u=$m(a),p=u.path,m=u.queryId,w=Ir(p,t);return bs(n,p,new Is(nl(m),w,e))}return[]}(n.serverSyncTree_,u,w,a)}else if(s){const w=(0,F.UI)(e,b=>Dn(b));p=function kw(n,t,e){const s=cn.fromObject(e);return xc(n,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,u,w)}else{const w=Dn(e);p=_h(n.serverSyncTree_,u,w)}let m=u;p.length>0&&(m=gu(n,u)),Ss(n.eventQueue_,m,p)}function n_(n,t){pa(n,"connected",t),!1===t&&function r_(n){ga(n,"onDisconnectEvents");const t=Lc(n),e=Zf();ws(n.onDisconnect_,Wt(),(a,u)=>{const p=Gm(a,u,n.serverSyncTree_,t);Ac(e,a,p)});let s=[];ws(e,Wt(),(a,u)=>{s=s.concat(_h(n.serverSyncTree_,a,u));const p=mp(n,a);gu(n,p)}),n.onDisconnect_=Zf(),Ss(n.eventQueue_,Wt(),s)}(n)}function pa(n,t,e){const s=new nn("/.info/"+t),a=Dn(e);n.infoData_.updateSnapshot(s,a);const u=_h(n.infoSyncTree_,s,a);Ss(n.eventQueue_,s,u)}function pp(n){return n.nextWriteId_++}function sl(n,t,e,s,a){ga(n,"set",{path:t.toString(),value:e,priority:s});const u=Lc(n),p=Dn(e,s),m=sp(n.serverSyncTree_,t),w=Km(p,m,u),b=pp(n),O=Bm(n.serverSyncTree_,t,w,b,!0);fp(n.eventQueue_,O),n.server_.put(t.toString(),p.val(!0),($,X)=>{const de="ok"===$;de||cr("set at "+t+" failed: "+$);const Me=fa(n.serverSyncTree_,b,!de);Ss(n.eventQueue_,t,Me),ol(0,a,$,X)});const M=mp(n,t);gu(n,M),Ss(n.eventQueue_,M,[])}function vD(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&rh(n.onDisconnect_,t),ol(0,e,s,a)})}function i_(n,t,e,s){const a=Dn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,p)=>{"ok"===u&&Ac(n.onDisconnect_,t,a),ol(0,s,u,p)})}function s_(n,t,e){let s;s=".info"===Pt(t._path)?ip(n.infoSyncTree_,t,e):ip(n.serverSyncTree_,t,e),Qm(n.eventQueue_,t._path,s)}function Zv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Xm)}function ga(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Cr(e,...t)}function ol(n,t,e,s){t&&Hd(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;s&&(u+=": "+s);const p=new Error(u);p.code=a,t(p)}})}function Uc(n,t,e){return sp(n.serverSyncTree_,t,e)||Et.EMPTY_NODE}function yn(n,t=n.transactionQueueTree_){if(t||Dh(n,t),pu(t)){const e=o_(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function wD(n,t,e){const s=e.map(b=>b.currentWriteId),a=Uc(n,t,s);let u=a;const p=a.hash();for(let b=0;b<e.length;b++){const O=e[b];(0,F.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;const M=Ir(t,O.path);u=u.updateChild(M,O.currentOutputSnapshotRaw)}const m=u.val(!0),w=t;n.server_.put(w.toString(),m,b=>{ga(n,"transaction put response",{path:w.toString(),status:b});let O=[];if("ok"===b){const M=[];for(let $=0;$<e.length;$++)e[$].status=2,O=O.concat(fa(n.serverSyncTree_,e[$].currentWriteId)),e[$].onComplete&&M.push(()=>e[$].onComplete(null,!0,e[$].currentOutputSnapshotResolved)),e[$].unwatcher();Dh(n,fu(n.transactionQueueTree_,t)),yn(n,n.transactionQueueTree_),Ss(n.eventQueue_,t,O);for(let $=0;$<M.length;$++)Hd(M[$])}else{if("datastale"===b)for(let M=0;M<e.length;M++)e[M].status=3===e[M].status?4:0;else{cr("transaction at "+w.toString()+" failed: "+b);for(let M=0;M<e.length;M++)e[M].status=4,e[M].abortReason=b}gu(n,t)}},p)}(n,Fc(t),e)}else qm(t)&&kc(t,e=>{yn(n,e)})}function gu(n,t){const e=Yv(n,t),s=Fc(e);return function Kw(n,t,e){if(0===t.length)return;const s=[];let a=[];const p=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const w=t[m],b=Ir(e,w.path);let M,O=!1;if((0,F.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)O=!0,M=w.abortReason,a=a.concat(fa(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)O=!0,M="maxretry",a=a.concat(fa(n.serverSyncTree_,w.currentWriteId,!0));else{const $=Uc(n,w.path,p);w.currentInputSnapshot=$;const X=t[m].update($.val());if(void 0!==X){wh("transaction failed: Data returned ",X,w.path);let de=Dn(X);"object"==typeof X&&null!=X&&(0,F.r3)(X,".priority")||(de=de.updatePriority($.getPriority()));const Ke=w.currentWriteId,xt=Lc(n),wt=Km(de,$,xt);w.currentOutputSnapshotRaw=de,w.currentOutputSnapshotResolved=wt,w.currentWriteId=pp(n),p.splice(p.indexOf(Ke),1),a=a.concat(Bm(n.serverSyncTree_,w.path,wt,w.currentWriteId,w.applyLocally)),a=a.concat(fa(n.serverSyncTree_,Ke,!0))}else O=!0,M="nodata",a=a.concat(fa(n.serverSyncTree_,w.currentWriteId,!0))}Ss(n.eventQueue_,e,a),a=[],O&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&s.push("nodata"===M?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(M),!1,null)))}Dh(n,n.transactionQueueTree_);for(let m=0;m<s.length;m++)Hd(s[m]);yn(n,n.transactionQueueTree_)}(n,o_(n,e),s),s}function Yv(n,t){let e,s=n.transactionQueueTree_;for(e=Pt(t);null!==e&&void 0===pu(s);)s=fu(s,e),e=Pt(t=an(t));return s}function o_(n,t){const e=[];return a_(n,t,e),e.sort((s,a)=>s.order-a.order),e}function a_(n,t,e){const s=pu(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);kc(t,a=>{a_(n,a,e)})}function Dh(n,t){const e=pu(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,up(t,e.length>0?e:void 0)}kc(t,s=>{Dh(n,s)})}function mp(n,t){const e=Fc(Yv(n,t)),s=fu(n.transactionQueueTree_,t);return function Fv(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{l_(n,a)}),l_(n,s),Zm(s,a=>{l_(n,a)}),e}function l_(n,t){const e=pu(t);if(e){const s=[];let a=[],u=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(u===p-1,"All SENT items should be at beginning of queue."),u=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(fa(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&s.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===u?up(t,void 0):e.length=u+1,Ss(n.eventQueue_,Fc(t),a);for(let p=0;p<s.length;p++)Hd(s[p])}}const mu=function(n,t){const e=Yw(n),s=e.namespace;return"firebase.com"===e.domain&&Ui(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Ui("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $g(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new nn(e.pathString)}},Yw=function(n){let t="",e="",s="",a="",u="",p=!0,m="https",w=443;if("string"==typeof n){let b=n.indexOf("//");b>=0&&(m=n.substring(0,b-1),n=n.substring(b+2));let O=n.indexOf("/");-1===O&&(O=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),t=n.substring(0,Math.min(O,M)),O<M&&(a=function qw(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(u){}t+="/"+a}return t}(n.substring(O,M)));const $=function Zw(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):cr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,M)));b=t.indexOf(":"),b>=0?(p="https"===m||"wss"===m,w=parseInt(t.substring(b+1),10)):b=t.length;const X=t.slice(0,b);if("localhost"===X.toLowerCase())e="localhost";else if(X.split(".").length<=2)e=X;else{const de=t.indexOf(".");s=t.substring(0,de).toLowerCase(),e=t.substring(de+1),u=s}"ns"in $&&(u=$.ns)}return{host:t,port:w,domain:e,subdomain:s,secure:p,scheme:m,pathString:a,namespace:u}};class Qv{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class Jv{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bh{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class u_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return vD(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ts("OnDisconnect.remove",this._path);const t=new F.BH;return i_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ts("OnDisconnect.set",this._path),No("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return i_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ts("OnDisconnect.setWithPriority",this._path),No("OnDisconnect.setWithPriority",t,this._path,!1),Ym("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function qv(n,t,e,s,a){const u=Dn(e,s);n.server_.onDisconnectPut(t.toString(),u.val(!0),(p,m)=>{"ok"===p&&Ac(n.onDisconnect_,t,u),ol(0,a,p,m)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Ts("OnDisconnect.update",this._path),jv("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function ED(n,t,e,s){if((0,F.xb)(e))return Cr("onDisconnect().update() called with empty data.  Don't do anything."),void ol(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&dr(e,(p,m)=>{const w=Dn(m);Ac(n.onDisconnect_,un(t,p),w)}),ol(0,s,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ii{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Mt(this._path)?null:zd(this._path)}get ref(){return new Br(this._repo,this._path)}get _queryIdentifier(){const t=cu(this._queryParams),e=Nf(t);return"{}"===e?"default":e}get _queryObject(){return cu(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof ii))return!1;const e=this._repo===t._repo,s=Hf(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Th(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function al(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ys){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Za)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Po)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===Ut){if(null!=t&&!Eh(t)||null!=e&&!Eh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof um||n.getIndex()===sv,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ll(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Br extends ii{constructor(t,e){super(t,e,new eh,!1)}get parent(){const t=Kd(this._path);return null===t?null:new Br(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class _u{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new nn(t),s=ul(this.ref,t);return new _u(this._node.getChild(e),s,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new _u(a,ul(this.ref,s),Ut)))}hasChild(t){const e=new nn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xv(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?ul(n._root,t):n._root}function eE(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=mu(t,n._repo.repoInfo_.nodeAdmin);Hv("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Ui("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Xv(n,e.path.toString())}function ul(n,t){return null===Pt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ih("child","path",e,!1)):Ih("child","path",t,!1),new Br(n._repo,un(n._path,t));var e}function _p(n,t){n=(0,F.m9)(n),Ts("set",n._path),No("set",t,n._path,!1);const e=new F.BH;return sl(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function CD(n,t){jv("update",t,n._path,!1);const e=new F.BH;return function yD(n,t,e,s){ga(n,"update",{path:t.toString(),value:e});let a=!0;const u=Lc(n),p={};if(dr(e,(m,w)=>{a=!1,p[m]=Gm(un(t,m),Dn(w),n.serverSyncTree_,u)}),a)Cr("update() called with empty data.  Don't do anything."),ol(0,s,"ok",void 0);else{const m=pp(n),w=function rr(n,t,e,s){!function dD(n,t,e,s){(0,F.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=ym(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=cn.fromObject(e);return xc(n,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,m);fp(n.eventQueue_,w),n.server_.merge(t.toString(),e,(b,O)=>{const M="ok"===b;M||cr("update at "+t+" failed: "+b);const $=fa(n.serverSyncTree_,m,!M),X=$.length>0?gu(n,t):t;Ss(n.eventQueue_,X,$),ol(0,s,b,O)}),dr(e,b=>{const O=mp(n,un(t,b));gu(n,O)}),Ss(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ID(n){return function zw(n,t){const e=function Ov(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(b,O)=>{const M=Ir(b,e);s=s||da(O,M)});let a=n.syncPointTree_.get(e);a?s=s||da(a,Wt()):(a=new rp,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=s,p=u?new Vi(s,!0,!1):null;return function Aw(n){return oh(n.viewCache_)}(Nm(a,t,Oc(n.pendingWriteTree_,t._path),u?p.getNode():Et.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const a=Dn(s).withIndex(t._queryParams.getIndex()),u=_h(n.serverSyncTree_,t._path,a);return Qm(n.eventQueue_,t._path,u),Promise.resolve(a)},s=>(ga(n,"get for query "+(0,F.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}((n=(0,F.m9)(n))._repo,n).then(t=>new _u(t,new Br(n._repo,n._path),n._queryParams.getIndex()))}class c_{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Qv("value",this,new _u(t.snapshotNode,new Br(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Jv(this,t,e):null}matches(t){return t instanceof c_&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class d_{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Jv(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const s=ul(new Br(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Qv(t.type,this,new _u(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof d_&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bc(n,t,e,s,a){let u;if("object"==typeof s&&(u=void 0,a=s),"function"==typeof s&&(u=s),a&&a.onlyOnce){const w=e,b=(O,M)=>{s_(n._repo,n,m),w(O,M)};b.userCallback=e.userCallback,b.context=e.context,e=b}const p=new bh(e,u||void 0),m="value"===t?new c_(p):new d_(t,p);return function at(n,t,e){let s;s=".info"===Pt(t._path)?Mv(n.infoSyncTree_,t,e):Mv(n.serverSyncTree_,t,e),Qm(n.eventQueue_,t._path,s)}(n._repo,n,m),()=>s_(n._repo,n,m)}function Vc(n,t,e,s){return Bc(n,"value",t,e,s)}function nE(n,t,e,s){return Bc(n,"child_added",t,e,s)}function rE(n,t,e,s){return Bc(n,"child_changed",t,e,s)}function h_(n,t,e,s){return Bc(n,"child_moved",t,e,s)}function jc(n,t,e,s){return Bc(n,"child_removed",t,e,s)}function iE(n,t,e){let s=null;const a=e?new bh(e):null;"value"===t?s=new c_(a):t&&(s=new d_(t,a)),s_(n._repo,n,s)}class Xs{}class sE extends Xs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("endAt",this._value,t._path,!0);const e=pm(t._queryParams,this._value,this._key);if(ll(e),al(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class nC extends Xs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("endBefore",this._value,t._path,!1);const e=function yw(n,t,e){let s,a;return n.index_===ys?("string"==typeof t&&(t=Es(t)),a=pm(n,t,e)):(s=null==e?Za:Es(e),a=pm(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(ll(e),al(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class aE extends Xs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("startAt",this._value,t._path,!0);const e=fm(t._queryParams,this._value,this._key);if(ll(e),al(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class Hc extends Xs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("startAfter",this._value,t._path,!1);const e=function _w(n,t,e){let s;if(n.index_===ys)"string"==typeof t&&(t=fw(t)),s=fm(n,t,e);else{let a;a=null==e?Po:fw(e),s=fm(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(ll(e),al(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class lE extends Xs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function hm(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class uE extends Xs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function mw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class cE extends Xs{constructor(t){super(),this._path=t}_apply(t){Th(t,"orderByChild");const e=new nn(this._path);if(Mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new um(e),a=Kf(t._queryParams,s);return al(a),new ii(t._repo,t._path,a,!0)}}class f_ extends Xs{_apply(t){Th(t,"orderByKey");const e=Kf(t._queryParams,ys);return al(e),new ii(t._repo,t._path,e,!0)}}class dE extends Xs{_apply(t){Th(t,"orderByPriority");const e=Kf(t._queryParams,Ut);return al(e),new ii(t._repo,t._path,e,!0)}}class uC extends Xs{_apply(t){Th(t,"orderByValue");const e=Kf(t._queryParams,sv);return al(e),new ii(t._repo,t._path,e,!0)}}class dC extends Xs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(No("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sE(this._value,this._key)._apply(new aE(this._value,this._key)._apply(t))}}function eo(n,...t){let e=(0,F.m9)(n);for(const s of t)e=s._apply(e);return e}(function Pw(n){(0,F.hu)(!ph,"__referenceConstructor has already been defined"),ph=n})(Br),function _D(n){(0,F.hu)(!mh,"__referenceConstructor has already been defined"),mh=n}(Br);const g_={};function gE(n,t,e,s,a){let u=s||n.options.databaseURL;void 0===u&&(n.options.projectId||Ui("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cr("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,b,p=mu(u,a),m=p.repoInfo;"undefined"!=typeof process&&process.env&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(w=!0,u=`http://${b}?ns=${m.namespace}`,p=mu(u,a),m=p.repoInfo):w=!p.repoInfo.secure;const O=a&&w?new kf(kf.OWNER):new aD(n.name,n.options,t);Hv("Invalid Firebase Database URL",p),Mt(p.path)||Ui("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function pC(n,t,e,s){let a=g_[t.name];a||(a={},g_[t.name]=a);let u=a[n.toURLString()];return u&&Ui("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new zv(n,false,e,s),a[n.toURLString()]=u,u}(m,n,O,new oD(n.name,e));return new mC(M,n)}class mC{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Gv(n,t,e){if(n.stats_=su(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qf(n.repoInfo_,(s,a,u,p)=>{t_(n,s,a,u,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>n_(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new la(n.repoInfo_,t,(s,a,u,p)=>{t_(n,s,a,u,p)},s=>{n_(n,s)},s=>{!function Kv(n,t){dr(t,(e,s)=>{pa(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function yc(n,t){const e=n.toString();return Gg[e]||(Gg[e]=t()),Gg[e]}(n.repoInfo_,()=>new gm(n.stats_,n.server_)),n.infoData_=new nh,n.infoSyncTree_=new Um({startListening:(s,a,u,p)=>{let m=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(m=_h(n.infoSyncTree_,s._path,w),setTimeout(()=>{p("ok")},0)),m},stopListening:()=>{}}),pa(n,"connected",!1),n.serverSyncTree_=new Um({startListening:(s,a,u,p)=>(n.server_.listen(s,u,a,(m,w)=>{const b=p(m,w);Ss(n.eventQueue_,s._path,b)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Br(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fC(n,t){const e=g_[t];(!e||e[n.key]!==n)&&Ui(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Zv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ui("Cannot call "+t+" on a deleted database.")}}function _E(n,t){Of(n,t)}const wC={".sv":"timestamp"};class __{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}la.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},la.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function EC(n){gt(nu.SDK_VERSION),(0,nu._registerComponent)(new eu.wA("database",(t,{instanceIdentifier:e})=>gE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,nu.registerVersion)(Iy,"0.12.8",n),(0,nu.registerVersion)(Iy,"0.12.8","esm2017")}();const DC=new Vd.Yd("@firebase/database-compat"),EE=function(n){DC.warn("FIREBASE WARNING: "+n)};class TC{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),u=>s(u)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,EE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class CE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class yu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ih("DataSnapshot.child","path",t,!1),new yu(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ih("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new yu(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class br{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var u;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=br.getCancelAndContextArgs_("Query.on",s,a),m=(b,O)=>{e.call(p.context,new yu(this.database,b),O)};m.userCallback=e,m.context=p.context;const w=null===(u=p.cancel)||void 0===u?void 0:u.bind(p.context);switch(t){case"value":return Vc(this._delegate,m,w),e;case"child_added":return nE(this._delegate,m,w),e;case"child_removed":return jc(this._delegate,m,w),e;case"child_changed":return rE(this._delegate,m,w),e;case"child_moved":return h_(this._delegate,m,w),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,iE(this._delegate,t,a)}else iE(this._delegate,t)}get(){return ID(this._delegate).then(t=>new yu(this.database,t))}once(t,e,s,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const u=br.getCancelAndContextArgs_("Query.once",s,a),p=new F.BH,m=(b,O)=>{const M=new yu(this.database,b);e&&e.call(u.context,M,O),p.resolve(M)};m.userCallback=e,m.context=u.context;const w=b=>{u.cancel&&u.cancel.call(u.context,b),p.reject(b)};switch(t){case"value":Vc(this._delegate,m,w,{onlyOnce:!0});break;case"child_added":nE(this._delegate,m,w,{onlyOnce:!0});break;case"child_removed":jc(this._delegate,m,w,{onlyOnce:!0});break;case"child_changed":rE(this._delegate,m,w,{onlyOnce:!0});break;case"child_moved":h_(this._delegate,m,w,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new br(this.database,eo(this._delegate,function sC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lE(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new br(this.database,eo(this._delegate,function oC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uE(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new br(this.database,eo(this._delegate,function aC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ih("orderByChild","path",n,!1),new cE(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new br(this.database,eo(this._delegate,function lC(){return new f_}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new br(this.database,eo(this._delegate,function hE(){return new dE}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new br(this.database,eo(this._delegate,function cC(){return new uC}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new br(this.database,eo(this._delegate,function rC(n=null,t){return Ch("startAt","key",t,!0),new aE(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new br(this.database,eo(this._delegate,function iC(n,t){return Ch("startAfter","key",t,!0),new Hc(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new br(this.database,eo(this._delegate,function tC(n,t){return Ch("endAt","key",t,!0),new sE(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new br(this.database,eo(this._delegate,function oE(n,t){return Ch("endBefore","key",t,!0),new nC(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new br(this.database,eo(this._delegate,function p_(n,t){return Ch("equalTo","key",t,!0),new dC(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof br))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Vr(this.database,new Br(this._delegate._repo,this._delegate._path))}}class Vr extends br{constructor(t,e){super(t,new ii(e._repo,e._path,new eh,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Vr(this.database,ul(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Vr(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Vr(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=_p(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,EE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ts("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=CD(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function eC(n,t,e){if(Ts("setWithPriority",n._path),No("setWithPriority",t,n._path,!1),Ym("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new F.BH;return sl(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),u=>s(u)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function Jw(n){return Ts("remove",n._path),_p(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function yE(n,t,e){var s;if(n=(0,F.m9)(n),Ts("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,u=new F.BH,m=Vc(n,()=>{});return function gp(n,t,e,s,a,u){ga(n,"transaction on "+t);const p={path:t,update:e,onComplete:s,status:null,order:Ty(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=Uc(n,t,void 0);p.currentInputSnapshot=m;const w=p.update(m.val());if(void 0===w)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{wh("transaction failed: Data returned ",w,p.path),p.status=0;const b=fu(n.transactionQueueTree_,t),O=pu(b)||[];let M;O.push(p),up(b,O),"object"==typeof w&&null!==w&&(0,F.r3)(w,".priority")?(M=(0,F.DV)(w,".priority"),(0,F.hu)(Eh(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(sp(n.serverSyncTree_,t)||Et.EMPTY_NODE).getPriority().val();const $=Lc(n),X=Dn(w,M),de=Km(X,m,$);p.currentOutputSnapshotRaw=X,p.currentOutputSnapshotResolved=de,p.currentWriteId=pp(n);const Me=Bm(n.serverSyncTree_,t,de,p.currentWriteId,p.applyLocally);Ss(n.eventQueue_,t,Me),yn(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,b,O)=>{let M=null;w?u.reject(w):(M=new _u(O,new Br(n._repo,n._path),Ut),u.resolve(new __(b,M)))},m,a),u.promise}(this._delegate,t,{applyLocally:s}).then(u=>new CE(u.committed,new yu(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function Xw(n,t){n=(0,F.m9)(n),Ts("setPriority",n._path),Ym("setPriority",t,!1);const e=new F.BH;return sl(n._repo,un(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function tE(n,t){n=(0,F.m9)(n),Ts("push",n._path),No("push",t,n._path,!0);const e=e_(n._repo),s=av(e),a=ul(n,s),u=ul(n,s);let p;return p=null!=t?_p(u,t).then(()=>u):Promise.resolve(u),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=s.then(p=>new Vr(this.database,p));e&&a.then(()=>e(null),p=>e(p));const u=new Vr(this.database,s);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return Ts("Reference.onDisconnect",this._delegate._path),new TC(new u_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Sh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,s={}){!function mE(n,t,e,s={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ui("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Ui('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new kf(kf.OWNER);else if(s.mockUserToken){const p="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,n.app.options.projectId);u=new kf(p)}!function hC(n,t,e,s){n.repoInfo_=new $g(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,u)}(this._delegate,t,e,s)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Vr){const e=eE(this._delegate,t.toString());return new Vr(this,e)}{const e=Xv(this._delegate,t);return new Vr(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=eE(this._delegate,t);return new Vr(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function yC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),Zv(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function vC(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function Gw(n){n.persistentConnection_&&n.persistentConnection_.resume(Xm)}(n._repo)}(this._delegate)}}Sh.ServerValue={TIMESTAMP:function CC(){return wC}(),increment:n=>function m_(n){return{".sv":{increment:n}}}(n)};var Ah=Object.freeze({__proto__:null,initStandalone:function $c({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:u=!1}){gt(e);const p=new eu.zt("auth-internal",new eu.H0("database-standalone"));return p.setComponent(new eu.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Sh(gE(n,p,void 0,t,u),n),namespace:a}}});const SC=Sh.ServerValue;!function bD(n){n.INTERNAL.registerComponent(new eu.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Sh(a,s)},"PUBLIC").setServiceProps({Reference:Vr,Query:br,Database:Sh,DataSnapshot:yu,enableLogging:_E,INTERNAL:Ah,ServerValue:SC}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(Cy.Z);var Rh=N(5363),AC=N(6063);class RC extends $n.x{constructor(t=1/0,e=1/0,s=AC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:p}=this;e||(s.push(t),!a&&s.push(u.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,u=a.slice();for(let p=0;p<u.length&&!t.closed;p+=s?1:2)t.next(u[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,u=(a?1:2)*t;if(t<1/0&&u<s.length&&s.splice(0,s.length-u),!a){const p=e.now();let m=0;for(let w=1;w<s.length&&s[w]<=p;w+=2)m=w;m&&s.splice(0,m+1)}}}function IE(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=null!=n?n:1/0,(0,V0.B)({connector:()=>new RC(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function DE(n,t){return(0,Zo.m)(t)?fn(()=>n,t):fn(()=>n)}var yp=N(9468);N(5867);const w_=new Map,xC={activated:!1,tokenObservers:[]},PD={initialized:!1,enabled:!1};function ir(n){return w_.get(n)||xC}function xo(n,t){w_.set(n,t)}function Oh(){return PD}class BC{constructor(t,e,s,a,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,tu.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function VC(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const si=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zc(n){if(!ir(n).activated)throw si.create("use-before-activation",{appName:n.name})}function Dp(n,t){return bp.apply(this,arguments)}function bp(){return(bp=(0,tu.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const M=yield a.getHeartbeatsHeader();M&&(s["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(t),headers:s};let p,m;try{p=yield fetch(n,u)}catch(M){throw si.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==p.status)throw si.create("fetch-status-error",{httpStatus:p.status});try{m=yield p.json()}catch(M){throw si.create("fetch-parse-error",{originalErrorMessage:M.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(w[1]),O=Date.now();return{token:m.attestationToken,expireTimeMillis:O+b,issuedAtTimeMillis:O}})).apply(this,arguments)}function WC(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const kh="firebase-app-check-store";let cl=null;function AE(){return cl||(cl=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(si.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(kh,{keyPath:"compositeKey"})}}catch(e){t(si.create("storage-open",{originalErrorMessage:e.message}))}}),cl)}function D_(){return(D_=(0,tu.Z)(function*(n,t){const s=(yield AE()).transaction(kh,"readwrite"),u=s.objectStore(kh).put({compositeKey:n,value:t});return new Promise((p,m)=>{u.onsuccess=w=>{p()},s.onerror=w=>{var b;m(si.create("storage-set",{originalErrorMessage:null===(b=w.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const dl=new Vd.Yd("@firebase/app-check");function S_(n,t){return(0,F.hl)()?function ko(n,t){return function Gc(n,t){return D_.apply(this,arguments)}(function Fh(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{dl.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function A_(){return Oh().enabled}function ME(){return R_.apply(this,arguments)}function R_(){return(R_=(0,tu.Z)(function*(){const n=Oh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const P_={error:"UNKNOWN_ERROR"};function M_(n){return F.US.encodeString(JSON.stringify(n),!1)}function Uh(n){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,tu.Z)(function*(n,t=!1){const e=n.app;zc(e);const s=ir(e);let u,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&jh(w)&&(a=w)}if(!t&&a&&jh(a))return{token:a.token};let m,p=!1;if(A_()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Dp(WC(e,yield ME()),n.heartbeatServiceProvider).then(b=>(s.exchangeTokenPromise=void 0,b)),p=!0);const w=yield s.exchangeTokenPromise;return yield S_(e,w),xo(e,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),p=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?dl.warn(w.message):dl.error(w),u=w}return a?(m={token:a.token},xo(e,Object.assign(Object.assign({},s),{token:a})),yield S_(e,a)):m=N_(u),p&&NE(e,m),m})).apply(this,arguments)}function O_(n,t){const e=ir(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),xo(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function OE(n){const{app:t}=n,e=ir(t);let s=e.tokenRefresher;s||(s=function ZC(n){const{app:t}=n;return new BC((0,tu.Z)(function*(){let s;if(s=ir(t).token?yield Uh(n,!0):yield Uh(n),s.error)throw s.error}),()=>!0,()=>{const e=ir(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),xo(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function NE(n,t){const e=ir(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(a){}}function jh(n){return n.expireTimeMillis-Date.now()>0}function N_(n){return{token:M_(P_),error:n}}class xE{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ir(this.app);for(const e of t)O_(this.app,e.next);return Promise.resolve()}}const L_="app-check-internal";!function nI(){(0,nu._registerComponent)(new eu.wA("app-check",n=>function YC(n,t){return new xE(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(L_).initialize()})),(0,nu._registerComponent)(new eu.wA(L_,n=>function kE(n){return{getToken:t=>Uh(n,t),addTokenListener:t=>function Vh(n,t,e,s){const{app:a}=n,u=ir(a),p={next:e,error:s,type:t};if(xo(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,p]})),u.token&&jh(u.token)){const m=u.token;Promise.resolve().then(()=>{e({token:m.token}),OE(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>OE(n))}(n,"INTERNAL",t),removeTokenListener:t=>O_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nu.registerVersion)("@firebase/app-check","0.5.6")}();class Ap{constructor(){return(0,Rn.vb)("app-check")}}"undefined"!=typeof window&&window;var B_=N(127);const V_=new y.OlP("angularfire2.auth.use-emulator"),j_=new y.OlP("angularfire2.auth.settings"),qE=new y.OlP("angularfire2.auth.tenant-id"),ZE=new y.OlP("angularfire2.auth.langugage-code"),aI=new y.OlP("angularfire2.auth.use-device-language"),H_=new y.OlP("angularfire.auth.persistence"),lI=(n,t,e,s,a,u,p,m)=>(0,ms.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,u&&w.useDeviceLanguage(),p)for(const[b,O]of Object.entries(p))w.settings[b]=O;return m&&w.setPersistence(m),w},[e,s,a,u,p,m]);let YE=(()=>{class n{constructor(e,s,a,u,p,m,w,b,O,M,$,X){const de=new $n.x,Me=ot(void 0).pipe((0,Rh.Q)(p.outsideAngular),fn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,820)))),(0,Ft.U)(()=>(0,ms.on)(e,u,s)),(0,Ft.U)(Ke=>lI(Ke,u,m,b,O,M,w,$)),IE({bufferSize:1,refCount:!1}));if(function qn(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{Me.pipe(ds()).subscribe();const xt=Me.pipe(fn(Tt=>Tt.getRedirectResult().then(Tr=>Tr,()=>null)),Rn.iC,IE({bufferSize:1,refCount:!1})),wt=Me.pipe(fn(Tt=>new Or.y(Tr=>({unsubscribe:u.runOutsideAngular(()=>Tt.onAuthStateChanged($r=>Tr.next($r),$r=>Tr.error($r),()=>Tr.complete()))})))),sn=Me.pipe(fn(Tt=>new Or.y(Tr=>({unsubscribe:u.runOutsideAngular(()=>Tt.onIdTokenChanged($r=>Tr.next($r),$r=>Tr.error($r),()=>Tr.complete()))}))));this.authState=xt.pipe(DE(wt),(0,yp.R)(p.outsideAngular),(0,Rh.Q)(p.insideAngular)),this.user=xt.pipe(DE(sn),(0,yp.R)(p.outsideAngular),(0,Rh.Q)(p.insideAngular)),this.idToken=this.user.pipe(fn(Tt=>Tt?(0,Jn.D)(Tt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(fn(Tt=>Tt?(0,Jn.D)(Tt.getIdTokenResult()):ot(null))),this.credential=(0,Pf.T)(xt,de,this.authState.pipe(js(Tt=>!Tt))).pipe((0,Ft.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,yp.R)(p.outsideAngular),(0,Rh.Q)(p.insideAngular))}return(0,ms.pX)(this,Me,u,{spy:{apply:(Ke,xt,wt)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&wt.then(sn=>de.next(sn))}}})}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ms.Dh),y.LFG(ms.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Rn.HU),y.LFG(V_,8),y.LFG(j_,8),y.LFG(qE,8),y.LFG(ZE,8),y.LFG(aI,8),y.LFG(H_,8),y.LFG(Ap,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HD=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",Rn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[YE]}),n})();function uI(n){return null==n}function cI(n){return"function"==typeof n.set}function dI(n,t){return cI(t)?t:n.ref(t)}function Wh(n,t){if(function $D(n){return"string"==typeof n}(n))return t.stringCase();if(cI(n))return t.firebaseCase();if(function WD(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rp(n,t,e="on",s=Rg.z){return new Or.y(a=>{let u=null;return u=n[e](t,(p,m)=>{s.schedule(()=>{a.next({snapshot:p,prevKey:m})}),"once"===e&&s.schedule(()=>a.complete())},p=>{s.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,Ft.U)(a=>{const{snapshot:u,prevKey:p}=a;let m=null;return u.exists()&&(m=u.key),{type:t,payload:u,prevKey:p,key:m}}),(0,V0.B)())}function Pp(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function XE(n,t){const{payload:e,prevKey:s,key:a}=t,u=Pp(n,a),p=function JE(n,t){if(uI(t))return 0;{const e=Pp(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(w=>{const b={payload:w,type:"value",prevKey:m,key:w.key};return m=w.key,n=[...n,b],!1})}return n;case"child_added":if(u>-1){const m=n[u-1];(m&&m.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(p,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===a?t:m);case"child_moved":if(u>-1){const m=n.splice(u,1)[0];return(n=n.slice()).splice(p,0,m),n}return n;default:return n}}function hI(n){return(uI(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Mp(n,t,e){return function QE(n,t,e){return Rp(n,"value","once",e).pipe(fn(s=>{const a=[ot(s)];return t.forEach(u=>a.push(Rp(n,u,"on",e))),(0,Pf.T)(...a).pipe(ar(XE,[]))}),function Ey(n,t=Er.y){return n=null!=n?n:j0,(0,Xn.e)((e,s)=>{let a,u=!0;e.subscribe((0,In.x)(s,p=>{const m=t(p);(u||!n(a,m))&&(u=!1,a=m,s.next(p))}))})}())}(n,t=hI(t),e)}function $_(n,t,e){const s=(t=hI(t)).map(a=>Rp(n,a,"on",e));return(0,Pf.T)(...s)}function t0(n,t){return function(s,a){return Wh(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function pI(n){return function(e){return e?Wh(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function n0(n,t){return function(){return Rp(n,"value","on",t)}}const KD=new y.OlP("angularfire2.realtimeDatabaseURL"),qD=new y.OlP("angularfire2.database.use-emulator");let gI=(()=>{class n{constructor(e,s,a,u,p,m,w,b,O,M,$,X,de,Me,Ke){this.schedulers=m;const xt=w,wt=(0,ms.on)(e,p,s);b&&lI(wt,p,O,$,X,de,M,Me),this.database=(0,ms.cc)(`${wt.name}.database.${a}`,"AngularFireDatabase",wt.name,()=>{const sn=p.runOutsideAngular(()=>wt.database(a||void 0));return xt&&sn.useEmulator(...xt),sn},[xt])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>dI(this.database,e));let u=a;return s&&(u=s(a)),function W_(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:t0(s,"update"),set:t0(s,"set"),push:a=>s.push(a),remove:pI(s),snapshotChanges:a=>Mp(n,a,e).pipe(Rn.iC),stateChanges:a=>$_(n,a,e).pipe(Rn.iC),auditTrail:a=>function fI(n,t,e){return function zD(n,t,e){return function e0(n,t){return Rp(n,"value","on",t).pipe((0,Ft.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function H0(...n){const t=(0,Cn.jO)(n);return(0,Xn.e)((e,s)=>{const a=n.length,u=new Array(a);let p=n.map(()=>!1),m=!1;for(let w=0;w<a;w++)(0,_o.Xf)(n[w]).subscribe((0,In.x)(s,b=>{u[w]=b,!m&&!p[w]&&(p[w]=!0,(m=p.every(Er.y))&&(p=null))},wy.Z));e.subscribe((0,In.x)(s,w=>{if(m){const b=[w,...u];s.next(t?t(...b):b)}}))})}(t),(0,Ft.U)(([a,u])=>{const p=a.lastKeyToLoad,m=u.map(w=>w.key);return{actions:u,lastKeyToLoad:p,loadedKeys:m}}),function $0(n){return(0,Xn.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,In.x)(e,u=>(s||(s=!n(u,a++)))&&e.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ft.U)(a=>a.actions))}(n,$_(n,t).pipe(ar((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(Rn.iC),valueChanges:(a,u)=>Mp(n,a,e).pipe((0,Ft.U)(m=>m.map(w=>u&&u.idField?Object.assign(Object.assign({},w.payload.val()),{[u.idField]:w.key}):w.payload.val())),Rn.iC)}}(u,this)}object(e){return function GD(n,t){return{query:n,snapshotChanges:()=>n0(n,t.schedulers.outsideAngular)().pipe(Rn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>n0(n,t.schedulers.outsideAngular)().pipe(Rn.iC,(0,Ft.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dI(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(ms.Dh),y.LFG(ms.xv,8),y.LFG(KD,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Rn.HU),y.LFG(qD,8),y.LFG(YE,8),y.LFG(V_,8),y.LFG(j_,8),y.LFG(qE,8),y.LFG(ZE,8),y.LFG(aI,8),y.LFG(H_,8),y.LFG(Ap,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mI=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",Rn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[gI]}),n})();const r0_firebase={apiKey:"AIzaSyBcm_PfHti8Q9wSD_5NmQUUlXtYTP0uthg",authDomain:"hadinayebigh.firebaseapp.com",projectId:"hadinayebigh",storageBucket:"hadinayebigh.appspot.com",messagingSenderId:"893974835307",appId:"1:893974835307:web:5eea914958c6895bd8012e",measurementId:"G-J6JN9XL81Q"};class _I{}const to="*";function Op(n,t=null){return{type:2,steps:n,options:t}}function s0(n){return{type:6,styles:n,offset:null}}function a0(n){Promise.resolve(null).then(n)}class Eu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){a0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class As{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,a=0;const u=this.players.length;0==u?a0(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++e==u&&this._onFinish()}),p.onDestroy(()=>{++s==u&&this._onDestroy()}),p.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((p,m)=>Math.max(p,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(a)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}const Bt=!1;function G_(n){return new y.vHH(3e3,Bt)}function m0(){return"undefined"!=typeof window&&void 0!==window.document}function zh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lo(n){switch(n.length){case 0:return new Eu;case 1:return n[0];default:return new As(n)}}function _0(n,t,e,s,a={},u={}){const p=[],m=[];let w=-1,b=null;if(s.forEach(O=>{const M=O.offset,$=M==w,X=$&&b||{};Object.keys(O).forEach(de=>{let Me=de,Ke=O[de];if("offset"!==de)switch(Me=t.normalizePropertyName(Me,p),Ke){case"!":Ke=a[de];break;case to:Ke=u[de];break;default:Ke=t.normalizeStyleValue(de,Me,Ke,p)}X[Me]=Ke}),$||m.push(X),b=X,w=M}),p.length)throw function NI(n){return new y.vHH(3502,Bt)}();return m}function Gh(n,t,e,s){switch(t){case"start":n.onStart(()=>s(e&&Kh(e,"start",n)));break;case"done":n.onDone(()=>s(e&&Kh(e,"done",n)));break;case"destroy":n.onDestroy(()=>s(e&&Kh(e,"destroy",n)))}}function Kh(n,t,e){const s=e.totalTime,u=Zc(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==s?n.totalTime:s,!!e.disabled),p=n._data;return null!=p&&(u._data=p),u}function Zc(n,t,e,s,a="",u=0,p){return{element:n,triggerName:t,fromState:e,toState:s,phaseName:a,totalTime:u,disabled:!!p}}function Rs(n,t,e){let s;return n instanceof Map?(s=n.get(t),s||n.set(t,s=e)):(s=n[t],s||(s=n[t]=e)),s}function UI(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let y0=(n,t)=>!1,BI=(n,t,e)=>[],q_=null;function Z_(n){const t=n.parentNode||n.host;return t===q_?null:t}(zh()||"undefined"!=typeof Element)&&(m0()?(q_=(()=>document.documentElement)(),y0=(n,t)=>{for(;t;){if(t===n)return!0;t=Z_(t)}return!1}):y0=(n,t)=>n.contains(t),BI=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const s=n.querySelector(t);return s?[s]:[]});let Cu=null,Y_=!1;function Q_(n){Cu||(Cu=function v0(){return"undefined"!=typeof document?document.body:null}()||{},Y_=!!Cu.style&&"WebkitAppearance"in Cu.style);let t=!0;return Cu.style&&!function VI(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cu.style,!t&&Y_&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cu.style)),t}const E0=y0,w0=BI;let kp=(()=>{class n{validateStyleProperty(e){return Q_(e)}matchesElement(e,s){return!1}containsElement(e,s){return E0(e,s)}getParentElement(e){return Z_(e)}query(e,s,a){return w0(e,s,a)}computeStyle(e,s,a){return a||""}animate(e,s,a,u,p,m=[],w){return new Eu(a,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),C0=(()=>{class n{}return n.NOOP=new kp,n})();const J_="ng-enter",X_="ng-leave",ey="ng-trigger",Lp=".ng-trigger",D0="ng-animating",b0=".ng-animating";function Yc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:T0(parseFloat(t[1]),t[2])}function T0(n,t){return"s"===t?1e3*n:n}function ty(n,t,e){return n.hasOwnProperty("duration")?n:function cb(n,t,e){let a,u=0,p="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(G_()),{duration:0,delay:0,easing:""};a=T0(parseFloat(m[1]),m[2]);const w=m[3];null!=w&&(u=T0(parseFloat(w),m[4]));const b=m[5];b&&(p=b)}else a=n;if(!e){let m=!1,w=t.length;a<0&&(t.push(function CI(){return new y.vHH(3100,Bt)}()),m=!0),u<0&&(t.push(function II(){return new y.vHH(3101,Bt)}()),m=!0),m&&t.splice(w,0,G_())}return{duration:a,delay:u,easing:p}}(n,t,e)}function Qc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Iu(n,t,e={}){if(t)for(let s in n)e[s]=n[s];else Qc(n,e);return e}function WI(n,t,e){return e?t+":"+e+";":""}function zI(n){let t="";for(let e=0;e<n.style.length;e++){const s=n.style.item(e);t+=WI(0,s,n.style.getPropertyValue(s))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=WI(0,A(e),n.style[e]));n.setAttribute("style",t)}function r(n,t,e){n.style&&(Object.keys(t).forEach(s=>{const a=S(s);e&&!e.hasOwnProperty(s)&&(e[s]=n.style[a]),n.style[a]=t[s]}),zh()&&zI(n))}function i(n,t){n.style&&(Object.keys(t).forEach(e=>{const s=S(e);n.style[s]=""}),zh()&&zI(n))}function o(n){return Array.isArray(n)?1==n.length?n[0]:Op(n):n}const c=new RegExp("{{\\s*(.+?)\\s*}}","g");function h(n){let t=[];if("string"==typeof n){let e;for(;e=c.exec(n);)t.push(e[1]);c.lastIndex=0}return t}function _(n,t,e){const s=n.toString(),a=s.replace(c,(u,p)=>{let m=t[p];return t.hasOwnProperty(p)||(e.push(function DI(n){return new y.vHH(3003,Bt)}()),m=""),m.toString()});return a==s?n:a}function E(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const C=/-+([a-z0-9])/g;function S(n){return n.replace(C,(...t)=>t[1].toUpperCase())}function A(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function G(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function tb(n){return new y.vHH(3004,Bt)}()}}function ge(n,t){return window.getComputedStyle(n)[t]}function Du(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function ny(n,t,e){if(":"==n[0]){const w=function ry(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(function rb(n){return new y.vHH(3016,Bt)}()),"* => *"}}(n,e);if("function"==typeof w)return void t.push(w);n=w}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(function nb(n){return new y.vHH(3015,Bt)}()),t;const a=s[1],u=s[2],p=s[3];t.push(Up(a,p));"<"==u[0]&&!("*"==a&&"*"==p)&&t.push(Up(p,a))}(s,e,t)):e.push(n),e}const Jc=new Set(["true","1"]),Xc=new Set(["false","0"]);function Up(n,t){const e=Jc.has(n)||Xc.has(n),s=Jc.has(t)||Xc.has(t);return(a,u)=>{let p="*"==n||n==a,m="*"==t||t==u;return!p&&e&&"boolean"==typeof a&&(p=a?Jc.has(n):Xc.has(n)),!m&&s&&"boolean"==typeof u&&(m=u?Jc.has(t):Xc.has(t)),p&&m}}const iy=new RegExp("s*:selfs*,?","g");function qh(n,t,e,s){return new kb(n).build(t,e,s)}class kb{constructor(t){this._driver=t}build(t,e,s){const a=new Ub(e);this._resetContextStyleTimingState(a);const u=G(this,o(t),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,a=e.depCount=0;const u=[],p=[];return"@"==t.name.charAt(0)&&e.errors.push(function bI(){return new y.vHH(3006,Bt)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const w=m,b=w.name;b.toString().split(/\s*,\s*/).forEach(O=>{w.name=O,u.push(this.visitState(w,e))}),w.name=b}else if(1==m.type){const w=this.visitTransition(m,e);s+=w.queryCount,a+=w.depCount,p.push(w)}else e.errors.push(function TI(){return new y.vHH(3007,Bt)}())}),{type:7,name:t.name,states:u,transitions:p,queryCount:s,depCount:a,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(s.containsDynamicStyles){const u=new Set,p=a||{};s.styles.forEach(m=>{if(S0(m)){const w=m;Object.keys(w).forEach(b=>{h(w[b]).forEach(O=>{p.hasOwnProperty(O)||u.add(O)})})}}),u.size&&(E(u.values()),e.errors.push(function SI(n,t){return new y.vHH(3008,Bt)}()))}return{type:0,name:t.name,style:s,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=G(this,o(t.animation),e);return{type:1,matchers:Du(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:Zh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>G(this,s,e)),options:Zh(t.options)}}visitGroup(t,e){const s=e.currentTime;let a=0;const u=t.steps.map(p=>{e.currentTime=s;const m=G(this,p,e);return a=Math.max(a,e.currentTime),m});return e.currentTime=a,{type:3,steps:u,options:Zh(t.options)}}visitAnimate(t,e){const s=function Vb(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GI(ty(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=GI(0,0,"");return u.dynamic=!0,u.strValue=e,u}const a=ty(e,t);return GI(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let a,u=t.styles?t.styles:s0({});if(5==u.type)a=this.visitKeyframes(u,e);else{let p=t.styles,m=!1;if(!p){m=!0;const b={};s.easing&&(b.easing=s.easing),p=s0(b)}e.currentTime+=s.duration+s.delay;const w=this.visitStyle(p,e);w.isEmptyStep=m,a=w}return e.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(p=>{"string"==typeof p?p==to?s.push(p):e.errors.push(function c0(n){return new y.vHH(3002,Bt)}()):s.push(p)}):s.push(t.styles);let a=!1,u=null;return s.forEach(p=>{if(S0(p)){const m=p,w=m.easing;if(w&&(u=w,delete m.easing),!a)for(let b in m)if(m[b].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let a=e.currentTime,u=e.currentTime;s&&u>0&&(u-=s.duration+s.delay),t.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete p[m],void e.unsupportedCSSPropertiesFound.add(m);const w=e.collectedStyles[e.currentQuerySelector],b=w[m];let O=!0;b&&(u!=a&&u>=b.startTime&&a<=b.endTime&&(e.errors.push(function K_(n,t,e,s,a){return new y.vHH(3010,Bt)}()),O=!1),u=b.startTime),O&&(w[m]={startTime:u,endTime:a}),e.options&&function l(n,t,e){const s=t.params||{},a=h(n);a.length&&a.forEach(u=>{s.hasOwnProperty(u)||e.push(function l0(n){return new y.vHH(3001,Bt)}())})}(p[m],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function h0(){return new y.vHH(3011,Bt)}()),s;let u=0;const p=[];let m=!1,w=!1,b=0;const O=t.steps.map(xt=>{const wt=this._makeStyleAst(xt,e);let sn=null!=wt.offset?wt.offset:function Bb(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(S0(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(S0(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(wt.styles),Tt=0;return null!=sn&&(u++,Tt=wt.offset=sn),w=w||Tt<0||Tt>1,m=m||Tt<b,b=Tt,p.push(Tt),wt});w&&e.errors.push(function AI(){return new y.vHH(3012,Bt)}()),m&&e.errors.push(function f0(){return new y.vHH(3200,Bt)}());const M=t.steps.length;let $=0;u>0&&u<M?e.errors.push(function p0(){return new y.vHH(3202,Bt)}()):0==u&&($=1/(M-1));const X=M-1,de=e.currentTime,Me=e.currentAnimateTimings,Ke=Me.duration;return O.forEach((xt,wt)=>{const sn=$>0?wt==X?1:$*wt:p[wt],Tt=sn*Ke;e.currentTime=de+Me.delay+Tt,Me.duration=Tt,this._validateStyleAst(xt,e),xt.offset=sn,s.styles.push(xt)}),s}visitReference(t,e){return{type:8,animation:G(this,o(t.animation),e),options:Zh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Zh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Zh(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[u,p]=function Fb(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(iy,"")),n=n.replace(/@\*/g,Lp).replace(/@\w+/g,e=>Lp+"-"+e.substr(1)).replace(/:animating/g,b0),[n,t]}(t.selector);e.currentQuerySelector=s.length?s+" "+u:u,Rs(e.collectedStyles,e.currentQuerySelector,{});const m=G(this,o(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:m,originalSelector:t.selector,options:Zh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RI(){return new y.vHH(3013,Bt)}());const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:ty(t.timings,e.errors,!0);return{type:12,animation:G(this,o(t.animation),e),timings:s,options:null}}}class Ub{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function S0(n){return!Array.isArray(n)&&"object"==typeof n}function Zh(n){return n?(n=Qc(n)).params&&(n.params=function Lb(n){return n?Qc(n):null}(n.params)):n={},n}function GI(n,t,e){return{duration:n,delay:t,easing:e}}function KI(n,t,e,s,a,u,p=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:s,duration:a,delay:u,totalTime:a+u,easing:p,subTimeline:m}}class A0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $b=new RegExp(":enter","g"),zb=new RegExp(":leave","g");function qI(n,t,e,s,a,u={},p={},m,w,b=[]){return(new Gb).buildKeyframes(n,t,e,s,a,u,p,m,w,b)}class Gb{buildKeyframes(t,e,s,a,u,p,m,w,b,O=[]){b=b||new A0;const M=new ZI(t,e,b,a,u,O,[]);M.options=w,M.currentTimeline.setStyles([p],null,M.errors,w),G(this,s,M);const $=M.timelines.filter(X=>X.containsAnimation());if(Object.keys(m).length){let X;for(let de=$.length-1;de>=0;de--){const Me=$[de];if(Me.element===e){X=Me;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([m],null,M.errors,w)}return $.length?$.map(X=>X.buildKeyframes()):[KI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.get(e.element);if(s){const a=e.createSubContext(t.options),u=e.currentTimeline.currentTime,p=this._visitSubInstructions(s,a,a.options);u!=p&&e.transformIntoNewTimeline(p)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let u=e.currentTimeline.currentTime;const p=null!=s.duration?Yc(s.duration):null,m=null!=s.delay?Yc(s.delay):null;return 0!==p&&t.forEach(w=>{const b=e.appendInstructionToTimeline(w,p,m);u=Math.max(u,b.duration+b.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),G(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let a=e;const u=t.options;if(u&&(u.params||u.delay)&&(a=e.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=R0);const p=Yc(u.delay);a.delayNextStep(p)}t.steps.length&&(t.steps.forEach(p=>G(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let a=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?Yc(t.options.delay):0;t.steps.forEach(p=>{const m=e.createSubContext(t.options);u&&m.delayNextStep(u),G(this,p,m),a=Math.max(a,m.currentTimeline.currentTime),s.push(m.currentTimeline)}),s.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return ty(e.params?_(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(s.duration),this.visitStyle(u,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,a=e.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(u):s.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,a=e.currentTimeline.duration,u=s.duration,m=e.createSubContext().currentTimeline;m.easing=s.easing,t.styles.forEach(w=>{m.forwardTime((w.offset||0)*u),m.setStyles(w.styles,w.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(a+u),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,a=t.options||{},u=a.delay?Yc(a.delay):0;u&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=R0);let p=s;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=m.length;let w=null;m.forEach((b,O)=>{e.currentQueryIndex=O;const M=e.createSubContext(t.options,b);u&&M.delayNextStep(u),b===e.element&&(w=M.currentTimeline),G(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,a=e.currentTimeline,u=t.timings,p=Math.abs(u.duration),m=p*(e.currentQueryTotal-1);let w=p*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=m-w;break;case"full":w=s.currentStaggerTime}const O=e.currentTimeline;w&&O.delayNextStep(w);const M=O.currentTime;G(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=a.currentTime-M+(a.startTime-s.currentTimeline.startTime)}}const R0={};class ZI{constructor(t,e,s,a,u,p,m,w){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=u,this.errors=p,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=R0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new P0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let a=this.options;null!=s.duration&&(a.duration=Yc(s.duration)),null!=s.delay&&(a.delay=Yc(s.delay));const u=s.params;if(u){let p=a.params;p||(p=this.options.params={}),Object.keys(u).forEach(m=>{(!e||!p.hasOwnProperty(m))&&(p[m]=_(u[m],p,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(a=>{s[a]=e[a]})}}return t}createSubContext(t=null,e,s){const a=e||this.element,u=new ZI(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=R0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},u=new Kb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,a,u,p){let m=[];if(a&&m.push(this.element),t.length>0){t=(t=t.replace($b,"."+this._enterClassName)).replace(zb,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=s);0!==s&&(b=s<0?b.slice(b.length+s,b.length):b.slice(0,s)),m.push(...b)}return!u&&0==m.length&&p.push(function PI(n){return new y.vHH(3014,Bt)}()),m}}class P0{constructor(t,e,s,a){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new P0(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||to,this._currentKeyframe[e]=to}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,a){e&&(this._previousKeyframe.easing=e);const u=a&&a.params||{},p=function qb(n,t){const e={};let s;return n.forEach(a=>{"*"===a?(s=s||Object.keys(t),s.forEach(u=>{e[u]=to})):Iu(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(p).forEach(m=>{const w=_(p[m],u,s);this._pendingStyles[m]=w,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:to),this._updateStyle(m,w)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],a=t._styleSummary[e];(!s||a.time>s.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,w)=>{const b=Iu(m,!0);Object.keys(b).forEach(O=>{const M=b[O];"!"==M?t.add(O):M==to&&e.add(O)}),s||(b.offset=w/this.duration),a.push(b)});const u=t.size?E(t.values()):[],p=e.size?E(e.values()):[];if(s){const m=a[0],w=Qc(m);m.offset=0,w.offset=1,a=[m,w]}return KI(this.element,a,u,p,this.duration,this.startTime,this.easing,!1)}}class Kb extends P0{constructor(t,e,s,a,u,p,m=!1){super(t,e,p.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],p=s+e,m=e/p,w=Iu(t[0],!1);w.offset=0,u.push(w);const b=Iu(t[0],!1);b.offset=db(m),u.push(b);const O=t.length-1;for(let M=1;M<=O;M++){let $=Iu(t[M],!1);$.offset=db((e+$.offset*s)/p),u.push($)}s=p,e=0,a="",t=u}return KI(this.element,t,this.preStyleProps,this.postStyleProps,s,e,a,!0)}}function db(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class YI{}class Zb extends YI{normalizePropertyName(t,e){return S(t)}normalizeStyleValue(t,e,s,a){let u="";const p=s.toString().trim();if(Yb[e]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const m=s.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(function u0(n,t){return new y.vHH(3005,Bt)}())}return p+u}}const Yb=(()=>function Qb(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hb(n,t,e,s,a,u,p,m,w,b,O,M,$){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:u,toState:s,toStyles:p,timelines:m,queriedElements:w,preStyleProps:b,postStyleProps:O,totalTime:M,errors:$}}const QI={};class fb{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,a){return function Jb(n,t,e,s,a){return n.some(u=>u(t,e,s,a))}(this.ast.matchers,t,e,s,a)}buildStyles(t,e,s){const a=this._stateStyles["*"],u=this._stateStyles[t],p=a?a.buildStyles(e,s):{};return u?u.buildStyles(e,s):p}build(t,e,s,a,u,p,m,w,b,O){const M=[],$=this.ast.options&&this.ast.options.params||QI,de=this.buildStyles(s,m&&m.params||QI,M),Me=w&&w.params||QI,Ke=this.buildStyles(a,Me,M),xt=new Set,wt=new Map,sn=new Map,Tt="void"===a,Tr={params:Object.assign(Object.assign({},$),Me)},$r=O?[]:qI(t,e,this.ast.animation,u,p,de,Ke,Tr,b,M);let Hi=0;if($r.forEach(Tu=>{Hi=Math.max(Tu.duration+Tu.delay,Hi)}),M.length)return hb(e,this._triggerName,s,a,Tt,de,Ke,[],[],wt,sn,Hi,M);$r.forEach(Tu=>{const Su=Tu.element,Rb=Rs(wt,Su,{});Tu.preStyleProps.forEach(Yh=>Rb[Yh]=!0);const oy=Rs(sn,Su,{});Tu.postStyleProps.forEach(Yh=>oy[Yh]=!0),Su!==e&&xt.add(Su)});const bu=E(xt.values());return hb(e,this._triggerName,s,a,Tt,de,Ke,$r,bu,wt,sn,Hi)}}class Xb{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},a=Qc(this.defaultParams);return Object.keys(t).forEach(u=>{const p=t[u];null!=p&&(a[u]=p)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const p=u;Object.keys(p).forEach(m=>{let w=p[m];w.length>1&&(w=_(w,a,e));const b=this.normalizer.normalizePropertyName(m,e);w=this.normalizer.normalizeStyleValue(m,b,w,e),s[b]=w})}}),s}}class tT{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new Xb(a.style,a.options&&a.options.params||{},s)}),pb(this.states,"true","1"),pb(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new fb(t,a,this.states))}),this.fallbackTransition=function nT(n,t,e){return new fb(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,a){return this.transitionFactories.find(p=>p.match(t,e,s,a))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function pb(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const rT=new A0;class iT{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],u=qh(this._driver,e,s,[]);if(s.length)throw function ib(n){return new y.vHH(3503,Bt)}();this._animations[t]=u}_buildPlayer(t,e,s){const a=t.element,u=_0(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const a=[],u=this._animations[t];let p;const m=new Map;if(u?(p=qI(this._driver,e,u,J_,X_,{},{},s,rT,a),p.forEach(O=>{const M=Rs(m,O.element,{});O.postStyleProps.forEach($=>M[$]=null)})):(a.push(function sb(){return new y.vHH(3300,Bt)}()),p=[]),a.length)throw function ob(n){return new y.vHH(3504,Bt)}();m.forEach((O,M)=>{Object.keys(O).forEach($=>{O[$]=this._driver.computeStyle(M,$,to)})});const b=Lo(p.map(O=>{const M=m.get(O.element);return this._buildPlayer(O,{},M)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function ab(n){return new y.vHH(3301,Bt)}();return e}listen(t,e,s,a){const u=Zc(e,"","","");return Gh(this._getPlayer(t),s,u,a),()=>{}}command(t,e,s,a){if("register"==s)return void this.register(t,a[0]);if("create"==s)return void this.create(t,e,a[0]||{});const u=this._getPlayer(t);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const gb="ng-animate-queued",JI="ng-animate-disabled",uT=[],mb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class XI{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=function pT(n){return null!=n?n:null}(s?t.value:t),s){const u=Qc(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(a=>{null==s[a]&&(s[a]=e[a])})}}}const sy="void",eD=new XI(sy);class dT{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Bo(e,this._hostClassName)}listen(t,e,s,a){if(!this._triggers.hasOwnProperty(e))throw function lb(n,t){return new y.vHH(3302,Bt)}();if(null==s||0==s.length)throw function xI(n){return new y.vHH(3303,Bt)}();if(!function gT(n){return"start"==n||"done"==n}(s))throw function xp(n,t){return new y.vHH(3400,Bt)}();const u=Rs(this._elementListeners,t,[]),p={name:e,phase:s,callback:a};u.push(p);const m=Rs(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(Bo(t,ey),Bo(t,ey+"-"+e),m[e]=eD),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(p);w>=0&&u.splice(w,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function kI(n){return new y.vHH(3401,Bt)}();return e}trigger(t,e,s,a=!0){const u=this._getTrigger(e),p=new tD(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Bo(t,ey),Bo(t,ey+"-"+e),this._engine.statesByElement.set(t,m={}));let w=m[e];const b=new XI(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&w&&b.absorbOptions(w.options),m[e]=b,w||(w=eD),b.value!==sy&&w.value===b.value){if(!function yT(n,t){const e=Object.keys(n),s=Object.keys(t);if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++){const u=e[a];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(w.params,b.params)){const Me=[],Ke=u.matchStyles(w.value,w.params,Me),xt=u.matchStyles(b.value,b.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{i(t,Ke),r(t,xt)})}return}const $=Rs(this._engine.playersByElement,t,[]);$.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==e&&Me.queued&&Me.destroy()});let X=u.matchTransition(w.value,b.value,t,b.params),de=!1;if(!X){if(!a)return;X=u.fallbackTransition,de=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:X,fromState:w,toState:b,player:p,isFallbackTransition:de}),de||(Bo(t,gb),p.onStart(()=>{jp(t,gb)})),p.onDone(()=>{let Me=this.players.indexOf(p);Me>=0&&this.players.splice(Me,1);const Ke=this._engine.playersByElement.get(t);if(Ke){let xt=Ke.indexOf(p);xt>=0&&Ke.splice(xt,1)}}),this.players.push(p),$.push(p),p}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,Lp,!0);s.forEach(a=>{if(a[Uo])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(p=>p.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,s,a){const u=this._engine.statesByElement.get(t),p=new Map;if(u){const m=[];if(Object.keys(u).forEach(w=>{if(p.set(w,u[w].value),this._triggers[w]){const b=this.trigger(t,w,sy,a);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,p),s&&Lo(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const a=new Set;e.forEach(u=>{const p=u.name;if(a.has(p))return;a.add(p);const w=this._triggers[p].fallbackTransition,b=s[p]||eD,O=new XI(sy),M=new tD(this.id,p,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:p,transition:w,fromState:b,toState:O,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let p=t;for(;p=p.parentNode;)if(s.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)s.markElementAsRemoved(this.id,t,!1,e);else{const u=t[Uo];(!u||u===mb)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Bo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const u=s.element,p=this._elementListeners.get(u);p&&p.forEach(m=>{if(m.name==s.triggerName){const w=Zc(u,s.triggerName,s.fromState.value,s.toState.value);w._data=t,Gh(s.player,m.phase,w,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(s)}),this._queue=[],e.sort((s,a)=>{const u=s.transition.ast.depCount,p=a.transition.ast.depCount;return 0==u||0==p?u-p:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class hT{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new dT(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList,a=this.namespacesByHostElement,u=s.length-1;if(u>=0){let p=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const w=a.get(m);if(w){const b=s.indexOf(w);s.splice(b+1,0,t),p=!0;break}m=this.driver.getParentElement(m)}}else for(let m=u;m>=0;m--)if(this.driver.containsElement(s[m].hostElement,e)){s.splice(m+1,0,t),p=!0;break}p||s.unshift(t)}else s.push(t);return a.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let a=this._namespaceLookup[t];a&&a.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const a=Object.keys(s);for(let u=0;u<a.length;u++){const p=s[a[u]].namespaceId;if(p){const m=this._fetchNamespace(p);m&&e.add(m)}}}return e}trigger(t,e,s,a){if(M0(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,s,a),!0}return!1}insertNode(t,e,s,a){if(!M0(e))return;const u=e[Uo];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(t){const p=this._fetchNamespace(t);p&&p.insertNode(e,s)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Bo(t,JI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jp(t,JI))}removeNode(t,e,s,a){if(M0(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),s){const p=this.namespacesByHostElement.get(e);p&&p.id!==t&&p.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,s,a,u){this.collectedLeaveElements.push(e),e[Uo]={namespaceId:t,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,e,s,a,u){return M0(e)?this._fetchNamespace(t).listen(e,s,a,u):()=>{}}_buildInstruction(t,e,s,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,a,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,Lp,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,b0,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lo(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const s=t[Uo];if(s&&s.setForRemoval){if(t[Uo]=mb,s.namespaceId){this.destroyInnerAnimations(t);const a=this._fetchNamespace(s.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,s.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(JI))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Bo(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?Lo(e).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(t){throw function FI(n){return new y.vHH(3402,Bt)}()}_flushAnimations(t,e){const s=new A0,a=[],u=new Map,p=[],m=new Map,w=new Map,b=new Map,O=new Set;this.disabledNodes.forEach(Qe=>{O.add(Qe);const ut=this.driver.query(Qe,".ng-animate-queued",!0);for(let ft=0;ft<ut.length;ft++)O.add(ut[ft])});const M=this.bodyNode,$=Array.from(this.statesByElement.keys()),X=vb($,this.collectedEnterElements),de=new Map;let Me=0;X.forEach((Qe,ut)=>{const ft=J_+Me++;de.set(ut,ft),Qe.forEach(Yt=>Bo(Yt,ft))});const Ke=[],xt=new Set,wt=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const ut=this.collectedLeaveElements[Qe],ft=ut[Uo];ft&&ft.setForRemoval&&(Ke.push(ut),xt.add(ut),ft.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(Yt=>xt.add(Yt)):wt.add(ut))}const sn=new Map,Tt=vb($,Array.from(xt));Tt.forEach((Qe,ut)=>{const ft=X_+Me++;sn.set(ut,ft),Qe.forEach(Yt=>Bo(Yt,ft))}),t.push(()=>{X.forEach((Qe,ut)=>{const ft=de.get(ut);Qe.forEach(Yt=>jp(Yt,ft))}),Tt.forEach((Qe,ut)=>{const ft=sn.get(ut);Qe.forEach(Yt=>jp(Yt,ft))}),Ke.forEach(Qe=>{this.processLeaveNode(Qe)})});const Tr=[],$r=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(e).forEach(ft=>{const Yt=ft.player,Wr=ft.element;if(Tr.push(Yt),this.collectedEnterElements.length){const $i=Wr[Uo];if($i&&$i.setForMove){if($i.previousTriggersValues&&$i.previousTriggersValues.has(ft.triggerName)){const Qh=$i.previousTriggersValues.get(ft.triggerName),td=this.statesByElement.get(ft.element);td&&td[ft.triggerName]&&(td[ft.triggerName].value=Qh)}return void Yt.destroy()}}const hl=!M||!this.driver.containsElement(M,Wr),no=sn.get(Wr),ed=de.get(Wr),Ln=this._buildInstruction(ft,s,ed,no,hl);if(Ln.errors&&Ln.errors.length)return void $r.push(Ln);if(hl)return Yt.onStart(()=>i(Wr,Ln.fromStyles)),Yt.onDestroy(()=>r(Wr,Ln.toStyles)),void a.push(Yt);if(ft.isFallbackTransition)return Yt.onStart(()=>i(Wr,Ln.fromStyles)),Yt.onDestroy(()=>r(Wr,Ln.toStyles)),void a.push(Yt);const Ob=[];Ln.timelines.forEach($i=>{$i.stretchStartingKeyframe=!0,this.disabledNodes.has($i.element)||Ob.push($i)}),Ln.timelines=Ob,s.append(Wr,Ln.timelines),p.push({instruction:Ln,player:Yt,element:Wr}),Ln.queriedElements.forEach($i=>Rs(m,$i,[]).push(Yt)),Ln.preStyleProps.forEach(($i,Qh)=>{const td=Object.keys($i);if(td.length){let Jh=w.get(Qh);Jh||w.set(Qh,Jh=new Set),td.forEach(rD=>Jh.add(rD))}}),Ln.postStyleProps.forEach(($i,Qh)=>{const td=Object.keys($i);let Jh=b.get(Qh);Jh||b.set(Qh,Jh=new Set),td.forEach(rD=>Jh.add(rD))})});if($r.length){const Qe=[];$r.forEach(ut=>{Qe.push(function wu(n,t){return new y.vHH(3505,Bt)}())}),Tr.forEach(ut=>ut.destroy()),this.reportError(Qe)}const Hi=new Map,bu=new Map;p.forEach(Qe=>{const ut=Qe.element;s.has(ut)&&(bu.set(ut,ut),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,Hi))}),a.forEach(Qe=>{const ut=Qe.element;this._getPreviousPlayers(ut,!1,Qe.namespaceId,Qe.triggerName,null).forEach(Yt=>{Rs(Hi,ut,[]).push(Yt),Yt.destroy()})});const Tu=Ke.filter(Qe=>wb(Qe,w,b)),Su=new Map;yb(Su,this.driver,wt,b,to).forEach(Qe=>{wb(Qe,w,b)&&Tu.push(Qe)});const oy=new Map;X.forEach((Qe,ut)=>{yb(oy,this.driver,new Set(Qe),w,"!")}),Tu.forEach(Qe=>{const ut=Su.get(Qe),ft=oy.get(Qe);Su.set(Qe,Object.assign(Object.assign({},ut),ft))});const Yh=[],Pb=[],Mb={};p.forEach(Qe=>{const{element:ut,player:ft,instruction:Yt}=Qe;if(s.has(ut)){if(O.has(ut))return ft.onDestroy(()=>r(ut,Yt.toStyles)),ft.disabled=!0,ft.overrideTotalTime(Yt.totalTime),void a.push(ft);let Wr=Mb;if(bu.size>1){let no=ut;const ed=[];for(;no=no.parentNode;){const Ln=bu.get(no);if(Ln){Wr=Ln;break}ed.push(no)}ed.forEach(Ln=>bu.set(Ln,Wr))}const hl=this._buildAnimation(ft.namespaceId,Yt,Hi,u,oy,Su);if(ft.setRealPlayer(hl),Wr===Mb)Yh.push(ft);else{const no=this.playersByElement.get(Wr);no&&no.length&&(ft.parentPlayer=Lo(no)),a.push(ft)}}else i(ut,Yt.fromStyles),ft.onDestroy(()=>r(ut,Yt.toStyles)),Pb.push(ft),O.has(ut)&&a.push(ft)}),Pb.forEach(Qe=>{const ut=u.get(Qe.element);if(ut&&ut.length){const ft=Lo(ut);Qe.setRealPlayer(ft)}}),a.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<Ke.length;Qe++){const ut=Ke[Qe],ft=ut[Uo];if(jp(ut,X_),ft&&ft.hasAnimation)continue;let Yt=[];if(m.size){let hl=m.get(ut);hl&&hl.length&&Yt.push(...hl);let no=this.driver.query(ut,b0,!0);for(let ed=0;ed<no.length;ed++){let Ln=m.get(no[ed]);Ln&&Ln.length&&Yt.push(...Ln)}}const Wr=Yt.filter(hl=>!hl.destroyed);Wr.length?mT(this,ut,Wr):this.processLeaveNode(ut)}return Ke.length=0,Yh.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const ut=this.players.indexOf(Qe);this.players.splice(ut,1)}),Qe.play()}),Yh}elementContainsData(t,e){let s=!1;const a=e[Uo];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,a,u){let p=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(p=m)}else{const m=this.playersByElement.get(t);if(m){const w=!u||u==sy;m.forEach(b=>{b.queued||!w&&b.triggerName!=a||p.push(b)})}}return(s||a)&&(p=p.filter(m=>!(s&&s!=m.namespaceId||a&&a!=m.triggerName))),p}_beforeAnimationBuild(t,e,s){const u=e.element,p=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const b=w.element,O=b!==u,M=Rs(s,b,[]);this._getPreviousPlayers(b,O,p,m,e.toState).forEach(X=>{const de=X.getRealPlayer();de.beforeDestroy&&de.beforeDestroy(),X.destroy(),M.push(X)})}i(u,e.fromStyles)}_buildAnimation(t,e,s,a,u,p){const m=e.triggerName,w=e.element,b=[],O=new Set,M=new Set,$=e.timelines.map(de=>{const Me=de.element;O.add(Me);const Ke=Me[Uo];if(Ke&&Ke.removedBeforeQueried)return new Eu(de.duration,de.delay);const xt=Me!==w,wt=function _T(n){const t=[];return Eb(n,t),t}((s.get(Me)||uT).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===Me),sn=u.get(Me),Tt=p.get(Me),Tr=_0(0,this._normalizer,0,de.keyframes,sn,Tt),$r=this._buildPlayer(de,Tr,wt);if(de.subTimeline&&a&&M.add(Me),xt){const Hi=new tD(t,m,Me);Hi.setRealPlayer($r),b.push(Hi)}return $r});b.forEach(de=>{Rs(this.playersByQueriedElement,de.element,[]).push(de),de.onDone(()=>function fT(n,t,e){let s;if(n instanceof Map){if(s=n.get(t),s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&n.delete(t)}}else if(s=n[t],s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&delete n[t]}return s}(this.playersByQueriedElement,de.element,de))}),O.forEach(de=>Bo(de,D0));const X=Lo($);return X.onDestroy(()=>{O.forEach(de=>jp(de,D0)),r(w,e.toStyles)}),M.forEach(de=>{Rs(a,de,[]).push(X)}),X}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Eu(t.duration,t.delay)}}class tD{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Eu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>Gh(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Rs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function M0(n){return n&&1===n.nodeType}function _b(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function yb(n,t,e,s,a){const u=[];e.forEach(w=>u.push(_b(w)));const p=[];s.forEach((w,b)=>{const O={};w.forEach(M=>{const $=O[M]=t.computeStyle(b,M,a);(!$||0==$.length)&&(b[Uo]=cT,p.push(b))}),n.set(b,O)});let m=0;return e.forEach(w=>_b(w,u[m++])),p}function vb(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const a=new Set(t),u=new Map;function p(m){if(!m)return 1;let w=u.get(m);if(w)return w;const b=m.parentNode;return w=e.has(b)?b:a.has(b)?1:p(b),u.set(m,w),w}return t.forEach(m=>{const w=p(m);1!==w&&e.get(w).push(m)}),e}function Bo(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function jp(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function mT(n,t,e){Lo(e).onDone(()=>n.processLeaveNode(t))}function Eb(n,t){for(let e=0;e<n.length;e++){const s=n[e];s instanceof As?Eb(s.players,t):t.push(s)}}function wb(n,t,e){const s=e.get(n);if(!s)return!1;let a=t.get(n);return a?s.forEach(u=>a.add(u)):t.set(n,s),e.delete(n),!0}class O0{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new hT(t,e,s),this._timelineEngine=new iT(t,e,s),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,e,s,a,u){const p=t+"-"+a;let m=this._triggerCache[p];if(!m){const w=[],O=qh(this._driver,u,w,[]);if(w.length)throw function OI(n,t){return new y.vHH(3404,Bt)}();m=function eT(n,t,e){return new tT(n,t,e)}(a,O,this._normalizer),this._triggerCache[p]=m}this._transitionEngine.registerTrigger(e,a,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,a){this._transitionEngine.insertNode(t,e,s,a)}onRemove(t,e,s,a){this._transitionEngine.removeNode(t,e,a||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,a){if("@"==s.charAt(0)){const[u,p]=UI(s);this._timelineEngine.command(u,e,p,a)}else this._transitionEngine.trigger(t,e,s,a)}listen(t,e,s,a,u){if("@"==s.charAt(0)){const[p,m]=UI(s);return this._timelineEngine.listen(p,e,m,u)}return this._transitionEngine.listen(t,e,s,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ET=(()=>{class n{constructor(e,s,a){this._element=e,this._startStyles=s,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&r(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(r(this._element,this._initialStyles),this._endStyles&&(r(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(i(this._element,this._endStyles),this._endStyles=null),r(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nD(n){let t=null;const e=Object.keys(n);for(let s=0;s<e.length;s++){const a=e[s];wT(a)&&(t=t||{},t[a]=n[a])}return t}function wT(n){return"display"===n||"position"===n}class Cb{constructor(t,e,s,a){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(s=>{"offset"!=s&&(t[s]=this._finished?e[s]:ge(this.element,s))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class CT{validateStyleProperty(t){return Q_(t)}matchesElement(t,e){return!1}containsElement(t,e){return E0(t,e)}getParentElement(t){return Z_(t)}query(t,e,s){return w0(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}animate(t,e,s,a,u,p=[]){const w={duration:s,delay:a,fill:0==a?"both":"forwards"};u&&(w.easing=u);const b={},O=p.filter($=>$ instanceof Cb);(function k(n,t){return 0===n||0===t})(s,a)&&O.forEach($=>{let X=$.currentSnapshot;Object.keys(X).forEach(de=>b[de]=X[de])}),e=function B(n,t,e){const s=Object.keys(e);if(s.length&&t.length){let u=t[0],p=[];if(s.forEach(m=>{u.hasOwnProperty(m)||p.push(m),u[m]=e[m]}),p.length)for(var a=1;a<t.length;a++){let m=t[a];p.forEach(function(w){m[w]=ge(n,w)})}}return t}(t,e=e.map($=>Iu($,!1)),b);const M=function vT(n,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=nD(t[0]),t.length>1&&(s=nD(t[t.length-1]))):t&&(e=nD(t)),e||s?new ET(n,e,s):null}(t,e);return new Cb(t,e,w,M)}}let IT=(()=>{class n extends _I{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Op(e):e;return Ib(this._renderer,null,s,"register",[a]),new DT(s,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(y.FYo),y.LFG(re))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class DT extends class yI{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new bT(this._id,t,e||{},this._renderer)}}class bT{constructor(t,e,s,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ib(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ib(n,t,e,s,a){return n.setProperty(t,`@@${e}:${s}`,a)}const Db="@.disabled";let TT=(()=>{class n{constructor(e,s,a){this.delegate=e,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,p)=>{const m=null==p?void 0:p.parentNode(u);m&&p.removeChild(m,u)}}createRenderer(e,s){const u=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let O=this._rendererCache.get(u);return O||(O=new bb("",u,this.engine),this._rendererCache.set(u,O)),O}const p=s.id,m=s.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const w=O=>{Array.isArray(O)?O.forEach(w):this.engine.registerTrigger(p,m,e,O.name,O)};return s.data.animation.forEach(w),new ST(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,a){e>=0&&e<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[p,m]=u;p(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(y.FYo),y.LFG(O0),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class bb{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,a=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,a){this.delegate.setAttribute(t,e,s,a)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,a){this.delegate.setStyle(t,e,s,a)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==Db?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ST extends bb{constructor(t,e,s,a){super(e,s,a),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Db?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const a=function AT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.substr(1),p="";return"@"!=u.charAt(0)&&([u,p]=function RT(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,p,m=>{this.factory.scheduleListenerCallback(m._data||-1,s,m)})}return this.delegate.listen(t,e,s)}}let PT=(()=>{class n extends O0{constructor(e,s,a){super(e.body,s,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(y.LFG(re),y.LFG(C0),y.LFG(YI))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Tb=new y.OlP("AnimationModuleType"),Sb=[{provide:_I,useClass:IT},{provide:YI,useFactory:function MT(){return new Zb}},{provide:O0,useClass:PT},{provide:y.FYo,useFactory:function OT(n,t,e){return new TT(n,t,e)},deps:[on,O0,y.R0b]}],Ab=[{provide:C0,useFactory:()=>new CT},{provide:Tb,useValue:"BrowserAnimations"},...Sb],NT=[{provide:C0,useClass:kp},{provide:Tb,useValue:"NoopAnimations"},...Sb];let xT=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NT:Ab}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:Ab,imports:[ho]}),n})(),kT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=y.oAB({type:n,bootstrap:[B0]}),n.\u0275inj=y.cJS({providers:[],imports:[[ho,vy,ms.hO.initializeApp(r0_firebase),mI,HD,xT]]}),n})();(0,y.G48)(),Cl().bootstrapModule(kT).catch(n=>console.error(n))},5867:(qe,we,N)=>{N.d(we,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=N(9681);(0,y.registerVersion)("firebase","9.6.11","app")},127:(qe,we,N)=>{N.d(we,{Z:()=>y.Z});var y=N(3942);y.Z.registerVersion("firebase","9.6.11","app-compat")},820:(qe,we,N)=>{N.r(we);var y=N(5861),Z=N(3942),x=N(2090),oe=N(9681),J=N(655),fe=N(1877),re=N(4859);const Ae=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new fe.Yd("@firebase/auth");function Be(g,...d){We.logLevel<=fe.in.ERROR&&We.error(`Auth (${oe.SDK_VERSION}): ${g}`,...d)}function Ce(g,...d){throw Fe(g,...d)}function me(g,...d){return Fe(g,...d)}function _e(g,d,f){const v=Object.assign(Object.assign({},Oe()),{[d]:f});return new x.LL("auth","Firebase",v).create(d,{appName:g.name})}function Le(g,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Ce(g,"argument-error"),_e(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(g,...d){if("string"!=typeof g){const f=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(f,...v)}return he.create(g,...d)}function te(g,d,...f){if(!g)throw Fe(d,...f)}function K(g){const d="INTERNAL ASSERTION FAILED: "+g;throw Be(d),new Error(d)}function ne(g,d){g||K(d)}const pe=new Map;function ie(g){ne(g instanceof Function,"Expected a class definition");let d=pe.get(g);return d?(ne(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,pe.set(g,d),d)}function dt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Vt(){return"http:"===vn()||"https:"===vn()}function vn(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class qt{constructor(d,f){this.shortDelay=d,this.longDelay=f,ne(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function Ze(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(g,d){ne(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class zr{static initialize(d,f,v){this.fetchImpl=d,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},oi=new qt(3e4,6e4);function jt(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function St(g,d,f,v){return Un.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(g,d,f,v,T={}){return hr(g,T,(0,y.Z)(function*(){let P={},z={};v&&("GET"===d?z=v:P={body:JSON.stringify(v)});const se=(0,x.xO)(Object.assign({key:g.config.apiKey},z)).slice(1),xe=yield g._getAdditionalHeaders();return xe["Content-Type"]="application/json",g.languageCode&&(xe["X-Firebase-Locale"]=g.languageCode),zr.fetch()(or(g,g.config.apiHost,f,se),Object.assign({method:d,headers:xe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function hr(g,d,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,y.Z)(function*(g,d,f){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ht),d);try{const T=new wi(g),P=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw li(g,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const se=P.ok?z.errorMessage:z.error.message,[xe,$e]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw li(g,"credential-already-in-use",z);if("EMAIL_EXISTS"===xe)throw li(g,"email-already-in-use",z);const st=v[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw _e(g,st,$e);Ce(g,st)}}catch(T){if(T instanceof x.ZR)throw T;Ce(g,"network-request-failed")}})).apply(this,arguments)}function sr(g,d,f,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(g,d,f,v,T={}){const P=yield St(g,d,f,v,T);return"mfaPendingCredential"in P&&Ce(g,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function or(g,d,f,v){const T=`${d}${f}?${v}`;return g.config.emulator?Zt(g.config,T):`${g.config.apiScheme}://${T}`}class wi{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(me(this.auth,"network-request-failed")),oi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function li(g,d,f){const v={appName:g.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const T=me(g,d,v);return T.customData._tokenResponse=f,T}function fr(){return(fr=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function xn(g,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Sr(g,d){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function en(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function ro(){return(ro=(0,y.Z)(function*(g,d=!1){const f=(0,x.m9)(g),v=yield f.getIdToken(d),T=Ge(v);te(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const P="object"==typeof T.firebase?T.firebase:void 0,z=null==P?void 0:P.sign_in_provider;return{claims:T,token:v,authTime:en(At(T.auth_time)),issuedAtTime:en(At(T.iat)),expirationTime:en(At(T.exp)),signInProvider:z||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function At(g){return 1e3*Number(g)}function Ge(g){const[d,f,v]=g.split(".");if(void 0===d||void 0===f||void 0===v)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,x.tV)(f);return T?JSON.parse(T):(Be("Failed to decode base64 JWT payload"),null)}catch(T){return Be("Caught error parsing JWT payload as JSON",T),null}}function Bn(g,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,y.Z)(function*(g,d,f=!1){if(f)return d;try{return yield d}catch(v){throw v instanceof x.ZR&&Rt(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}function Rt({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Ps{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,y.Z)(function*(){yield f.iteration()}),v)}iteration(){var d=this;return(0,y.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class Wn{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(g){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,y.Z)(function*(g){var d;const f=g.auth,v=yield g.getIdToken(),T=yield Bn(g,Sr(f,{idToken:v}));te(null==T?void 0:T.users.length,f,"internal-error");const P=T.users[0];g._notifyReloadListener(P);const z=(null===(d=P.providerUserInfo)||void 0===d?void 0:d.length)?Ie(P.providerUserInfo):[],se=Ve(g.providerData,z),st=!!g.isAnonymous&&!(g.email&&P.passwordHash||(null==se?void 0:se.length)),Ye={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:se,metadata:new Wn(P.createdAt,P.lastLoginAt),isAnonymous:st};Object.assign(g,Ye)})).apply(this,arguments)}function Dt(){return(Dt=(0,y.Z)(function*(g){const d=(0,x.m9)(g);yield Vn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ve(g,d){return[...g.filter(v=>!d.some(T=>T.providerId===v.providerId)),...d]}function Ie(g){return g.map(d=>{var{providerId:f}=d,v=(0,J._T)(d,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function et(){return(et=(0,y.Z)(function*(g,d){const f=yield hr(g,{},(0,y.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:P}=g.config,z=or(g,T,"/v1/token",`key=${P}`),se=yield g._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(z,{method:"POST",headers:se,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){te(d.idToken,"internal-error"),te(void 0!==d.idToken,"internal-error"),te(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function lt(g){const d=Ge(g);return te(d,"internal-error"),te(void 0!==d.exp,"internal-error"),te(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var v=this;return(0,y.Z)(function*(){return te(!v.accessToken||v.refreshToken,d,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var v=this;return(0,y.Z)(function*(){const{accessToken:T,refreshToken:P,expiresIn:z}=yield function je(g,d){return et.apply(this,arguments)}(d,f);v.updateTokensAndExpiration(T,P,Number(z))})()}updateTokensAndExpiration(d,f,v){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,f){const{refreshToken:v,accessToken:T,expirationTime:P}=f,z=new bt;return v&&(te("string"==typeof v,"internal-error",{appName:d}),z.refreshToken=v),T&&(te("string"==typeof T,"internal-error",{appName:d}),z.accessToken=T),P&&(te("number"==typeof P,"internal-error",{appName:d}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new bt,this.toJSON())}_performRefresh(){return K("not implemented")}}function Ct(g,d){te("string"==typeof g||void 0===g,"internal-error",{appName:d})}class V{constructor(d){var{uid:f,auth:v,stsTokenManager:T}=d,P=(0,J._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ps(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Wn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,y.Z)(function*(){const v=yield Bn(f,f.stsTokenManager.getToken(f.auth,d));return te(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(d){return function Ci(g){return ro.apply(this,arguments)}(this,d)}reload(){return function zn(g){return Dt.apply(this,arguments)}(this)}_assign(d){this!==d&&(te(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new V(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var v=this;return(0,y.Z)(function*(){let T=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),T=!0),f&&(yield Vn(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,y.Z)(function*(){const f=yield d.getIdToken();return yield Bn(d,function Je(g,d){return fr.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var v,T,P,z,se,xe,$e,st;const Ye=null!==(v=f.displayName)&&void 0!==v?v:void 0,_n=null!==(T=f.email)&&void 0!==T?T:void 0,vi=null!==(P=f.phoneNumber)&&void 0!==P?P:void 0,Xl=null!==(z=f.photoURL)&&void 0!==z?z:void 0,Ka=null!==(se=f.tenantId)&&void 0!==se?se:void 0,qa=null!==(xe=f._redirectEventId)&&void 0!==xe?xe:void 0,Fd=null!==($e=f.createdAt)&&void 0!==$e?$e:void 0,_g=null!==(st=f.lastLoginAt)&&void 0!==st?st:void 0,{uid:Ao,emailVerified:dc,isAnonymous:hc,providerData:Ld,stsTokenManager:fc}=f;te(Ao&&fc,d,"internal-error");const ni=bt.fromJSON(this.name,fc);te("string"==typeof Ao,d,"internal-error"),Ct(Ye,d.name),Ct(_n,d.name),te("boolean"==typeof dc,d,"internal-error"),te("boolean"==typeof hc,d,"internal-error"),Ct(vi,d.name),Ct(Xl,d.name),Ct(Ka,d.name),Ct(qa,d.name),Ct(Fd,d.name),Ct(_g,d.name);const Ud=new V({uid:Ao,auth:d,email:_n,emailVerified:dc,displayName:Ye,isAnonymous:hc,photoURL:Xl,phoneNumber:vi,tenantId:Ka,stsTokenManager:ni,createdAt:Fd,lastLoginAt:_g});return Ld&&Array.isArray(Ld)&&(Ud.providerData=Ld.map(Tf=>Object.assign({},Tf))),qa&&(Ud._redirectEventId=qa),Ud}static _fromIdTokenResponse(d,f,v=!1){return(0,y.Z)(function*(){const T=new bt;T.updateFromServerResponse(f);const P=new V({uid:f.localId,auth:d,stsTokenManager:T,isAnonymous:v});return yield Vn(P),P})()}}const W=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(f,v){var T=this;return(0,y.Z)(function*(){T.storage[f]=v})()}_get(f){var v=this;return(0,y.Z)(function*(){const T=v.storage[f];return void 0===T?null:T})()}_remove(f){var v=this;return(0,y.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return g.type="NONE",g})();function ue(g,d,f){return`firebase:${g}:${d}:${f}`}class Y{constructor(d,f,v){this.persistence=d,this.auth=f,this.userKey=v;const{config:T,name:P}=this.auth;this.fullUserKey=ue(this.userKey,T.apiKey,P),this.fullPersistenceKey=ue("persistence",T.apiKey,P),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?V._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,y.Z)(function*(){if(f.persistence===d)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,v="authUser"){return(0,y.Z)(function*(){if(!f.length)return new Y(ie(W),d,v);const T=(yield Promise.all(f.map(function(){var $e=(0,y.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return $e.apply(this,arguments)}}()))).filter($e=>$e);let P=T[0]||ie(W);const z=ue(v,d.config.apiKey,d.name);let se=null;for(const $e of f)try{const st=yield $e._get(z);if(st){const Ye=V._fromJSON(d,st);$e!==P&&(se=Ye),P=$e;break}}catch(st){}const xe=T.filter($e=>$e._shouldAllowMigration);return P._shouldAllowMigration&&xe.length?(P=xe[0],se&&(yield P._set(z,se.toJSON())),yield Promise.all(f.map(function(){var $e=(0,y.Z)(function*(st){if(st!==P)try{yield st._remove(z)}catch(Ye){}});return function(st){return $e.apply(this,arguments)}}())),new Y(P,d,v)):new Y(P,d,v)})()}}function Ne(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Nt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(it(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(mt(d))return"Blackberry";if(Qt(d))return"Webos";if(kt(d))return"Safari";if((d.includes("chrome/")||Gn(d))&&!d.includes("edge/"))return"Chrome";if(dn(d))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function it(g=(0,x.z$)()){return/firefox\//i.test(g)}function kt(g=(0,x.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Gn(g=(0,x.z$)()){return/crios\//i.test(g)}function Nt(g=(0,x.z$)()){return/iemobile/i.test(g)}function dn(g=(0,x.z$)()){return/android/i.test(g)}function mt(g=(0,x.z$)()){return/blackberry/i.test(g)}function Qt(g=(0,x.z$)()){return/webos/i.test(g)}function Fn(g=(0,x.z$)()){return/iphone|ipad|ipod/i.test(g)}function Ii(g=(0,x.z$)()){return Fn(g)||dn(g)||Qt(g)||mt(g)||/windows phone/i.test(g)||Nt(g)}function jo(g,d=[]){let f;switch(g){case"Browser":f=Ne((0,x.z$)());break;case"Worker":f=`${Ne((0,x.z$)())}-${g}`;break;default:f=g}const v=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${oe.SDK_VERSION}/${v}`}class Ar{constructor(d,f,v){this.app=d,this.heartbeatServiceProvider=f,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,f){var v=this;return f&&(this._popupRedirectResolver=ie(f)),this._initializationPromise=this.queue((0,y.Z)(function*(){var T,P;if(!v._deleted&&(v.persistenceManager=yield Y.create(v,d),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(z){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(P=v.currentUser)||void 0===P?void 0:P.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,y.Z)(function*(){var v;let T=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const P=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,z=null==T?void 0:T._redirectEventId,se=yield f.tryRedirectSignIn(d);(!P||P===z)&&(null==se?void 0:se.user)&&(T=se.user)}return T?T._redirectEventId?(te(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===T._redirectEventId?f.directlySetCurrentUser(T):f.reloadAndSetCurrentUserOrClear(T)):f.reloadAndSetCurrentUserOrClear(T):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,y.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(T){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,y.Z)(function*(){try{yield Vn(d)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function rt(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,y.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,y.Z)(function*(){const v=d?(0,x.m9)(d):null;return v&&te(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,y.Z)(function*(){if(!f._deleted)return d&&te(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,y.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,y.Z)(function*(){yield f.assertedPersistence.setPersistence(ie(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new x.LL("auth","Firebase",d())}onAuthStateChanged(d,f,v){return this.registerStateListener(this.authStateSubscription,d,f,v)}onIdTokenChanged(d,f,v){return this.registerStateListener(this.idTokenSubscription,d,f,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var v=this;return(0,y.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(f);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,y.Z)(function*(){if(!f.redirectPersistenceManager){const v=d&&ie(d)||f._popupRedirectResolver;te(v,f,"argument-error"),f.redirectPersistenceManager=yield Y.create(f,[ie(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,y.Z)(function*(){var v,T;return f._isInitialized&&(yield f.queue((0,y.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===d?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,y.Z)(function*(){if(d===f.currentUser)return f.queue((0,y.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,v,T){if(this._deleted)return()=>{};const P="function"==typeof f?f:f.next.bind(f),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof f?d.addObserver(f,v,T):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,y.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=jo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,y.Z)(function*(){var f;const v={"X-Client-Version":d.clientVersion};d.app.options.appId&&(v["X-Firebase-gmpid"]=d.app.options.appId);const T=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function Re(g){return(0,x.m9)(g)}class yt{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jn(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function bn(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class zt{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return K("not implemented")}_getIdTokenResponse(d){return K("not implemented")}_linkToIdToken(d,f){return K("not implemented")}_getReauthenticationResolver(d){return K("not implemented")}}function En(g,d){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:resetPassword",jt(g,d))})).apply(this,arguments)}function pt(g,d){return io.apply(this,arguments)}function io(){return(io=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Os(g,d){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:update",jt(g,d))})).apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithPassword",jt(g,d))})).apply(this,arguments)}function Di(g,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:sendOobCode",jt(g,d))})).apply(this,arguments)}function Gr(g,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,y.Z)(function*(g,d){return Di(g,d)})).apply(this,arguments)}function _a(g,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,y.Z)(function*(g,d){return Di(g,d)})).apply(this,arguments)}function Kr(g,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(g,d){return Di(g,d)})).apply(this,arguments)}function Au(g,d){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,y.Z)(function*(g,d){return Di(g,d)})).apply(this,arguments)}function pr(){return(pr=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithEmailLink",jt(g,d))})).apply(this,arguments)}function Ru(){return(Ru=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithEmailLink",jt(g,d))})).apply(this,arguments)}class Ea extends zt{constructor(d,f,v,T=null){super("password",v),this._email=d,this._password=f,this._tenantId=T}static _fromEmailAndPassword(d,f){return new Ea(d,f,"password")}static _fromEmailAndCode(d,f,v=null){return new Ea(d,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,y.Z)(function*(){switch(f.signInMethod){case"password":return function qi(g,d){return Kn.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function va(g,d){return pr.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Ce(d,"internal-error")}})()}_linkToIdToken(d,f){var v=this;return(0,y.Z)(function*(){switch(v.signInMethod){case"password":return pt(d,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function nd(g,d){return Ru.apply(this,arguments)}(d,{idToken:f,email:v._email,oobCode:v._password});default:Ce(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Tn(g,d){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithIdp",jt(g,d))})).apply(this,arguments)}class Ti extends zt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Ti(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Ce("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T}=f,P=(0,J._T)(f,["providerId","signInMethod"]);if(!v||!T)return null;const z=new Ti(v,T);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(d){return Tn(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,Tn(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Tn(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,x.xO)(f)}return d}}function ef(g,d){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:sendVerificationCode",jt(g,d))})).apply(this,arguments)}function Yi(){return(Yi=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithPhoneNumber",jt(g,d))})).apply(this,arguments)}function Ou(){return(Ou=(0,y.Z)(function*(g,d){const f=yield sr(g,"POST","/v1/accounts:signInWithPhoneNumber",jt(g,d));if(f.temporaryProof)throw li(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const nf={USER_NOT_FOUND:"user-not-found"};function Nu(){return(Nu=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithPhoneNumber",jt(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),nf)})).apply(this,arguments)}class so extends zt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new so({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new so({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function fl(g,d){return Yi.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function tf(g,d){return Ou.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function rf(g,d){return Nu.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:v,verificationCode:T}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:v,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:P}=d;return v||f||T||P?new so({verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:P}):null}}class Ns{constructor(d){var f,v,T,P,z,se;const xe=(0,x.zd)((0,x.pd)(d)),$e=null!==(f=xe.apiKey)&&void 0!==f?f:null,st=null!==(v=xe.oobCode)&&void 0!==v?v:null,Ye=function Hp(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=xe.mode)&&void 0!==T?T:null);te($e&&st&&Ye,"argument-error"),this.apiKey=$e,this.operation=Ye,this.code=st,this.continueUrl=null!==(P=xe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=xe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(se=xe.tenantId)&&void 0!==se?se:null}static parseLink(d){const f=function wa(g){const d=(0,x.zd)((0,x.pd)(g)).link,f=d?(0,x.zd)((0,x.pd)(d)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(g)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||f||d||g}(d);try{return new Ns(f)}catch(v){return null}}}let pl=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,v){return Ea._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const T=Ns.parseLink(v);return te(T,"argument-error"),Ea._fromEmailAndCode(f,T.code,T.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Qi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class gr extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class oo extends gr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return te("providerId"in f&&"signInMethod"in f,"argument-error"),Ti._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return te(d.idToken||d.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return oo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return oo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:P,nonce:z,providerId:se}=d;if(!v&&!T&&!f&&!P||!se)return null;try{return new oo(se)._credential({idToken:f,accessToken:v,nonce:z,pendingToken:P})}catch(xe){return null}}}let xs=(()=>{class g extends gr{constructor(){super("facebook.com")}static credential(f){return Ti._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(v){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),$o=(()=>{class g extends gr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return Ti._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:T}=f;if(!v&&!T)return null;try{return g.credential(v,T)}catch(P){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),xu=(()=>{class g extends gr{constructor(){super("github.com")}static credential(f){return Ti._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(v){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class ao extends zt{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Tn(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,Tn(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Tn(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T,pendingToken:P}=f;return v&&T&&P&&v===T?new ao(v,P):null}static _create(d,f){return new ao(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pr extends Qi{constructor(d){te(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Pr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Pr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=ao.fromJSON(d);return te(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:v}=d;if(!f||!v)return null;try{return ao._create(v,f)}catch(T){return null}}}let Ca=(()=>{class g extends gr{constructor(){super("twitter.com")}static credential(f,v){return Ti._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=f;if(!v||!T)return null;try{return g.credential(v,T)}catch(P){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Ia(g,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signUp",jt(g,d))})).apply(this,arguments)}class qn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,v,T=!1){return(0,y.Z)(function*(){const P=yield V._fromIdTokenResponse(d,v,T),z=id(v);return new qn({user:P,providerId:z,_tokenResponse:v,operationType:f})})()}static _forOperation(d,f,v){return(0,y.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const T=id(v);return new qn({user:d,providerId:T,_tokenResponse:v,operationType:f})})()}}function id(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function ku(){return(ku=(0,y.Z)(function*(g){var d;const f=Re(g);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new qn({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield Ia(f,{returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class ba extends x.ZR{constructor(d,f,v,T){var P;super(f.code,f.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,ba.prototype),this.customData={appName:d.name,tenantId:null!==(P=d.tenantId)&&void 0!==P?P:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,f,v,T){return new ba(d,f,v,T)}}function Ta(g,d,f,v){return("reauthenticate"===d?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ba._fromErrorAndOperation(g,P,d,v):P})}function Si(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function gl(){return(gl=(0,y.Z)(function*(g,d){const f=(0,x.m9)(g);yield Xi(!0,f,d);const{providerUserInfo:v}=yield xn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),T=Si(v||[]);return f.providerData=f.providerData.filter(P=>T.has(P.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function tn(g,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(g,d,f=!1){const v=yield Bn(g,d._linkToIdToken(g.auth,yield g.getIdToken()),f);return qn._forOperation(g,"link",v)})).apply(this,arguments)}function Xi(g,d,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,y.Z)(function*(g,d,f){yield Vn(d);const T=!1===g?"provider-already-linked":"no-such-provider";te(Si(d.providerData).has(f)===g,d.auth,T)})).apply(this,arguments)}function Fu(g,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,y.Z)(function*(g,d,f=!1){const{auth:v}=g,T="reauthenticate";try{const P=yield Bn(g,Ta(v,T,d,g),f);te(P.idToken,v,"internal-error");const z=Ge(P.idToken);te(z,v,"internal-error");const{sub:se}=z;return te(g.uid===se,v,"user-mismatch"),qn._forOperation(g,T,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ce(v,"user-mismatch"),P}})).apply(this,arguments)}function Fs(g,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,y.Z)(function*(g,d,f=!1){const v="signIn",T=yield Ta(g,v,d),P=yield qn._fromIdTokenResponse(g,v,T);return f||(yield g._updateCurrentUser(P.user)),P})).apply(this,arguments)}function wn(g,d){return zo.apply(this,arguments)}function zo(){return(zo=(0,y.Z)(function*(g,d){return Fs(Re(g),d)})).apply(this,arguments)}function qr(g,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,y.Z)(function*(g,d){const f=(0,x.m9)(g);return yield Xi(!1,f,d.providerId),tn(f,d)})).apply(this,arguments)}function es(g,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,y.Z)(function*(g,d){return Fu((0,x.m9)(g),d)})).apply(this,arguments)}function Sa(g,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,y.Z)(function*(g,d){return sr(g,"POST","/v1/accounts:signInWithCustomToken",jt(g,d))})).apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(g,d){const f=Re(g),v=yield Sa(f,{token:d,returnSecureToken:!0}),T=yield qn._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class tt{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Aa._fromServerResponse(d,f):Ce(d,"internal-error")}}class Aa extends tt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Aa(f)}}function Go(g,d,f){var v;te((null===(v=f.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),te(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(te(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(te(f.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Pa(){return(Pa=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g),T={requestType:"PASSWORD_RESET",email:d};f&&Go(v,T,f),yield _a(v,T)})).apply(this,arguments)}function ml(){return(ml=(0,y.Z)(function*(g,d,f){yield En((0,x.m9)(g),{oobCode:d,newPassword:f})})).apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(g,d){yield Os((0,x.m9)(g),{oobCode:d})})).apply(this,arguments)}function It(g,d){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,y.Z)(function*(g,d){const f=(0,x.m9)(g),v=yield En(f,{oobCode:d}),T=v.requestType;switch(te(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(v.mfaInfo,f,"internal-error");default:te(v.email,f,"internal-error")}let P=null;return v.mfaInfo&&(P=tt._fromServerResponse(Re(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:P},operation:T}})).apply(this,arguments)}function uo(){return(uo=(0,y.Z)(function*(g,d){const{data:f}=yield It((0,x.m9)(g),d);return f.email})).apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(g,d,f){const v=Re(g),T=yield Ia(v,{returnSecureToken:!0,email:d,password:f}),P=yield qn._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}function Uu(){return(Uu=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g),T={requestType:"EMAIL_SIGNIN",email:d};te(f.handleCodeInApp,v,"argument-error"),f&&Go(v,T,f),yield Kr(v,T)})).apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g),T=pl.credentialWithLink(d,f||dt());return te(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),wn(v,T)})).apply(this,arguments)}function Hn(g,d){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:createAuthUri",jt(g,d))})).apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(g,d){const v={identifier:d,continueUri:Vt()?dt():"http://localhost"},{signinMethods:T}=yield Hn((0,x.m9)(g),v);return T||[]})).apply(this,arguments)}function wl(){return(wl=(0,y.Z)(function*(g,d){const f=(0,x.m9)(g),T={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&Go(f.auth,T,d);const{email:P}=yield Gr(f.auth,T);P!==g.email&&(yield g.reload())})).apply(this,arguments)}function ka(){return(ka=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};f&&Go(v.auth,P,f);const{email:z}=yield Au(v.auth,P);z!==g.email&&(yield g.reload())})).apply(this,arguments)}function Cl(g,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,y.Z)(function*(g,d){return St(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Il(){return(Il=(0,y.Z)(function*(g,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const v=(0,x.m9)(g),P={idToken:yield v.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},z=yield Bn(v,Cl(v.auth,P));v.displayName=z.displayName||null,v.photoURL=z.photoUrl||null;const se=v.providerData.find(({providerId:xe})=>"password"===xe);se&&(se.displayName=v.displayName,se.photoURL=v.photoURL),yield v._updateTokensIfNecessary(z)})).apply(this,arguments)}function bl(g,d,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,y.Z)(function*(g,d,f){const{auth:v}=g,P={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&(P.email=d),f&&(P.password=f);const z=yield Bn(g,pt(v,P));yield g._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Us{constructor(d,f,v={}){this.isNewUser=d,this.providerId=f,this.profile=v}}class ju extends Us{constructor(d,f,v,T){super(d,f,v),this.username=T}}class Hu extends Us{constructor(d,f){super(d,"facebook.com",f)}}class Bs extends ju{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class ss extends Us{constructor(d,f){super(d,"google.com",f)}}class Tl extends ju{constructor(d,f,v){super(d,"twitter.com",f,v)}}function Qn(g){const{user:d,_tokenResponse:f}=g;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Vu(g){var d,f;if(!g)return null;const{providerId:v}=g,T=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},P=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&(null==g?void 0:g.idToken)){const z=null===(f=null===(d=Ge(g.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(z)return new Us(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!v)return null;switch(v){case"facebook.com":return new Hu(P,T);case"github.com":return new Bs(P,T);case"google.com":return new ss(P,T);case"twitter.com":return new Tl(P,T,g.screenName||null);case"custom":case"anonymous":return new Us(P,null);default:return new Us(P,v,T)}}(f)}class Ri{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new Ri("enroll",d)}static _fromMfaPendingCredential(d){return new Ri("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,v;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Ri._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return Ri._fromIdtoken(d.multiFactorSession.idToken)}return null}}class qo{constructor(d,f,v){this.session=d,this.hints=f,this.signInResolver=v}static _fromError(d,f){const v=Re(d),T=f.customData._serverResponse,P=(T.mfaInfo||[]).map(se=>tt._fromServerResponse(v,se));te(T.mfaPendingCredential,v,"internal-error");const z=Ri._fromMfaPendingCredential(T.mfaPendingCredential);return new qo(z,P,function(){var se=(0,y.Z)(function*(xe){const $e=yield xe._process(v,z);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(f.operationType){case"signIn":const Ye=yield qn._fromIdTokenResponse(v,f.operationType,st);return yield v._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return te(f.user,v,"internal-error"),qn._forOperation(f.user,f.operationType,st);default:Ce(v,"internal-error")}});return function(xe){return se.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,y.Z)(function*(){return f.signInResolver(d)})()}}function Sn(g,d){return St(g,"POST","/v2/accounts/mfaEnrollment:start",jt(g,d))}class Pi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>tt._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new Pi(d)}getSession(){var d=this;return(0,y.Z)(function*(){return Ri._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var v=this;return(0,y.Z)(function*(){const T=d,P=yield v.getSession(),z=yield Bn(v.user,T._process(v.user.auth,P,f));return yield v.user._updateTokensIfNecessary(z),v.user.reload()})()}unenroll(d){var f=this;return(0,y.Z)(function*(){const v="string"==typeof d?d:d.uid,T=yield f.user.getIdToken(),P=yield Bn(f.user,function of(g,d){return St(g,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(g,d))}(f.user.auth,{idToken:T,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:z})=>z!==v),yield f.user._updateTokensIfNecessary(P);try{yield f.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const fo=new WeakMap,Rl="__sak";class Vs{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cn=(()=>{class g extends Vs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zu(){const g=(0,x.z$)();return kt(g)||Fn(g)}()&&function Mn(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Ii(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),P=this.localCache[v];T!==P&&f(v,P,T)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((se,xe,$e)=>{this.notifyListeners(se,$e)});const T=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(f.newValue!==se)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!v)return}const P=()=>{const se=this.storage.getItem(T);!v&&this.localCache[T]===se||this.notifyListeners(T,se)},z=this.storage.getItem(T);!function Vo(){return(0,x.w1)()&&10===document.documentMode}()||z===f.newValue||f.newValue===f.oldValue?P():setTimeout(P,10)}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const P of Array.from(T))P(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var T=()=>super._set,P=this;return(0,y.Z)(function*(){yield T().call(P,f,v),P.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,T=this;return(0,y.Z)(function*(){const P=yield v().call(T,f);return T.localCache[f]=JSON.stringify(P),P})()}_remove(f){var v=()=>super._remove,T=this;return(0,y.Z)(function*(){yield v().call(T,f),delete T.localCache[f]})()}}return g.type="LOCAL",g})(),$n=(()=>{class g extends Vs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return g.type="SESSION",g})();let Or=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(P=>P.isListeningto(f));if(v)return v;const T=new g(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,y.Z)(function*(){const T=f,{eventId:P,eventType:z,data:se}=T.data,xe=v.handlersMap[z];if(!(null==xe?void 0:xe.size))return;T.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const $e=Array.from(xe).map(function(){var Ye=(0,y.Z)(function*(_n){return _n(T.origin,se)});return function(_n){return Ye.apply(this,arguments)}}()),st=yield function vr(g){return Promise.all(g.map(function(){var d=(0,y.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return d.apply(this,arguments)}}()))}($e);T.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:st})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function po(g="",d=10){let f="";for(let v=0;v<d;v++)f+=Math.floor(10*Math.random());return g+f}class Gu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,v=50){var T=this;return(0,y.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,se;return new Promise((xe,$e)=>{const st=po("",20);P.port1.start();const Ye=setTimeout(()=>{$e(new Error("unsupported_event"))},v);se={messageChannel:P,onMessage(_n){const vi=_n;if(vi.data.eventId===st)switch(vi.data.status){case"ack":clearTimeout(Ye),z=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),xe(vi.data.response);break;default:clearTimeout(Ye),clearTimeout(z),$e(new Error("invalid_response"))}}},T.handlers.add(se),P.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:d,eventId:st,data:f},[P.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function Xt(){return window}function di(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function Er(){return(Er=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const Pl="firebaseLocalStorageDb",go="firebaseLocalStorage",In="fbase_key";class Mi{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function mo(g,d){return g.transaction([go],d?"readwrite":"readonly").objectStore(go)}function as(){const g=indexedDB.open(Pl,1);return new Promise((d,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(go,{keyPath:In})}catch(T){f(T)}}),g.addEventListener("success",(0,y.Z)(function*(){const v=g.result;v.objectStoreNames.contains(go)?d(v):(v.close(),yield function Nr(){const g=indexedDB.deleteDatabase(Pl);return new Mi(g).toPromise()}(),d(yield as()))}))})}function Zo(g,d,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(g,d,f){const v=mo(g,!0).put({[In]:d,value:f});return new Mi(v).toPromise()})).apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(g,d){const f=mo(g,!1).get(d),v=yield new Mi(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function fi(g,d){const f=mo(g,!0).delete(d);return new Mi(f).toPromise()}const Yr=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,y.Z)(function*(){return f.db||(f.db=yield as()),f.db})()}_withRetries(f){var v=this;return(0,y.Z)(function*(){let T=0;for(;;)try{const P=yield v._openDb();return yield f(P)}catch(P){if(T++>3)throw P;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,y.Z)(function*(){return di()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,y.Z)(function*(){f.receiver=Or._getInstance(function Ku(){return di()?self:null}()),f.receiver._subscribe("keyChanged",function(){var v=(0,y.Z)(function*(T,P){return{keyProcessed:(yield f._poll()).includes(P.key)}});return function(T,P){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,y.Z)(function*(T,P){return["keyChanged"]});return function(T,P){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,y.Z)(function*(){var v,T;if(f.activeServiceWorker=yield function La(){return Er.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Gu(f.activeServiceWorker);const P=yield f.sender._send("ping",{},800);!P||(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=P[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,y.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Ft(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const f=yield as();return yield Zo(f,Rl,"1"),yield fi(f,Rl),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,y.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(P=>Zo(P,f,v)),T.localCache[f]=v,T.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,y.Z)(function*(){const T=yield v._withRetries(P=>function Ml(g,d){return ls.apply(this,arguments)}(P,f));return v.localCache[f]=T,T})()}_remove(f){var v=this;return(0,y.Z)(function*(){return v._withPendingWrite((0,y.Z)(function*(){return yield v._withRetries(T=>fi(T,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,y.Z)(function*(){const v=yield f._withRetries(z=>{const se=mo(z,!1).getAll();return new Mi(se).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const T=[],P=new Set;for(const{fbase_key:z,value:se}of v)P.add(z),JSON.stringify(f.localCache[z])!==JSON.stringify(se)&&(f.notifyListeners(z,se),T.push(z));for(const z of Object.keys(f.localCache))f.localCache[z]&&!P.has(z)&&(f.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const P of Array.from(T))P(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function yo(g,d){return St(g,"POST","/v2/accounts/mfaSignIn:start",jt(g,d))}function Qr(){return(Qr=(0,y.Z)(function*(g){return(yield St(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fn(g){return new Promise((d,f)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=d,v.onerror=T=>{const P=me("internal-error");P.customData=T,f(P)},v.type="text/javascript",v.charset="UTF-8",function ud(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(v)})}function vo(g){return`__${g}${Math.floor(1e6*Math.random())}`}const ar=1e12;class js{constructor(d){this.auth=d,this.counter=ar,this._widgets=new Map}render(d,f){const v=this.counter;return this._widgets.set(v,new pi(d,this.auth.name,f||{})),this.counter++,v}reset(d){var f;const v=d||ar;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(d){var f;return(null===(f=this._widgets.get(d||ar))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,y.Z)(function*(){var v;return null===(v=f._widgets.get(d||ar))||void 0===v||v.execute(),""})()}}class pi{constructor(d,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;te(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pn(g){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<g;v++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cs=vo("rcb"),Zu=new qt(3e4,6e4);class lf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha}load(d,f=""){return te(function uf(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xt().grecaptcha):new Promise((v,T)=>{const P=Xt().setTimeout(()=>{T(me(d,"network-request-failed"))},Zu.get());Xt()[cs]=()=>{Xt().clearTimeout(P),delete Xt()[cs];const se=Xt().grecaptcha;if(!se)return void T(me(d,"internal-error"));const xe=se.render;se.render=($e,st)=>{const Ye=xe($e,st);return this.counter++,Ye},this.hostLanguage=f,v(se)},fn(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:cs,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(P),T(me(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Xt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cf{load(d){return(0,y.Z)(function*(){return new js(d)})()}clearedOneInstance(){}}const ds="recaptcha",wr={theme:"light",type:"image"};class df{constructor(d,f=Object.assign({},wr),v){this.parameters=f,this.type=ds,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(v),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cf:new lf,this.validateStartingState()}verify(){var d=this;return(0,y.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(f)||new Promise(P=>{const z=se=>{!se||(d.tokenChangeListeners.delete(z),P(se))};d.tokenChangeListeners.add(z),d.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof d)d(f);else if("string"==typeof d){const v=Xt()[d];"function"==typeof v&&v(f)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.Z)(function*(){te(Vt()&&!di(),d.auth,"internal-error"),yield function hs(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function Xn(g){return Qr.apply(this,arguments)}(d.auth);te(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oi{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=so._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function ln(){return(ln=(0,y.Z)(function*(g,d,f){const v=Re(g),T=yield er(v,d,(0,x.m9)(f));return new Oi(T,P=>wn(v,P))})).apply(this,arguments)}function wo(){return(wo=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g);yield Xi(!1,v,"phone");const T=yield er(v.auth,d,(0,x.m9)(f));return new Oi(T,P=>qr(v,P))})).apply(this,arguments)}function xl(){return(xl=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g),T=yield er(v.auth,d,(0,x.m9)(f));return new Oi(T,P=>es(v,P))})).apply(this,arguments)}function er(g,d,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,y.Z)(function*(g,d,f){var v;const T=yield f.verify();try{let P;if(te("string"==typeof T,g,"argument-error"),te(f.type===ds,g,"argument-error"),P="string"==typeof d?{phoneNumber:d}:d,"session"in P){const z=P.session;if("phoneNumber"in P)return te("enroll"===z.type,g,"internal-error"),(yield Sn(g,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,g,"internal-error");const se=(null===(v=P.multiFactorHint)||void 0===v?void 0:v.uid)||P.multiFactorUid;return te(se,g,"missing-multi-factor-info"),(yield yo(g,{mfaPendingCredential:z.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield ef(g,{phoneNumber:P.phoneNumber,recaptchaToken:T});return z}}finally{f._reset()}})).apply(this,arguments)}function Ni(){return(Ni=(0,y.Z)(function*(g,d){yield tn((0,x.m9)(g),d)})).apply(this,arguments)}let Jr=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=Re(f)}verifyPhoneNumber(f,v){return er(this.auth,f,(0,x.m9)(v))}static credential(f,v){return so._fromVerification(f,v)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:T}=f;return v&&T?so._fromTokenResponse(v,T):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function gi(g,d){return d?ie(d):(te(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Qo extends zt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Tn(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Tn(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Tn(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function Fl(g){return Fs(g.auth,new Qo(g),g.bypassAuthState)}function Ll(g){const{auth:d,user:f}=g;return te(f,d,"internal-error"),Fu(f,new Qo(g),g.bypassAuthState)}function vt(g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,y.Z)(function*(g){const{auth:d,user:f}=g;return te(f,d,"internal-error"),tn(f,new Qo(g),g.bypassAuthState)})).apply(this,arguments)}class On{constructor(d,f,v,T,P=!1){this.auth=d,this.resolver=v,this.user=T,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,y.Z)(function*(v,T){d.pendingPromise={resolve:v,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(P){d.reject(P)}});return function(v,T){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,y.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:P,tenantId:z,error:se,type:xe}=d;if(se)return void f.reject(se);const $e={auth:f.auth,requestUri:v,sessionId:T,tenantId:z||void 0,postBody:P||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(xe)($e))}catch(st){f.reject(st)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Fl;case"linkViaPopup":case"linkViaRedirect":return vt;case"reauthViaPopup":case"reauthViaRedirect":return Ll;default:Ce(this.auth,"internal-error")}}resolve(d){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bl=new qt(2e3,1e4);function Yu(){return(Yu=(0,y.Z)(function*(g,d,f){const v=Re(g);Le(g,d,Qi);const T=gi(v,f);return new _i(v,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function Ba(){return(Ba=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g);Le(v.auth,d,Qi);const T=gi(v.auth,f);return new _i(v.auth,"reauthViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}function Va(){return(Va=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g);Le(v.auth,d,Qi);const T=gi(v.auth,f);return new _i(v.auth,"linkViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}let _i=(()=>{class g extends On{constructor(f,v,T,P,z){super(f,v,P,z),this.provider=T,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,y.Z)(function*(){const v=yield f.execute();return te(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,y.Z)(function*(){ne(1===f.filter.length,"Popup operations only handle one event");const v=po();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(me(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Bl.get())};f()}}return g.currentPopupAction=null,g})();const yi=new Map;class Nn extends On{constructor(d,f,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,y.Z)(function*(){let v=yi.get(f.auth._key());if(!v){try{const P=(yield function kr(g,d){return Vl.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;v=()=>Promise.resolve(P)}catch(T){v=()=>Promise.reject(T)}yi.set(f.auth._key(),v)}return f.bypassAuthState||yi.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,v=this;return(0,y.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(v,d);if("unknown"!==d.type){if(d.eventId){const T=yield v.auth._redirectUserForId(d.eventId);if(T)return v.user=T,f().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Vl(){return(Vl=(0,y.Z)(function*(g,d){const f=D(d),v=I(g);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(f));return yield v._remove(f),T})).apply(this,arguments)}function $s(g,d){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(g,d){return I(g)._set(D(d),"true")})).apply(this,arguments)}function I(g){return ie(g._redirectPersistence)}function D(g){return ue("pendingRedirect",g.config.apiKey,g.name)}function q(){return(q=(0,y.Z)(function*(g,d,f){const v=Re(g);Le(g,d,Qi);const T=gi(v,f);return yield $s(T,v),T._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function Te(){return(Te=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g);Le(v.auth,d,Qi);const T=gi(v.auth,f);yield $s(T,v.auth);const P=yield Ws(v);return T._openRedirect(v.auth,d,"reauthViaRedirect",P)})).apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(g,d,f){const v=(0,x.m9)(g);Le(v.auth,d,Qi);const T=gi(v.auth,f);yield Xi(!1,v,d.providerId),yield $s(T,v.auth);const P=yield Ws(v);return T._openRedirect(v.auth,d,"linkViaRedirect",P)})).apply(this,arguments)}function An(){return(An=(0,y.Z)(function*(g,d){return yield Re(g)._initializationPromise,mn(g,d,!1)})).apply(this,arguments)}function mn(g,d){return Io.apply(this,arguments)}function Io(){return(Io=(0,y.Z)(function*(g,d,f=!1){const v=Re(g),T=gi(v,d),z=yield new Nn(v,T,f).execute();return z&&!f&&(delete z.user._redirectEventId,yield v._persistUserIfCurrent(z.user),yield v._setRedirectUser(null,d)),z})).apply(this,arguments)}function Ws(g){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(g){const d=po(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class Xr{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(f=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function jl(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ju(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var v;if(d.error&&!Ju(d)){const T=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(me(this.auth,T))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const v=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zs(d))}saveEventToCache(d){this.cachedEventUids.add(zs(d)),this.lastProcessedEventTime=Date.now()}}function zs(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function Ju({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Hl(g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(g,d={}){return St(g,"GET","/v1/projects",d)})).apply(this,arguments)}const ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wp=/^https?/;function xi(){return(xi=(0,y.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield Hl(g);for(const f of d)try{if($l(f))return}catch(v){}Ce(g,"unauthorized-domain")})).apply(this,arguments)}function $l(g){const d=dt(),{protocol:f,hostname:v}=new URL(d);if(g.startsWith("chrome-extension://")){const z=new URL(g);return""===z.hostname&&""===v?"chrome-extension:"===f&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&z.hostname===v}if(!Wp.test(f))return!1;if(ff.test(g))return v===g;const T=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Gp=new qt(3e4,6e4);function Kp(){const g=Xt().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let Xu=null;function qp(g){return Xu=Xu||function pf(g){return new Promise((d,f)=>{var v,T,P;function z(){Kp(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Kp(),f(me(g,"network-request-failed"))},timeout:Gp.get()})}if(null===(T=null===(v=Xt().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)d(gapi.iframes.getContext());else{if(!(null===(P=Xt().gapi)||void 0===P?void 0:P.load)){const se=vo("iframefcb");return Xt()[se]=()=>{gapi.load?z():f(me(g,"network-request-failed"))},fn(`https://apis.google.com/js/api.js?onload=${se}`).catch(xe=>f(xe))}z()}}).catch(d=>{throw Xu=null,d})}(g),Xu}const cd=new qt(5e3,15e3),Ks={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ec=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xo(g){const d=g.config;te(d.authDomain,g,"auth-domain-config-required");const f=d.emulator?Zt(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:g.name,v:oe.SDK_VERSION},T=ec.get(g.config.apiHost);T&&(v.eid=T);const P=g._getFrameworks();return P.length&&(v.fw=P.join(",")),`${f}?${(0,x.xO)(v).slice(1)}`}function Do(){return Do=(0,y.Z)(function*(g){const d=yield qp(g),f=Xt().gapi;return te(f,g,"internal-error"),d.open({where:document.body,url:Xo(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ks,dontclear:!0},v=>new Promise(function(){var T=(0,y.Z)(function*(P,z){yield v.restyle({setHideOnLeave:!1});const se=me(g,"network-request-failed"),xe=Xt().setTimeout(()=>{z(se)},cd.get());function $e(){Xt().clearTimeout(xe),P(v)}v.ping($e).then($e,()=>{z(se)})});return function(P,z){return T.apply(this,arguments)}}()))}),Do.apply(this,arguments)}const Yp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function pd(g,d,f,v,T,P){te(g.config.authDomain,g,"auth-domain-config-required"),te(g.config.apiKey,g,"invalid-api-key");const z={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:v,v:oe.SDK_VERSION,eventId:T};if(d instanceof Qi){d.setDefaultLanguage(g.languageCode),z.providerId=d.providerId||"",(0,x.xb)(d.getCustomParameters())||(z.customParameters=JSON.stringify(d.getCustomParameters()));for(const[xe,$e]of Object.entries(P||{}))z[xe]=$e}if(d instanceof gr){const xe=d.getScopes().filter($e=>""!==$e);xe.length>0&&(z.scopes=xe.join(","))}g.tenantId&&(z.tid=g.tenantId);const se=z;for(const xe of Object.keys(se))void 0===se[xe]&&delete se[xe];return`${function Jp({config:g}){return g.emulator?Zt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,x.xO)(se).slice(1)}`}const ps="webStorageSupport";class gd extends class gf{constructor(d){this.factorId=d}_process(d,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,v);case"signin":return this._finalizeSignIn(d,f.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new gd(d)}_finalizeEnroll(d,f,v){return function $u(g,d){return St(g,"POST","/v2/accounts/mfaEnrollment:finalize",jt(g,d))}(d,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Yo(g,d){return St(g,"POST","/v2/accounts/mfaSignIn:finalize",jt(g,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xp=(()=>{class g{constructor(){}static assertion(f){return gd._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var eg="@firebase/auth",md="0.19.12";class mf{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,y.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(v=>{var T;d((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gs(){return window}function Wa(){return(Wa=(0,y.Z)(function*(g,d,f){var v;const{BuildInfo:T}=gs();ne(d.sessionId,"AuthEvent did not contain a session ID");const P=yield ea(d.sessionId),z={};return Fn()?z.ibi=T.packageName:dn()?z.apn=T.packageName:Ce(g,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=P,pd(g,f,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,z)})).apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(g){const{BuildInfo:d}=gs(),f={};Fn()?f.iosBundleId=d.packageName:dn()?f.androidPackageName=d.packageName:Ce(g,"operation-not-supported-in-this-environment"),yield Hl(g,f)})).apply(this,arguments)}function sc(){return(sc=(0,y.Z)(function*(g,d,f){const{cordova:v}=gs();let T=()=>{};try{yield new Promise((P,z)=>{let se=null;function xe(){var Ye;P();const _n=null===(Ye=v.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof _n&&_n(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function $e(){se||(se=window.setTimeout(()=>{z(me(g,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}d.addPassiveListener(xe),document.addEventListener("resume",$e,!1),dn()&&document.addEventListener("visibilitychange",st,!1),T=()=>{d.removePassiveListener(xe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",st,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function ea(g){return yf.apply(this,arguments)}function yf(){return(yf=(0,y.Z)(function*(g){const d=za(g),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function za(g){if(ne(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),f=new Uint8Array(d);for(let v=0;v<g.length;v++)f[v]=g.charCodeAt(v);return f}!function ng(g){(0,oe._registerComponent)(new re.wA("auth",(d,{options:f})=>{const v=d.getProvider("app").getImmediate(),T=d.getProvider("heartbeat"),{apiKey:P,authDomain:z}=v.options;return((se,xe)=>{te(P&&!P.includes(":"),"invalid-api-key",{appName:se.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:se.name});const $e={apiKey:P,authDomain:z,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jo(g)},st=new Ar(se,xe,$e);return function ae(g,d){const f=(null==d?void 0:d.persistence)||[],v=(Array.isArray(f)?f:[f]).map(ie);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(st,f),st})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,v)=>{d.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",d=>{const f=Re(d.getProvider("auth").getImmediate());return new mf(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(eg,md,function tg(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,oe.registerVersion)(eg,md,"esm2017")}("Browser");class Ed extends Xr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,y.Z)(function*(){yield d.initPromise})()}}function Gl(g){return To.apply(this,arguments)}function To(){return(To=(0,y.Z)(function*(g){const d=yield ac()._get(Cd(g));return d&&(yield ac()._remove(Cd(g))),d})).apply(this,arguments)}function Kl(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*d.length);g.push(d.charAt(v))}return g.join("")}function ac(){return ie(Cn)}function Cd(g){return ue("authEvent",g.config.apiKey,g.name)}function lc(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...f]=g.split("?");return(0,x.zd)(f.join("?"))}function Td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function uc(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Ef(g=(0,x.z$)()){return!("file:"!==uc()&&"ionic:"!==uc()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function tr(){try{const g=self.localStorage,d=po();if(g)return g.setItem(d,"1"),g.removeItem(d),!function So(g=(0,x.z$)()){return function ag(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function lg(g=(0,x.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,x.hl)()}catch(g){return qs()&&(0,x.hl)()}return!1}function qs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yl(){return(function og(){return"http:"===uc()||"https:"===uc()}()||(0,x.ru)()||Ef())&&!function cc(){return(0,x.b$)()||(0,x.UG)()}()&&tr()&&!qs()}function Sd(){return Ef()&&"undefined"!=typeof document}function ta(){return(ta=(0,y.Z)(function*(){return!!Sd()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},na=te,Rd="persistence";function ra(g){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,y.Z)(function*(g){yield g._initializationPromise;const d=Ql(),f=ue(Rd,g.config.apiKey,g.name);d&&d.setItem(f,g._getPersistence())})).apply(this,arguments)}function Ql(){var g;try{return(null===(g=function Ad(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(d){return null}}const ug=te;class Lr{constructor(){this.browserResolver=ie(class bo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$n,this._completeRedirectFn=mn}_openPopup(d,f,v,T){var P=this;return(0,y.Z)(function*(){var z;ne(null===(z=P.eventManagers[d._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const se=pd(d,f,v,dt(),T);return function ic(g,d,f,v=500,T=600){const P=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-v)/2,0).toString();let se="";const xe=Object.assign(Object.assign({},Yp),{width:v.toString(),height:T.toString(),top:P,left:z}),$e=(0,x.z$)().toLowerCase();f&&(se=Gn($e)?"_blank":f),it($e)&&(d=d||"http://localhost",xe.scrollbars="yes");const st=Object.entries(xe).reduce((_n,[vi,Xl])=>`${_n}${vi}=${Xl},`,"");if(function ma(g=(0,x.z$)()){var d;return Fn(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}($e)&&"_self"!==se)return function fd(g,d){const f=document.createElement("a");f.href=g,f.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(d||"",se),new rc(null);const Ye=window.open(d||"",se,st);te(Ye,g,"popup-blocked");try{Ye.focus()}catch(_n){}return new rc(Ye)}(d,se,po())})()}_openRedirect(d,f,v,T){var P=this;return(0,y.Z)(function*(){return yield P._originValidation(d),function ad(g){Xt().location.href=g}(pd(d,f,v,dt(),T)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:T,promise:P}=this.eventManagers[f];return T?Promise.resolve(T):(ne(P,"If manager is not set, promise should be"),P)}const v=this.initAndGetManager(d);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(d){var f=this;return(0,y.Z)(function*(){const v=yield function Zp(g){return Do.apply(this,arguments)}(d),T=new Xr(d);return v.register("authEvent",P=>(te(null==P?void 0:P.authEvent,d,"invalid-auth-event"),{status:T.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:T},f.iframes[d._key()]=v,T})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(ps,{type:ps},T=>{var P;const z=null===(P=null==T?void 0:T[0])||void 0===P?void 0:P[ps];void 0!==z&&f(!!z),Ce(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function zp(g){return xi.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ii()||kt()||Fn()}}),this.cordovaResolver=ie(class bd{constructor(){this._redirectPersistence=$n,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mn}_initialize(d){var f=this;return(0,y.Z)(function*(){const v=d._key();let T=f.eventManagers.get(v);return T||(T=new Ed(d),f.eventManagers.set(v,T),f.attachCallbackListeners(d,T)),T})()}_openPopup(d){Ce(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,v,T){var P=this;return(0,y.Z)(function*(){!function oc(g){var d,f,v,T,P,z,se,xe,$e,st;const Ye=gs();te("function"==typeof(null===(d=null==Ye?void 0:Ye.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(f=null==Ye?void 0:Ye.BuildInfo)||void 0===f?void 0:f.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(P=null===(T=null===(v=null==Ye?void 0:Ye.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===P?void 0:P.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(xe=null===(se=null===(z=null==Ye?void 0:Ye.cordova)||void 0===z?void 0:z.plugins)||void 0===se?void 0:se.browsertab)||void 0===xe?void 0:xe.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(st=null===($e=null==Ye?void 0:Ye.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===st?void 0:st.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const z=yield P._initialize(d);yield z.initialized(),z.resetRedirect(),function ja(){yi.clear()}(),yield P._originValidation(d);const se=function wd(g,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Kl(),postBody:null,tenantId:g.tenantId,error:me(g,"no-auth-event")}}(d,v,T);yield function cy(g,d){return ac()._set(Cd(g),d)}(d,se);const xe=yield function _d(g,d,f){return Wa.apply(this,arguments)}(d,se,f),$e=yield function zl(g){const{cordova:d}=gs();return new Promise(f=>{d.plugins.browsertab.isAvailable(v=>{let T=null;v?d.plugins.browsertab.openUrl(g):T=d.InAppBrowser.open(g,function Ms(g=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(T)})})}(xe);return function _f(g,d,f){return sc.apply(this,arguments)}(d,z,$e)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function yd(g){return ei.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:v,handleOpenURL:T,BuildInfo:P}=gs(),z=setTimeout((0,y.Z)(function*(){yield Gl(d),f.onEvent(Td())}),500),se=function(){var st=(0,y.Z)(function*(Ye){clearTimeout(z);const _n=yield Gl(d);let vi=null;_n&&(null==Ye?void 0:Ye.url)&&(vi=function ig(g,d){var f,v;const T=function ql(g){const d=lc(g),f=d.link?decodeURIComponent(d.link):void 0,v=lc(f).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return lc(T).link||T||v||f||g}(d);if(T.includes("/__/auth/callback")){const P=lc(T),z=P.firebaseError?function Id(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent(P.firebaseError)):null,se=null===(v=null===(f=null==z?void 0:z.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],xe=se?me(se):null;return xe?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:T,postBody:null}}return null}(_n,Ye.url)),f.onEvent(vi||Td())});return function(_n){return st.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,se);const xe=T,$e=`${P.packageName.toLowerCase()}://`;gs().handleOpenURL=function(){var st=(0,y.Z)(function*(Ye){if(Ye.toLowerCase().startsWith($e)&&se({url:Ye}),"function"==typeof xe)try{xe(Ye)}catch(_n){console.error(_n)}});return function(Ye){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$n,this._completeRedirectFn=mn}_initialize(d){var f=this;return(0,y.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,v,T){var P=this;return(0,y.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(d,f,v,T)})()}_openRedirect(d,f,v,T){var P=this;return(0,y.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(d,f,v,T)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ug(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,y.Z)(function*(){if(d.underlyingResolver)return;const f=yield function ur(){return ta.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function If(g){return g.unwrap()}function ia(g){return Df(g)}function Df(g){const{_tokenResponse:d}=g instanceof x.ZR?g.customData:g;if(!d)return null;if(!(g instanceof x.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Jr.credentialFromResult(g);const f=d.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=$o;break;case"facebook.com":v=xs;break;case"github.com":v=xu;break;case"twitter.com":v=Ca;break;default:const{oauthIdToken:T,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:se,nonce:xe}=d;return P||z||T||se?se?f.startsWith("saml.")?ao._create(f,se):Ti._fromParams({providerId:f,signInMethod:f,pendingToken:se,idToken:T,accessToken:P}):new oo(f).credential({idToken:T,accessToken:P,rawNonce:xe}):null}return g instanceof x.ZR?v.credentialFromError(g):v.credentialFromResult(g)}function nr(g,d){return d.catch(f=>{throw f instanceof x.ZR&&function dg(g,d){var f;const v=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new hg(g,function Fa(g,d){var f;const v=(0,x.m9)(g),T=d;return te(d.customData.operationType,v,"argument-error"),te(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),qo._fromError(v,T)}(g,d));else if(v){const T=Df(d),P=d;T&&(P.credential=T,P.tenantId=v.tenantId||void 0,P.email=v.email||void 0,P.phoneNumber=v.phoneNumber||void 0)}}(g,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:ia(f),additionalUserInfo:Qn(f),user:Zs.getOrCreate(T)}})}function Md(g,d){return Od.apply(this,arguments)}function Od(){return(Od=(0,y.Z)(function*(g,d){const f=yield d;return{verificationId:f.verificationId,confirm:v=>nr(g,f.confirm(v))}})).apply(this,arguments)}class hg{constructor(d,f){this.resolver=f,this.auth=function cg(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return nr(If(this.auth),this.resolver.resolveSignIn(d))}}class Zs{constructor(d){this._delegate=d,this.multiFactor=function Wu(g){const d=(0,x.m9)(g);return fo.has(d)||fo.set(d,Pi._fromUser(d)),fo.get(d)}(d)}static getOrCreate(d){return Zs.USER_MAP.has(d)||Zs.USER_MAP.set(d,new Zs(d)),Zs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,y.Z)(function*(){return nr(f.auth,qr(f._delegate,d))})()}linkWithPhoneNumber(d,f){var v=this;return(0,y.Z)(function*(){return Md(v.auth,function Nl(g,d,f){return wo.apply(this,arguments)}(v._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,y.Z)(function*(){return nr(f.auth,function mi(g,d,f){return Va.apply(this,arguments)}(f._delegate,d,Lr))})()}linkWithRedirect(d){var f=this;return(0,y.Z)(function*(){return yield ra(Re(f.auth)),function He(g,d,f){return function ct(g,d,f){return _t.apply(this,arguments)}(g,d,f)}(f._delegate,d,Lr)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,y.Z)(function*(){return nr(f.auth,es(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Md(this.auth,function hf(g,d,f){return xl.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return nr(this.auth,function Hs(g,d,f){return Ba.apply(this,arguments)}(this._delegate,d,Lr))}reauthenticateWithRedirect(d){var f=this;return(0,y.Z)(function*(){return yield ra(Re(f.auth)),function ee(g,d,f){return function be(g,d,f){return Te.apply(this,arguments)}(g,d,f)}(f._delegate,d,Lr)})()}sendEmailVerification(d){return function Zr(g,d){return wl.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,y.Z)(function*(){return yield function Wo(g,d){return gl.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Dl(g,d){return bl((0,x.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function Bu(g,d){return bl((0,x.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function kl(g,d){return Ni.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function ho(g,d){return Il.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function xa(g,d,f){return ka.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zs.USER_MAP=new WeakMap;const Jl=te;let Nd=(()=>{class g{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;Jl(T,"invalid-api-key",{appName:f.name}),Jl(T,"invalid-api-key",{appName:f.name});const P="undefined"!=typeof window?Lr:void 0;this._delegate=v.initialize({options:{persistence:fg(T,f.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function Jt(g,d,f){const v=Re(g);te(v._canInitEmulator,v,"emulator-config-failed"),te(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const T=!!(null==f?void 0:f.disableWarnings),P=jn(d),{host:z,port:se}=function Gi(g){const d=jn(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const P=T[1];return{host:P,port:bn(v.substr(P.length+1))}}{const[P,z]=v.split(":");return{host:P,port:bn(z)}}}(d);v.config.emulator={url:`${P}//${z}${null===se?"":`:${se}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:z,port:se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ci(){function g(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,v)}applyActionCode(f){return function _l(g,d){return ve.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return It(this._delegate,f)}confirmPasswordReset(f,v){return function Ma(g,d,f){return ml.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var T=this;return(0,y.Z)(function*(){return nr(T._delegate,function co(g,d,f){return yr.apply(this,arguments)}(T._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Na(g,d){return is.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function El(g,d){const f=Ns.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,y.Z)(function*(){Jl(Yl(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function ht(g,d){return An.apply(this,arguments)}(f._delegate,Lr);return v?nr(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function vf(g,d){Re(g)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,v,T){const{next:P,error:z,complete:se}=xd(f,v,T);return this._delegate.onAuthStateChanged(P,z,se)}onIdTokenChanged(f,v,T){const{next:P,error:z,complete:se}=xd(f,v,T);return this._delegate.onIdTokenChanged(P,z,se)}sendSignInLinkToEmail(f,v){return function vl(g,d,f){return Uu.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function Ra(g,d,f){return Pa.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,y.Z)(function*(){let T;switch(function wf(g,d){na(Object.values(ti).includes(d),g,"invalid-persistence-type"),(0,x.b$)()?na(d!==ti.SESSION,g,"unsupported-persistence-type"):(0,x.UG)()?na(d===ti.NONE,g,"unsupported-persistence-type"):qs()?na(d===ti.NONE||d===ti.LOCAL&&(0,x.hl)(),g,"unsupported-persistence-type"):na(d===ti.NONE||tr(),g,"unsupported-persistence-type")}(v._delegate,f),f){case ti.SESSION:T=$n;break;case ti.LOCAL:T=(yield ie(Yr)._isAvailable())?Yr:Cn;break;case ti.NONE:T=W;break;default:return Ce("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return nr(this._delegate,function Da(g){return ku.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return nr(this._delegate,wn(this._delegate,f))}signInWithCustomToken(f){return nr(this._delegate,function ts(g,d){return ns.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return nr(this._delegate,function yl(g,d,f){return wn((0,x.m9)(g),pl.credential(d,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return nr(this._delegate,function Oa(g,d,f){return rs.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return Md(this._delegate,function Ua(g,d,f){return ln.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,y.Z)(function*(){return Jl(Yl(),v._delegate,"operation-not-supported-in-this-environment"),nr(v._delegate,function fs(g,d,f){return Yu.apply(this,arguments)}(v._delegate,f,Lr))})()}signInWithRedirect(f){var v=this;return(0,y.Z)(function*(){return Jl(Yl(),v._delegate,"operation-not-supported-in-this-environment"),yield ra(v._delegate),function R(g,d,f){return function L(g,d,f){return q.apply(this,arguments)}(g,d,f)}(v._delegate,f,Lr)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function on(g,d){return uo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ti,g})();function xd(g,d,f){let v=g;"function"!=typeof g&&({next:v,error:d,complete:f}=g);const T=v;return{next:z=>T(z&&Zs.getOrCreate(z)),error:d,complete:f}}function fg(g,d){const f=function Cf(g,d){const f=Ql();if(!f)return[];const v=ue(Rd,g,d);switch(f.getItem(v)){case ti.NONE:return[W];case ti.LOCAL:return[Yr,$n];case ti.SESSION:return[$n];default:return[]}}(g,d);if("undefined"!=typeof self&&!f.includes(Yr)&&f.push(Yr),"undefined"!=typeof window)for(const v of[Cn,$n])f.includes(v)||f.push(v);return f.includes(W)||f.push(W),f}class kd{constructor(){this.providerId="phone",this._delegate=new Jr(If(Z.Z.auth()))}static credential(d,f){return Jr.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}kd.PHONE_SIGN_IN_METHOD=Jr.PHONE_SIGN_IN_METHOD,kd.PROVIDER_ID=Jr.PROVIDER_ID;const pg=te;class gg{constructor(d,f,v=Z.Z.app()){var T;pg(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new df(d,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bf(g){g.INTERNAL.registerComponent(new re.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new Nd(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:pl,FacebookAuthProvider:xs,GithubAuthProvider:xu,GoogleAuthProvider:$o,OAuthProvider:oo,SAMLAuthProvider:Pr,PhoneAuthProvider:kd,PhoneMultiFactorGenerator:Xp,RecaptchaVerifier:gg,TwitterAuthProvider:Ca,Auth:Nd,AuthCredential:zt,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.12")}(Z.Z)},8306:(qe,we,N)=>{N.d(we,{y:()=>j});var y=N(930),Z=N(727),x=N(8822),oe=N(4671);var re=N(2416),ce=N(576),le=N(2806);let j=(()=>{class De{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const he=new De;return he.source=this,he.operator=Oe,he}subscribe(Oe,he,ye){const We=function Ue(De){return De&&De instanceof y.Lv||function Q(De){return De&&(0,ce.m)(De.next)&&(0,ce.m)(De.error)&&(0,ce.m)(De.complete)}(De)&&(0,Z.Nn)(De)}(Oe)?Oe:new y.Hp(Oe,he,ye);return(0,le.x)(()=>{const{operator:Be,source:Ce}=this;We.add(Be?Be.call(We,Ce):Ce?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(he){Oe.error(he)}}forEach(Oe,he){return new(he=H(he))((ye,We)=>{const Be=new y.Hp({next:Ce=>{try{Oe(Ce)}catch(me){We(me),Be.unsubscribe()}},error:We,complete:ye});this.subscribe(Be)})}_subscribe(Oe){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Oe)}[x.L](){return this}pipe(...Oe){return function fe(De){return 0===De.length?oe.y:1===De.length?De[0]:function(Oe){return De.reduce((he,ye)=>ye(he),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=H(Oe))((he,ye)=>{let We;this.subscribe(Be=>We=Be,Be=>ye(Be),()=>he(We))})}}return De.create=Ae=>new De(Ae),De})();function H(De){var Ae;return null!==(Ae=null!=De?De:re.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(qe,we,N)=>{N.d(we,{x:()=>re});var y=N(8306),Z=N(727);const oe=(0,N(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=N(8737),fe=N(2806);let re=(()=>{class le extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new ce(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new oe}next(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Ue,observers:De}=this;return Q||Ue?Z.Lc:(this.currentObservers=null,De.push(H),new Z.w0(()=>{this.currentObservers=null,(0,J.P)(De,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Ue,isStopped:De}=this;Q?H.error(Ue):De&&H.complete()}asObservable(){const H=new y.y;return H.source=this,H}}return le.create=(j,H)=>new ce(j,H),le})();class ce extends re{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,j)}error(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Q?Q:Z.Lc}}},930:(qe,we,N)=>{N.d(we,{Hp:()=>Oe,Lv:()=>Q});var y=N(576),Z=N(727),x=N(2416),oe=N(7849),J=N(5032);const fe=le("C",void 0,void 0);function le(Ce,me,_e){return{kind:Ce,value:me,error:_e}}var j=N(3410),H=N(2806);class Q extends Z.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Z.Nn)(me)&&me.add(this)):this.destination=Be}static create(me,_e,Le){return new Oe(me,_e,Le)}next(me){this.isStopped?We(function ce(Ce){return le("N",Ce,void 0)}(me),this):this._next(me)}error(me){this.isStopped?We(function re(Ce){return le("E",void 0,Ce)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?We(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function De(Ce,me){return Ue.call(Ce,me)}class Ae{constructor(me){this.partialObserver=me}next(me){const{partialObserver:_e}=this;if(_e.next)try{_e.next(me)}catch(Le){he(Le)}}error(me){const{partialObserver:_e}=this;if(_e.error)try{_e.error(me)}catch(Le){he(Le)}else he(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(_e){he(_e)}}}class Oe extends Q{constructor(me,_e,Le){let Fe;if(super(),(0,y.m)(me)||!me)Fe={next:null!=me?me:void 0,error:null!=_e?_e:void 0,complete:null!=Le?Le:void 0};else{let te;this&&x.v.useDeprecatedNextContext?(te=Object.create(me),te.unsubscribe=()=>this.unsubscribe(),Fe={next:me.next&&De(me.next,te),error:me.error&&De(me.error,te),complete:me.complete&&De(me.complete,te)}):Fe=me}this.destination=new Ae(Fe)}}function he(Ce){x.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ce):(0,oe.h)(Ce)}function We(Ce,me){const{onStoppedNotification:_e}=x.v;_e&&j.z.setTimeout(()=>_e(Ce,me))}const Be={closed:!0,next:J.Z,error:function ye(Ce){throw Ce},complete:J.Z}},727:(qe,we,N)=>{N.d(we,{Lc:()=>fe,w0:()=>J,Nn:()=>re});var y=N(576);const x=(0,N(3888).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Ue)=>`${Ue+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var oe=N(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const De of H)De.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,y.m)(Q))try{Q()}catch(De){j=De instanceof x?De.errors:[De]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const De of Ue)try{ce(De)}catch(Ae){j=null!=j?j:[],Ae instanceof x?j=[...j,...Ae.errors]:j.push(Ae)}}if(j)throw new x(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ce(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,oe.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,oe.P)(H,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const le=new J;return le.closed=!0,le})();const fe=J.EMPTY;function re(le){return le instanceof J||le&&"closed"in le&&(0,y.m)(le.remove)&&(0,y.m)(le.add)&&(0,y.m)(le.unsubscribe)}function ce(le){(0,y.m)(le)?le():le.unsubscribe()}},2416:(qe,we,N)=>{N.d(we,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qe,we,N)=>{N.d(we,{E:()=>Z});const Z=new(N(8306).y)(J=>J.complete())},8996:(qe,we,N)=>{N.d(we,{D:()=>me});var y=N(8421),Z=N(5363),x=N(9468),fe=N(8306),ce=N(2202),le=N(576),j=N(9672);function Q(_e,Le){if(!_e)throw new Error("Iterable cannot be null");return new fe.y(Fe=>{(0,j.f)(Fe,Le,()=>{const te=_e[Symbol.asyncIterator]();(0,j.f)(Fe,Le,()=>{te.next().then(K=>{K.done?Fe.complete():Fe.next(K.value)})},0,!0)})})}var Ue=N(3670),De=N(8239),Ae=N(1144),Oe=N(6495),he=N(2206),ye=N(4532),We=N(3260);function me(_e,Le){return Le?function Ce(_e,Le){if(null!=_e){if((0,Ue.c)(_e))return function oe(_e,Le){return(0,y.Xf)(_e).pipe((0,x.R)(Le),(0,Z.Q)(Le))}(_e,Le);if((0,Ae.z)(_e))return function re(_e,Le){return new fe.y(Fe=>{let te=0;return Le.schedule(function(){te===_e.length?Fe.complete():(Fe.next(_e[te++]),Fe.closed||this.schedule())})})}(_e,Le);if((0,De.t)(_e))return function J(_e,Le){return(0,y.Xf)(_e).pipe((0,x.R)(Le),(0,Z.Q)(Le))}(_e,Le);if((0,he.D)(_e))return Q(_e,Le);if((0,Oe.T)(_e))return function H(_e,Le){return new fe.y(Fe=>{let te;return(0,j.f)(Fe,Le,()=>{te=_e[ce.h](),(0,j.f)(Fe,Le,()=>{let K,ne;try{({value:K,done:ne}=te.next())}catch(pe){return void Fe.error(pe)}ne?Fe.complete():Fe.next(K)},0,!0)}),()=>(0,le.m)(null==te?void 0:te.return)&&te.return()})}(_e,Le);if((0,We.L)(_e))return function Be(_e,Le){return Q((0,We.Q)(_e),Le)}(_e,Le)}throw(0,ye.z)(_e)}(_e,Le):(0,y.Xf)(_e)}},8421:(qe,we,N)=>{N.d(we,{Xf:()=>Ue});var y=N(655),Z=N(1144),x=N(8239),oe=N(8306),J=N(3670),fe=N(2206),re=N(4532),ce=N(6495),le=N(3260),j=N(576),H=N(7849),Q=N(8822);function Ue(Ce){if(Ce instanceof oe.y)return Ce;if(null!=Ce){if((0,J.c)(Ce))return function De(Ce){return new oe.y(me=>{const _e=Ce[Q.L]();if((0,j.m)(_e.subscribe))return _e.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,Z.z)(Ce))return function Ae(Ce){return new oe.y(me=>{for(let _e=0;_e<Ce.length&&!me.closed;_e++)me.next(Ce[_e]);me.complete()})}(Ce);if((0,x.t)(Ce))return function Oe(Ce){return new oe.y(me=>{Ce.then(_e=>{me.closed||(me.next(_e),me.complete())},_e=>me.error(_e)).then(null,H.h)})}(Ce);if((0,fe.D)(Ce))return ye(Ce);if((0,ce.T)(Ce))return function he(Ce){return new oe.y(me=>{for(const _e of Ce)if(me.next(_e),me.closed)return;me.complete()})}(Ce);if((0,le.L)(Ce))return function We(Ce){return ye((0,le.Q)(Ce))}(Ce)}throw(0,re.z)(Ce)}function ye(Ce){return new oe.y(me=>{(function Be(Ce,me){var _e,Le,Fe,te;return(0,y.mG)(this,void 0,void 0,function*(){try{for(_e=(0,y.KL)(Ce);!(Le=yield _e.next()).done;)if(me.next(Le.value),me.closed)return}catch(K){Fe={error:K}}finally{try{Le&&!Le.done&&(te=_e.return)&&(yield te.call(_e))}finally{if(Fe)throw Fe.error}}me.complete()})})(Ce,me).catch(_e=>me.error(_e))})}},6451:(qe,we,N)=>{N.d(we,{T:()=>fe});var y=N(8189),Z=N(8421),x=N(515),oe=N(7669),J=N(8996);function fe(...re){const ce=(0,oe.yG)(re),le=(0,oe._6)(re,1/0),j=re;return j.length?1===j.length?(0,Z.Xf)(j[0]):(0,y.J)(le)((0,J.D)(j,ce)):x.E}},5403:(qe,we,N)=>{N.d(we,{x:()=>Z});var y=N(930);function Z(oe,J,fe,re,ce){return new x(oe,J,fe,re,ce)}class x extends y.Lv{constructor(J,fe,re,ce,le,j){super(J),this.onFinalize=le,this.shouldUnsubscribe=j,this._next=fe?function(H){try{fe(H)}catch(Q){J.error(Q)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(Q){J.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){J.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(qe,we,N)=>{N.d(we,{U:()=>x});var y=N(4482),Z=N(5403);function x(oe,J){return(0,y.e)((fe,re)=>{let ce=0;fe.subscribe((0,Z.x)(re,le=>{re.next(oe.call(J,le,ce++))}))})}},8189:(qe,we,N)=>{N.d(we,{J:()=>x});var y=N(5577),Z=N(4671);function x(oe=1/0){return(0,y.z)(Z.y,oe)}},5577:(qe,we,N)=>{N.d(we,{z:()=>ce});var y=N(4004),Z=N(8421),x=N(4482),oe=N(9672),J=N(5403),re=N(576);function ce(le,j,H=1/0){return(0,re.m)(j)?ce((Q,Ue)=>(0,y.U)((De,Ae)=>j(Q,De,Ue,Ae))((0,Z.Xf)(le(Q,Ue))),H):("number"==typeof j&&(H=j),(0,x.e)((Q,Ue)=>function fe(le,j,H,Q,Ue,De,Ae,Oe){const he=[];let ye=0,We=0,Be=!1;const Ce=()=>{Be&&!he.length&&!ye&&j.complete()},me=Le=>ye<Q?_e(Le):he.push(Le),_e=Le=>{De&&j.next(Le),ye++;let Fe=!1;(0,Z.Xf)(H(Le,We++)).subscribe((0,J.x)(j,te=>{null==Ue||Ue(te),De?me(te):j.next(te)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(ye--;he.length&&ye<Q;){const te=he.shift();Ae?(0,oe.f)(j,Ae,()=>_e(te)):_e(te)}Ce()}catch(te){j.error(te)}}))};return le.subscribe((0,J.x)(j,me,()=>{Be=!0,Ce()})),()=>{null==Oe||Oe()}}(Q,Ue,le,H)))}},5363:(qe,we,N)=>{N.d(we,{Q:()=>oe});var y=N(9672),Z=N(4482),x=N(5403);function oe(J,fe=0){return(0,Z.e)((re,ce)=>{re.subscribe((0,x.x)(ce,le=>(0,y.f)(ce,J,()=>ce.next(le),fe),()=>(0,y.f)(ce,J,()=>ce.complete(),fe),le=>(0,y.f)(ce,J,()=>ce.error(le),fe)))})}},3099:(qe,we,N)=>{N.d(we,{B:()=>fe});var y=N(8996),Z=N(5698),x=N(7579),oe=N(930),J=N(4482);function fe(ce={}){const{connector:le=(()=>new x.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=ce;return Ue=>{let De=null,Ae=null,Oe=null,he=0,ye=!1,We=!1;const Be=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ce=()=>{Be(),De=Oe=null,ye=We=!1},me=()=>{const _e=De;Ce(),null==_e||_e.unsubscribe()};return(0,J.e)((_e,Le)=>{he++,!We&&!ye&&Be();const Fe=Oe=null!=Oe?Oe:le();Le.add(()=>{he--,0===he&&!We&&!ye&&(Ae=re(me,Q))}),Fe.subscribe(Le),De||(De=new oe.Hp({next:te=>Fe.next(te),error:te=>{We=!0,Be(),Ae=re(Ce,j,te),Fe.error(te)},complete:()=>{ye=!0,Be(),Ae=re(Ce,H),Fe.complete()}}),(0,y.D)(_e).subscribe(De))})(Ue)}}function re(ce,le,...j){return!0===le?(ce(),null):!1===le?null:le(...j).pipe((0,Z.q)(1)).subscribe(()=>ce())}},9468:(qe,we,N)=>{N.d(we,{R:()=>Z});var y=N(4482);function Z(x,oe=0){return(0,y.e)((J,fe)=>{fe.add(x.schedule(()=>J.subscribe(fe),oe))})}},5698:(qe,we,N)=>{N.d(we,{q:()=>oe});var y=N(515),Z=N(4482),x=N(5403);function oe(J){return J<=0?()=>y.E:(0,Z.e)((fe,re)=>{let ce=0;fe.subscribe((0,x.x)(re,le=>{++ce<=J&&(re.next(le),J<=ce&&re.complete())}))})}},8505:(qe,we,N)=>{N.d(we,{b:()=>J});var y=N(576),Z=N(4482),x=N(5403),oe=N(4671);function J(fe,re,ce){const le=(0,y.m)(fe)||re||ce?{next:fe,error:re,complete:ce}:fe;return le?(0,Z.e)((j,H)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let Ue=!0;j.subscribe((0,x.x)(H,De=>{var Ae;null===(Ae=le.next)||void 0===Ae||Ae.call(le,De),H.next(De)},()=>{var De;Ue=!1,null===(De=le.complete)||void 0===De||De.call(le),H.complete()},De=>{var Ae;Ue=!1,null===(Ae=le.error)||void 0===Ae||Ae.call(le,De),H.error(De)},()=>{var De,Ae;Ue&&(null===(De=le.unsubscribe)||void 0===De||De.call(le)),null===(Ae=le.finalize)||void 0===Ae||Ae.call(le)}))}):oe.y}},4408:(qe,we,N)=>{N.d(we,{o:()=>J});var y=N(727);class Z extends y.w0{constructor(re,ce){super()}schedule(re,ce=0){return this}}const x={setInterval(fe,re,...ce){const{delegate:le}=x;return(null==le?void 0:le.setInterval)?le.setInterval(fe,re,...ce):setInterval(fe,re,...ce)},clearInterval(fe){const{delegate:re}=x;return((null==re?void 0:re.clearInterval)||clearInterval)(fe)},delegate:void 0};var oe=N(8737);class J extends Z{constructor(re,ce){super(re,ce),this.scheduler=re,this.work=ce,this.pending=!1}schedule(re,ce=0){if(this.closed)return this;this.state=re;const le=this.id,j=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(j,le,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(j,this.id,ce),this}requestAsyncId(re,ce,le=0){return x.setInterval(re.flush.bind(re,this),le)}recycleAsyncId(re,ce,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ce;x.clearInterval(ce)}execute(re,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(re,ce);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ce){let j,le=!1;try{this.work(re)}catch(H){le=!0,j=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:ce}=this,{actions:le}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=re&&(this.id=this.recycleAsyncId(ce,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(qe,we,N)=>{N.d(we,{v:()=>x});var y=N(6063);class Z{constructor(J,fe=Z.now){this.schedulerActionCtor=J,this.now=fe}schedule(J,fe=0,re){return new this.schedulerActionCtor(this,J).schedule(re,fe)}}Z.now=y.l.now;class x extends Z{constructor(J,fe=Z.now){super(J,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:fe}=this;if(this._active)return void fe.push(J);let re;this._active=!0;do{if(re=J.execute(J.state,J.delay))break}while(J=fe.shift());if(this._active=!1,re){for(;J=fe.shift();)J.unsubscribe();throw re}}}},4986:(qe,we,N)=>{N.d(we,{z:()=>x});var y=N(4408);const x=new(N(7565).v)(y.o)},6063:(qe,we,N)=>{N.d(we,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(qe,we,N)=>{N.d(we,{z:()=>y});const y={setTimeout(Z,x,...oe){const{delegate:J}=y;return(null==J?void 0:J.setTimeout)?J.setTimeout(Z,x,...oe):setTimeout(Z,x,...oe)},clearTimeout(Z){const{delegate:x}=y;return((null==x?void 0:x.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(qe,we,N)=>{N.d(we,{h:()=>Z});const Z=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qe,we,N)=>{N.d(we,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(qe,we,N)=>{N.d(we,{_6:()=>fe,jO:()=>oe,yG:()=>J});var y=N(576);function x(re){return re[re.length-1]}function oe(re){return(0,y.m)(x(re))?re.pop():void 0}function J(re){return function Z(re){return re&&(0,y.m)(re.schedule)}(x(re))?re.pop():void 0}function fe(re,ce){return"number"==typeof x(re)?re.pop():ce}},8737:(qe,we,N)=>{function y(Z,x){if(Z){const oe=Z.indexOf(x);0<=oe&&Z.splice(oe,1)}}N.d(we,{P:()=>y})},3888:(qe,we,N)=>{function y(Z){const oe=Z(J=>{Error.call(J),J.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}N.d(we,{d:()=>y})},2806:(qe,we,N)=>{N.d(we,{O:()=>oe,x:()=>x});var y=N(2416);let Z=null;function x(J){if(y.v.useDeprecatedSynchronousErrorHandling){const fe=!Z;if(fe&&(Z={errorThrown:!1,error:null}),J(),fe){const{errorThrown:re,error:ce}=Z;if(Z=null,re)throw ce}}else J()}function oe(J){y.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=J)}},9672:(qe,we,N)=>{function y(Z,x,oe,J=0,fe=!1){const re=x.schedule(function(){oe(),fe?Z.add(this.schedule(null,J)):this.unsubscribe()},J);if(Z.add(re),!fe)return re}N.d(we,{f:()=>y})},4671:(qe,we,N)=>{function y(Z){return Z}N.d(we,{y:()=>y})},1144:(qe,we,N)=>{N.d(we,{z:()=>y});const y=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(qe,we,N)=>{N.d(we,{D:()=>Z});var y=N(576);function Z(x){return Symbol.asyncIterator&&(0,y.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(qe,we,N)=>{function y(Z){return"function"==typeof Z}N.d(we,{m:()=>y})},3670:(qe,we,N)=>{N.d(we,{c:()=>x});var y=N(8822),Z=N(576);function x(oe){return(0,Z.m)(oe[y.L])}},6495:(qe,we,N)=>{N.d(we,{T:()=>x});var y=N(2202),Z=N(576);function x(oe){return(0,Z.m)(null==oe?void 0:oe[y.h])}},8239:(qe,we,N)=>{N.d(we,{t:()=>Z});var y=N(576);function Z(x){return(0,y.m)(null==x?void 0:x.then)}},3260:(qe,we,N)=>{N.d(we,{L:()=>oe,Q:()=>x});var y=N(655),Z=N(576);function x(J){return(0,y.FC)(this,arguments,function*(){const re=J.getReader();try{for(;;){const{value:ce,done:le}=yield(0,y.qq)(re.read());if(le)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ce)}}finally{re.releaseLock()}})}function oe(J){return(0,Z.m)(null==J?void 0:J.getReader)}},4482:(qe,we,N)=>{N.d(we,{A:()=>Z,e:()=>x});var y=N(576);function Z(oe){return(0,y.m)(null==oe?void 0:oe.lift)}function x(oe){return J=>{if(Z(J))return J.lift(function(fe){try{return oe(fe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(qe,we,N)=>{function y(){}N.d(we,{Z:()=>y})},7849:(qe,we,N)=>{N.d(we,{h:()=>x});var y=N(2416),Z=N(3410);function x(oe){Z.z.setTimeout(()=>{const{onUnhandledError:J}=y.v;if(!J)throw oe;J(oe)})}},4532:(qe,we,N)=>{function y(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(we,{z:()=>y})},655:(qe,we,N)=>{function oe(K,ne){var pe={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&ne.indexOf(ie)<0&&(pe[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(ie=Object.getOwnPropertySymbols(K);Se<ie.length;Se++)ne.indexOf(ie[Se])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[Se])&&(pe[ie[Se]]=K[ie[Se]])}return pe}function ce(K,ne,pe,ie){return new(pe||(pe=Promise))(function(ae,dt){function Vt(rt){try{Ze(ie.next(rt))}catch(qt){dt(qt)}}function vn(rt){try{Ze(ie.throw(rt))}catch(qt){dt(qt)}}function Ze(rt){rt.done?ae(rt.value):function Se(ae){return ae instanceof pe?ae:new pe(function(dt){dt(ae)})}(rt.value).then(Vt,vn)}Ze((ie=ie.apply(K,ne||[])).next())})}function he(K){return this instanceof he?(this.v=K,this):new he(K)}function ye(K,ne,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ie=pe.apply(K,ne||[]),ae=[];return Se={},dt("next"),dt("throw"),dt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function dt(Zt){ie[Zt]&&(Se[Zt]=function(zr){return new Promise(function(Ht,oi){ae.push([Zt,zr,Ht,oi])>1||Vt(Zt,zr)})})}function Vt(Zt,zr){try{!function vn(Zt){Zt.value instanceof he?Promise.resolve(Zt.value.v).then(Ze,rt):qt(ae[0][2],Zt)}(ie[Zt](zr))}catch(Ht){qt(ae[0][3],Ht)}}function Ze(Zt){Vt("next",Zt)}function rt(Zt){Vt("throw",Zt)}function qt(Zt,zr){Zt(zr),ae.shift(),ae.length&&Vt(ae[0][0],ae[0][1])}}function Be(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ne=K[Symbol.asyncIterator];return ne?ne.call(K):(K=function Q(K){var ne="function"==typeof Symbol&&Symbol.iterator,pe=ne&&K[ne],ie=0;if(pe)return pe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),pe={},ie("next"),ie("throw"),ie("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ie(ae){pe[ae]=K[ae]&&function(dt){return new Promise(function(Vt,vn){!function Se(ae,dt,Vt,vn){Promise.resolve(vn).then(function(Ze){ae({value:Ze,done:Vt})},dt)}(Vt,vn,(dt=K[ae](dt)).done,dt.value)})}}}N.d(we,{FC:()=>ye,KL:()=>Be,_T:()=>oe,mG:()=>ce,qq:()=>he})},5e3:(qe,we,N)=>{N.d(we,{$8M:()=>vo,$Z:()=>bm,AFp:()=>JE,AaK:()=>ce,CRH:()=>FE,CZH:()=>Pp,CqO:()=>Sv,EJc:()=>n0,F4k:()=>Rm,FYo:()=>Rh,FiY:()=>Fr,G48:()=>PI,GfV:()=>yp,JOm:()=>se,LFG:()=>He,LSH:()=>Ga,Lbi:()=>fI,NdJ:()=>np,OlP:()=>gn,PXZ:()=>CI,QGY:()=>Am,Qsj:()=>AC,R0b:()=>Fo,RDi:()=>Si,Rgc:()=>Gc,SBq:()=>Ah,Sil:()=>mI,Suo:()=>kE,TTD:()=>xs,TgZ:()=>tp,VLi:()=>a0,X6Q:()=>RI,XFs:()=>Je,Xpm:()=>Ct,Y36:()=>uh,YKP:()=>NC,Yjl:()=>Gn,Yz7:()=>Ht,ZZ4:()=>kp,_UZ:()=>fh,_Vd:()=>Vr,_c5:()=>Lp,_uU:()=>qm,aQg:()=>Fp,c2e:()=>t0,cJS:()=>jt,cg1:()=>r_,dDg:()=>wI,deG:()=>lf,dqk:()=>Rt,eFA:()=>l0,g9A:()=>$_,h0i:()=>Ph,hGG:()=>D0,iGM:()=>xE,ifc:()=>At,ip1:()=>QE,kL8:()=>i_,lG2:()=>kt,oAB:()=>Y,q4F:()=>v_,qLn:()=>nr,qZA:()=>hh,sBO:()=>MI,sIi:()=>nh,s_b:()=>dl,soG:()=>W_,tBr:()=>lr,tb:()=>e0,tp0:()=>zs,uIk:()=>gm,vHH:()=>Ae,vpe:()=>ko,wAp:()=>at,z2F:()=>d0,zSh:()=>Ic,zs3:()=>Ut});var y=N(7579),Z=N(727),x=N(8306),oe=N(6451),J=N(3099);function fe(r){for(let i in r)if(r[i]===fe)return i;throw Error("Could not find renamed property on target object.")}function ce(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ce).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function le(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const j=fe({__forward_ref__:fe});function H(r){return r.__forward_ref__=H,r.toString=function(){return ce(this())},r}function Q(r){return function Ue(r){return"function"==typeof r&&r.hasOwnProperty(j)&&r.__forward_ref__===H}(r)?r():r}class Ae extends Error{constructor(i,o){super(function Oe(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function he(r){return"string"==typeof r?r:null==r?"":String(r)}function ye(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():he(r)}function me(r,i){const o=i?` in ${i}`:"";throw new Ae(-201,`No provider for ${ye(r)} found${o}`)}function Ze(r,i){null==r&&function rt(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Ht(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function jt(r){return{providers:r.providers||[],imports:r.imports||[]}}function St(r){return Un(r,ai)||Un(r,wi)}function Un(r,i){return r.hasOwnProperty(i)?r[i]:null}function sr(r){return r&&(r.hasOwnProperty(or)||r.hasOwnProperty(li))?r[or]:null}const ai=fe({\u0275prov:fe}),or=fe({\u0275inj:fe}),wi=fe({ngInjectableDef:fe}),li=fe({ngInjectorDef:fe});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let fr;function Pn(r){const i=fr;return fr=r,i}function Sr(r,i,o){const l=St(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Je.Optional?null:void 0!==i?i:void me(ce(r),"Injector")}function en(r){return{toString:r}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),At=(()=>{return(r=At||(At={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",At;var r})();const Ge="undefined"!=typeof globalThis&&globalThis,lt="undefined"!=typeof window&&window,Bn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt=Ge||"undefined"!=typeof global&&global||lt||Bn,Vn={},Xe=[],zn=fe({\u0275cmp:fe}),Dt=fe({\u0275dir:fe}),Ve=fe({\u0275pipe:fe}),Ie=fe({\u0275mod:fe}),je=fe({\u0275fac:fe}),et=fe({__NG_ELEMENT_ID__:fe});let bt=0;function Ct(r){return en(()=>{const o={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Xe,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||At.Emulated,id:"c",styles:r.styles||Xe,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,_=r.pipes;return l.id+=bt++,l.inputs=it(r.inputs,o),l.outputs=it(r.outputs),h&&h.forEach(E=>E(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(U):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(W):null,l})}function U(r){return Nt(r)||function dn(r){return r[Dt]||null}(r)}function W(r){return function mt(r){return r[Ve]||null}(r)}const ue={};function Y(r){return en(()=>{const i={type:r.type,bootstrap:r.bootstrap||Xe,declarations:r.declarations||Xe,imports:r.imports||Xe,exports:r.exports||Xe,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ue[r.id]=r.type),i})}function it(r,i){if(null==r)return Vn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=l,i&&(i[c]=h)}return o}const kt=Ct;function Gn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Nt(r){return r[zn]||null}function Qt(r,i){const o=r[Ie]||null;if(!o&&!0===i)throw new Error(`Type ${ce(r)} does not have '\u0275mod' property.`);return o}function Kr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Rr(r){return Array.isArray(r)&&!0===r[1]}function Au(r){return 0!=(8&r.flags)}function Zi(r){return 2==(2&r.flags)}function va(r){return 1==(1&r.flags)}function pr(r){return null!==r.template}function nd(r){return 0!=(512&r[2])}function gr(r,i){return r.hasOwnProperty(je)?r[je]:null}class oo{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function xs(){return $o}function $o(r){return r.type.prototype.ngOnChanges&&(r.setInput=sf),xu}function xu(){const r=Ji(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Vn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function sf(r,i,o,l){const c=Ji(r)||function Pr(r,i){return r[ao]=i}(r,{previous:Vn,current:null}),h=c.current||(c.current={}),_=c.previous,E=this.declaredInputs[o],C=_[E];h[E]=new oo(C&&C.currentValue,i,_===Vn),r[l]=i}xs.ngInherit=!0;const ao="__ngSimpleChanges__";function Ji(r){return r[ao]||null}let Ta;function Si(r){Ta=r}function tn(r){return!!r.listen}const lo={createRenderer:(r,i)=>function Wo(){return void 0!==Ta?Ta:"undefined"!=typeof document?document:void 0}()};function Kt(r){for(;Array.isArray(r);)r=r[0];return r}function Zn(r,i){return Kt(i[r.index])}function zo(r,i){return r.data[i]}function Yn(r,i){const o=i[r];return Kr(o)?o:o[0]}function es(r){return 4==(4&r[2])}function Ai(r){return 128==(128&r[2])}function _r(r,i){return null==i?null:r[i]}function ts(r){r[18]=0}function ns(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const tt={lFrame:Us(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ma(){return tt.bindingsEnabled}function ve(){return tt.lFrame.lView}function It(){return tt.lFrame.tView}function on(){let r=uo();for(;null!==r&&64===r.type;)r=r.parent;return r}function uo(){return tt.lFrame.currentTNode}function yr(r,i){const o=tt.lFrame;o.currentTNode=r,o.isParent=i}function yl(){return tt.lFrame.isParent}function Oa(){return tt.isInCheckNoChangesMode}function rs(r){tt.isInCheckNoChangesMode=r}function ka(r,i){const o=tt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ko(i)}function Ko(r){tt.lFrame.currentDirectiveIndex=r}function Il(){return tt.lFrame.currentQueryIndex}function Dl(r){tt.lFrame.currentQueryIndex=r}function Bu(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function bl(r,i,o){if(o&Je.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&Je.Host||(c=Bu(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=tt.lFrame=Vu();return l.currentTNode=i,l.lView=r,!0}function Ls(r){const i=Vu(),o=r[1];tt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Vu(){const r=tt.lFrame,i=null===r?null:r.child;return null===i?Us(r):i}function Us(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ju(){const r=tt.lFrame;return tt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Hu=ju;function Bs(){const r=ju();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function os(r){tt.lFrame.selectedIndex=r}function Ri(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:A}=h;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),S&&((r.viewHooks||(r.viewHooks=[])).push(o,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,S)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function qo(r,i,o){$u(r,i,3,o)}function Fa(r,i,o,l){(3&r[2])===o&&$u(r,i,o,l)}function Sn(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function $u(r,i,o,l){const h=null!=l?l:-1,_=i.length-1;let E=0;for(let C=void 0!==l?65535&r[18]:0;C<_;C++)if("number"==typeof i[C+1]){if(E=i[C],null!=l&&E>=l)break}else i[C]<0&&(r[18]+=65536),(E<h||-1==h)&&(of(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function of(r,i,o,l){const c=o[l]<0,h=o[l+1],E=r[c?-o[l]:o[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class fo{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function ot(r,i,o){const l=tn(r);let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const _=o[c++],E=o[c++],C=o[c++];l?r.setAttribute(i,E,C,_):i.setAttributeNS(_,E,C)}else{const _=h,E=o[++c];vr(_)?l&&r.setProperty(i,_,E):l?r.setAttribute(i,_,E):i.setAttribute(_,E),c++}}return c}function $n(r){return 3===r||4===r||6===r}function vr(r){return 64===r.charCodeAt(0)}function Or(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||po(r,o,c,null,-1===o||2===o?i[++l]:null)}}return r}function po(r,i,o,l,c){let h=0,_=r.length;if(-1===i)_=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){_=-1;break}if(E>i){_=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===o){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==_&&(r.splice(_,0,i),h=_+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function Gu(r){return-1!==r}function Xt(r){return 32767&r}function di(r,i){let o=function ad(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let La=!0;function Er(r){const i=La;return La=r,i}let ld=0;function In(r,i){const o=mo(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Mi(l.data,r),Mi(i,null),Mi(l.blueprint,null));const c=Nr(r,i),h=r.injectorIndex;if(Gu(c)){const _=Xt(c),E=di(c,i),C=E[1].data;for(let S=0;S<8;S++)i[h+S]=E[_+S]|C[_+S]}return i[h+8]=c,h}function Mi(r,i){r.push(0,0,0,0,0,0,0,0,i)}function mo(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Nr(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const h=c[1],_=h.type;if(l=2===_?h.declTNode:1===_?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function as(r,i,o){!function go(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(et)&&(l=o[et]),null==l&&(l=o[et]=ld++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function hi(r,i,o){if(o&Je.Optional)return r;me(i,"NodeInjector")}function Ml(r,i,o,l){if(o&Je.Optional&&void 0===l&&(l=null),0==(o&(Je.Self|Je.Host))){const c=r[9],h=Pn(void 0);try{return c?c.get(i,l,o&Je.Optional):Sr(i,l,o&Je.Optional)}finally{Pn(h)}}return hi(l,i,o)}function ls(r,i,o,l=Je.Default,c){if(null!==r){const h=function yo(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(et)?r[et]:void 0;return"number"==typeof i?i>=0?255&i:Ol:i}(o);if("function"==typeof h){if(!bl(i,r,l))return l&Je.Host?hi(c,o,l):Ml(i,o,l,c);try{const _=h(l);if(null!=_||l&Je.Optional)return _;me(o)}finally{Hu()}}else if("number"==typeof h){let _=null,E=mo(r,i),C=-1,S=l&Je.Host?i[16][6]:null;for((-1===E||l&Je.SkipSelf)&&(C=-1===E?Nr(r,i):i[E+8],-1!==C&&Xn(l,!1)?(_=i[1],E=Xt(C),i=di(C,i)):E=-1);-1!==E;){const A=i[1];if(Yo(h,E,A.data)){const k=qu(E,i,o,_,l,S);if(k!==fi)return k}C=i[E+8],-1!==C&&Xn(l,i[1].data[E+8]===S)&&Yo(h,E,i)?(_=A,E=Xt(C),i=di(C,i)):E=-1}}}return Ml(i,o,l,c)}const fi={};function Ol(){return new Qr(on(),ve())}function qu(r,i,o,l,c,h){const _=i[1],E=_.data[r+8],A=_o(E,_,o,null==l?Zi(E)&&La:l!=_&&0!=(3&E.type),c&Je.Host&&h===E);return null!==A?Yr(i,_,A,E):fi}function _o(r,i,o,l,c){const h=r.providerIndexes,_=i.data,E=1048575&h,C=r.directiveStart,A=h>>20,B=c?E+A:r.directiveEnd;for(let G=l?E:E+A;G<B;G++){const ge=_[G];if(G<C&&o===ge||G>=C&&ge.type===o)return G}if(c){const G=_[C];if(G&&pr(G)&&G.type===o)return C}return null}function Yr(r,i,o,l){let c=r[o];const h=i.data;if(function Wu(r){return r instanceof fo}(c)){const _=c;_.resolving&&function We(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${o}`)}(ye(h[o]));const E=Er(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Pn(_.injectImpl):null;bl(r,l,Je.Default);try{c=r[o]=_.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function Al(r,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const _=$o(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&Pn(C),Er(E),_.resolving=!1,Hu()}}return c}function Yo(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Xn(r,i){return!(r&Je.Self||r&Je.Host&&i)}class Qr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return ls(this._tNode,this._lView,i,l,o)}}function vo(r){return function Zo(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const h=o[c];if($n(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(on(),r)}const Eo="__parameters__";function pn(r,i,o){return en(()=>{const l=function pi(r){return function(...o){if(r){const l=r(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const _=new c(...h);return E.annotation=_,E;function E(C,S,A){const k=C.hasOwnProperty(Eo)?C[Eo]:Object.defineProperty(C,Eo,{value:[]})[Eo];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(_),C}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class gn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lf=new gn("AnalyzeForEntryComponents");function er(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),er(l,i)):i!==r&&i.push(l)}return i}function xr(r,i){r.forEach(o=>Array.isArray(o)?xr(o,i):i(o))}function kl(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ni(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const $s={},Co="__NG_DI_FLAG__",ja="ngTempTokenPath",D=/\n/gm,L="__source",q=fe({provide:String,useValue:fe});let ee;function be(r){const i=ee;return ee=r,i}function Te(r,i=Je.Default){if(void 0===ee)throw new Ae(203,"");return null===ee?Sr(r,void 0,i):ee.get(r,i&Je.Optional?null:void 0,i)}function He(r,i=Je.Default){return(function xn(){return fr}()||Te)(Q(r),i)}const _t=He;function ht(r){const i=[];for(let o=0;o<r.length;o++){const l=Q(r[o]);if(Array.isArray(l)){if(0===l.length)throw new Ae(900,"");let c,h=Je.Default;for(let _=0;_<l.length;_++){const E=l[_],C=mn(E);"number"==typeof C?-1===C?c=E.token:h|=C:c=E}i.push(He(c,h))}else i.push(He(l))}return i}function An(r,i){return r[Co]=i,r.prototype[Co]=i,r}function mn(r){return r[Co]}const lr=An(pn("Inject",r=>({token:r})),-1),Fr=An(pn("Optional"),8),zs=An(pn("SkipSelf"),4);class ic{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const gs=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $t=(()=>(($t=$t||{})[$t.NONE=0]="NONE",$t[$t.HTML=1]="HTML",$t[$t.STYLE=2]="STYLE",$t[$t.SCRIPT=3]="SCRIPT",$t[$t.URL=4]="URL",$t[$t.RESOURCE_URL=5]="RESOURCE_URL",$t))();function Ga(r){const i=function So(){const r=ve();return r&&r[12]}();return i?i.sanitize($t.URL,r)||"":function bo(r,i){const o=function $a(r){return r instanceof ic&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?function ps(r){return r instanceof ic?r.changingThisBreaksApplicationSecurity:r}(r):function Wa(r){return(r=String(r)).match(gs)||r.match(_d)?r:"unsafe:"+r}(he(r))}const Sd="__ngContext__";function ur(r,i){r[Sd]=i}function Ad(r){const i=function ta(r){return r[Sd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function ia(r){return r.ngOriginalError}function Df(r,...i){r.error(...i)}class nr{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function dg(r){return r&&r.ngErrorLogger||Df}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&ia(i);for(;o&&ia(o);)o=ia(o);return o||null}}const gg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function f(r){return r instanceof Function?r():r}var se=(()=>((se=se||{})[se.Important=1]="Important",se[se.DashCase=2]="DashCase",se))();function $e(r,i){return undefined(r,i)}function _n(r){const i=r[3];return Rr(i)?i[3]:i}function Ka(r){return Fd(r[13])}function qa(r){return Fd(r[4])}function Fd(r){for(;null!==r&&!Rr(r);)r=r[4];return r}function Ao(r,i,o,l,c){if(null!=l){let h,_=!1;Rr(l)?h=l:Kr(l)&&(_=!0,l=l[0]);const E=Kt(l);0===r&&null!==o?null==c?Ig(i,o,E):ki(i,o,E,c||null,!0):1===r&&null!==o?ki(i,o,E,c||null,!0):2===r?function Sg(r,i,o){const l=Bd(r,i);l&&function k0(r,i,o,l){tn(r)?r.removeChild(i,o,l):i.removeChild(o)}(r,l,i,o)}(i,E,_):3===r&&i.destroyNode(E),null!=h&&function U0(r,i,o,l,c){const h=o[7];h!==Kt(o)&&Ao(i,r,l,h,c);for(let E=10;E<o.length;E++){const C=o[E];Rf(C[1],C,r,i,l,h)}}(i,r,h,o,c)}}function fc(r,i,o){if(tn(r))return r.createElement(i,o);{const l=null!==o?function ba(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?r.createElement(i):r.createElementNS(l,i)}}function dy(r,i){const o=r[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,ns(c,-1)),o.splice(l,1)}function Eg(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const c=l[17];null!==c&&c!==r&&dy(c,l),i>0&&(r[o-1][4]=l[4]);const h=Ni(r,10+i);!function ni(r,i){Rf(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const _=h[19];null!==_&&_.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function wg(r,i){if(!(256&i[2])){const o=i[11];tn(o)&&o.destroyNode&&Rf(r,i,o,3,null,null),function yg(r){let i=r[13];if(!i)return Cg(r[1],r);for(;i;){let o=null;if(Kr(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)Kr(i)&&Cg(i[1],i),i=i[3];null===i&&(i=r),Kr(i)&&Cg(i[1],i),o=i&&i[4]}i=o}}(i)}}function Cg(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function fy(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof fo)){const h=o[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const E=c[h[_]],C=h[_+1];try{C.call(E)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function hy(r,i){const o=r.cleanup,l=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+1],E="function"==typeof _?_(i):Kt(i[_]),C=l[c=o[h+2]],S=o[h+3];"boolean"==typeof S?E.removeEventListener(o[h],C,S):S>=0?l[c=S]():l[c=-S].unsubscribe(),h+=2}else{const _=l[c=o[h+1]];o[h].call(_)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();i[7]=null}}(r,i),1===i[1].type&&tn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Rr(i[3])){o!==i[3]&&dy(o,i);const l=i[19];null!==l&&l.detachView(r)}}}function Sf(r,i,o){return function x0(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===At.None||c===At.Emulated)return null}return Zn(l,o)}(r,i.parent,o)}function ki(r,i,o,l,c){tn(r)?r.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function Ig(r,i,o){tn(r)?r.appendChild(i,o):i.appendChild(o)}function py(r,i,o,l,c){null!==l?ki(r,i,o,l,c):Ig(r,i,o)}function Bd(r,i){return tn(r)?r.parentNode(i):i.parentNode}let Dg=function my(r,i,o){return 40&r.type?Zn(r,o):null};function Af(r,i,o,l){const c=Sf(r,l,i),h=i[11],E=function gy(r,i,o){return Dg(r,i,o)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let C=0;C<o.length;C++)py(h,c,o[C],E,!1);else py(h,c,o,E,!1)}function gc(r,i){if(null!==i){const o=i.type;if(3&o)return Zn(i,r);if(4&o)return Tg(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return gc(r,l);{const c=r[i.index];return Rr(c)?Tg(-1,c):Kt(c)}}if(32&o)return $e(i,r)()||Kt(r[i.index]);{const l=yy(r,i);return null!==l?Array.isArray(l)?l[0]:gc(_n(r[16]),l):gc(r,i.next)}}return null}function yy(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Tg(r,i){const o=10+r+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return gc(l,c)}return i[7]}function Ag(r,i,o,l,c,h,_){for(;null!=o;){const E=l[o.index],C=o.type;if(_&&0===i&&(E&&ur(Kt(E),l),o.flags|=4),64!=(64&o.flags))if(8&C)Ag(r,i,o.child,l,c,h,!1),Ao(i,r,c,E,h);else if(32&C){const S=$e(o,l);let A;for(;A=S();)Ao(i,r,c,A,h);Ao(i,r,c,E,h)}else 16&C?vy(r,i,l,o,c,h):Ao(i,r,c,E,h);o=_?o.projectionNext:o.next}}function Rf(r,i,o,l,c,h){Ag(o,l,r.firstChild,i,c,h,!1)}function vy(r,i,o,l,c,h){const _=o[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ao(i,r,c,C[S],h);else Ag(r,i,C,_[3],c,h,!0)}function ms(r,i,o){tn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Rg(r,i,o){tn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Pf(r,i,o){let l=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}o=c+1}}const Ey="ng-template";function j0(r,i,o){let l=0;for(;l<r.length;){let c=r[l++];if(o&&"class"===c){if(c=r[l],-1!==Pf(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function wy(r){return 4===r.type&&r.value!==Ey}function H0(r,i,o){return i===(4!==r.type||o?r.value:Ey)}function $0(r,i,o){let l=4;const c=r.attrs||[],h=function tu(r){for(let i=0;i<r.length;i++)if($n(r[i]))return i;return r.length}(c);let _=!1;for(let E=0;E<i.length;E++){const C=i[E];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!H0(r,C,o)||""===C&&1===i.length){if(Rn(l))return!1;_=!0}}else{const S=8&l?C:i[++E];if(8&l&&null!==r.attrs){if(!j0(r.attrs,S,o)){if(Rn(l))return!1;_=!0}continue}const k=iD(8&l?"class":C,c,wy(r),o);if(-1===k){if(Rn(l))return!1;_=!0;continue}if(""!==S){let B;B=k>h?"":c[k+1].toLowerCase();const G=8&l?B:null;if(G&&-1!==Pf(G,S,0)||2&l&&S!==B){if(Rn(l))return!1;_=!0}}}}else{if(!_&&!Rn(l)&&!Rn(C))return!1;if(_&&Rn(C))continue;_=!1,l=C|1&l}}return Rn(l)||_}function Rn(r){return 0==(1&r)}function iD(r,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let h=!1;for(;c<i.length;){const _=i[c];if(_===r)return c;if(3===_||6===_)h=!0;else{if(1===_||2===_){let E=i[++c];for(;"string"==typeof E;)E=i[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=h?1:2}return-1}return function nu(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function Cy(r,i,o=!1){for(let l=0;l<i.length;l++)if($0(r,i[l],o))return!0;return!1}function Vd(r,i){return r?":not("+i.trim()+")":i}function Iy(r){let i=r[0],o=1,l=2,c="",h=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const E=r[++o];c+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+_:4&l&&(c+=" "+_);else""!==c&&!Rn(_)&&(i+=Vd(h,c),c=""),l=_,h=h||!Rn(l);o++}return""!==c&&(i+=Vd(h,c)),i}const gt={};function Ny(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],h=o[l+1];if(-1!==h){const _=r.data[h];Dl(c),_.contentQueries(2,i[h],h)}}}function su(r,i,o,l,c,h,_,E,C,S){const A=i.blueprint.slice();return A[0]=c,A[2]=140|l,ts(A),A[3]=A[15]=r,A[8]=o,A[10]=_||r&&r[10],A[11]=E||r&&r[11],A[12]=C||r&&r[12]||null,A[9]=S||r&&r[9]||null,A[6]=h,A[16]=2==i.type?r[16]:A,A}function yc(r,i,o,l,c){let h=r.data[i];if(null===h)h=function Kg(r,i,o,l,c){const h=uo(),_=yl(),C=r.data[i]=function X0(r,i,o,l,c,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,i,l,c);return null===r.firstChild&&(r.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,c),function wl(){return tt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=c;const _=function co(){const r=tt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return yr(h,!0),h}function ou(r,i,o,l){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function $d(r,i,o){Ls(i);try{const l=r.viewQuery;null!==l&&rm(1,l,o);const c=r.template;null!==c&&qg(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ny(r,i),r.staticViewQueries&&rm(2,r.viewQuery,o);const h=r.components;null!==h&&function Gg(r,i){for(let o=0;o<i.length;o++)rw(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Bs()}}function vc(r,i,o,l){const c=i[2];if(256==(256&c))return;Ls(i);const h=Oa();try{ts(i),function Na(r){return tt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&qg(r,i,o,2,l);const _=3==(3&c);if(!h)if(_){const S=r.preOrderCheckHooks;null!==S&&qo(i,S,null)}else{const S=r.preOrderHooks;null!==S&&Fa(i,S,0,null),Sn(i,0)}if(function Ya(r){for(let i=Ka(r);null!==i;i=qa(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],h=c[3];0==(1024&c[2])&&ns(h,1),c[2]|=1024}}}(i),function Pt(r){for(let i=Ka(r);null!==i;i=qa(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];Ai(l)&&vc(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&Ny(r,i),!h)if(_){const S=r.contentCheckHooks;null!==S&&qo(i,S)}else{const S=r.contentHooks;null!==S&&Fa(i,S,1),Sn(i,1)}!function Oy(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)os(~c);else{const h=c,_=o[++l],E=o[++l];ka(_,h),E(2,i[h])}}}finally{os(-1)}}(r,i);const E=r.components;null!==E&&function zg(r,i){for(let o=0;o<i.length;o++)an(r,i[o])}(i,E);const C=r.viewQuery;if(null!==C&&rm(2,C,l),!h)if(_){const S=r.viewCheckHooks;null!==S&&qo(i,S)}else{const S=r.viewHooks;null!==S&&Fa(i,S,2),Sn(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,ns(i[3],-1))}finally{Bs()}}function Y0(r,i,o,l){const c=i[10],h=!Oa(),_=es(i);try{h&&!_&&c.begin&&c.begin(),_&&$d(r,i,l),vc(r,i,o,l)}finally{h&&!_&&c.end&&c.end()}}function qg(r,i,o,l,c){const h=function Qn(){return tt.lFrame.selectedIndex}(),_=2&l;try{os(-1),_&&i.length>20&&function by(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&qo(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Fa(i,h,0,o)}os(o)}(r,i,20,Oa()),o(l,c)}finally{os(h)}}function xy(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Bf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Bf(r,i,o,l,c,h,_,E,C,S){const A=20+l,k=A+c,B=function Q0(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:gt);return o}(A,k),G="function"==typeof S?S():S;return B[1]={type:r,blueprint:B,template:o,queries:null,viewQuery:E,declTNode:i,data:B.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:G,incompleteFirstPass:!1}}function Fy(r,i,o,l){const c=Qa(i);null===o?c.push(l):(c.push(o),r.firstCreatePass&&$f(r).push(l,c.length-1))}function Ly(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function jf(r,i,o,l,c,h){const _=h.hostBindings;if(_){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~i.index;(function Vy(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=C&&E.push(C),E.push(l,c,_)}}function Hy(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function em(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function zy(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;pr(i)&&(o[""]=r)}}function Gy(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function tm(r,i,o,l,c){r.data[l]=c;const h=c.factory||(c.factory=gr(c.type)),_=new fo(h,pr(c),null);r.blueprint[l]=_,o[l]=_,jf(r,i,0,l,ou(r,o,c.hostVars,gt),c)}function Ky(r,i,o){const l=Zn(i,r),c=xy(o),h=r[10],_=Kd(r,su(r,c,null,o.onPush?64:16,l,i,h,h.createRenderer(l,o),null,null));r[i.index]=_}function Ys(r,i,o,l,c,h){const _=Zn(r,i);!function wc(r,i,o,l,c,h,_){if(null==h)tn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const E=null==_?he(h):_(h,l||"",c);tn(r)?r.setAttribute(i,c,E,o):o?i.setAttributeNS(o,c,E):i.setAttribute(c,E)}}(i[11],_,h,r.value,o,l,c)}function qy(r,i,o,l,c,h){const _=h[i];if(null!==_){const E=l.setInput;for(let C=0;C<_.length;){const S=_[C++],A=_[C++],k=_[C++];null!==E?l.setInput(o,k,S,A):o[A]=k}}}function Zy(r,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function an(r,i){const o=Yn(i,r);if(Ai(o)){const l=o[1];80&o[2]?vc(l,o,l.template,o[8]):o[5]>0&&zd(o)}}function zd(r){for(let l=Ka(r);null!==l;l=qa(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const _=h[1];vc(_,h,_.template,h[8])}else h[5]>0&&zd(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=Yn(o[l],r);Ai(c)&&c[5]>0&&zd(c)}}function rw(r,i){const o=Yn(i,r),l=o[1];(function Gd(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),$d(l,o,o[8])}function Kd(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function un(r){for(;r;){r[2]|=64;const i=_n(r);if(nd(r)&&!i)return r;r=i}return null}function nm(r,i,o){const l=i[10];l.begin&&l.begin();try{vc(r,i,r.template,o)}catch(c){throw Qy(i,c),c}finally{l.end&&l.end()}}function Hf(r){!function Ir(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],l=Ad(o),c=l[1];Y0(c,l,c.template,o)}}(r[8])}function rm(r,i,o){Dl(0),i(r,o)}const Yy=(()=>Promise.resolve(null))();function Qa(r){return r[7]||(r[7]=[])}function $f(r){return r.cleanup||(r.cleanup=[])}function Qy(r,i){const o=r[9],l=o?o.get(nr,null):null;l&&l.handleError(i)}function Wf(r,i,o){let l=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const E=i[_];"number"==typeof E?h=E:1==h?c=le(c,E):2==h&&(l=le(l,E+": "+i[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=c:r.classesWithoutHost=c}const la=new gn("INJECTOR",-1);class Ot{get(i,o=$s){if(o===$s){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return o}}const Ic=new gn("Set Injector scope."),Ja={},Xy={};let ys;function qd(){return void 0===ys&&(ys=new Ot),ys}function vs(r,i=null,o=null,l){const c=ev(r,i,o,l);return c._resolveInjectorDefTypes(),c}function ev(r,i=null,o=null,l){return new Ei(r,o,i||qd(),l)}class Ei{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&xr(o,E=>this.processProvider(E,i,o)),xr([i],E=>this.processInjectorType(E,[],h)),this.records.set(la,au(void 0,this));const _=this.records.get(Ic);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof i?null:ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=$s,l=Je.Default){this.assertNotDestroyed();const c=be(this),h=Pn(void 0);try{if(!(l&Je.SkipSelf)){let E=this.records.get(i);if(void 0===E){const C=function cw(r){return"function"==typeof r||"object"==typeof r&&r instanceof gn}(i)&&St(i);E=C&&this.injectableDefInScope(C)?au(im(i),Ja):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&Je.Self?qd():this.parent).get(i,o=l&Je.Optional&&o===$s?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[ja]=_[ja]||[]).unshift(ce(i)),c)throw _;return function Io(r,i,o,l){const c=r[ja];throw i[L]&&c.unshift(i[L]),r.message=function Ws(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=ce(i);if(Array.isArray(i))c=i.map(ce).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let E=i[_];h.push(_+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}c=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${r.replace(D,"\n  ")}`}("\n"+r.message,c,o,l),r.ngTokenPath=c,r[ja]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{Pn(h),be(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(ce(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(i,o,l){if(!(i=Q(i)))return!1;let c=sr(i);const h=null==c&&i.ngModule||void 0,_=void 0===h?i:h,E=-1!==l.indexOf(_);if(void 0!==h&&(c=sr(h)),null==c)return!1;if(null!=c.imports&&!E){let A;l.push(_);try{xr(c.imports,k=>{this.processInjectorType(k,o,l)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:B,providers:G}=A[k];xr(G,ge=>this.processProvider(ge,B,G||Xe))}}this.injectorDefTypes.add(_);const C=gr(_)||(()=>new _);this.records.set(_,au(C,Ja));const S=c.providers;if(null!=S&&!E){const A=i;xr(S,k=>this.processProvider(k,A,S))}return void 0!==h&&void 0!==i.providers}processProvider(i,o,l){let c=lu(i=Q(i))?i:Q(i&&i.provide);const h=function om(r,i,o){return am(r)?au(void 0,r.useValue):au(function tv(r,i,o){let l;if(lu(r)){const c=Q(r);return gr(c)||im(c)}if(am(r))l=()=>Q(r.useValue);else if(function Dc(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...ht(r.deps||[]));else if(function nv(r){return!(!r||!r.useExisting)}(r))l=()=>He(Q(r.useExisting));else{const c=Q(r&&(r.useClass||r.provide));if(!function lw(r){return!!r.deps}(r))return gr(c)||im(c);l=()=>new c(...ht(r.deps))}return l}(r),Ja)}(i);if(lu(i)||!0!==i.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=au(void 0,Ja,!0),_.factory=()=>ht(_.multi),this.records.set(c,_)),c=i,_.multi.push(i)}this.records.set(c,h)}hydrate(i,o){return o.value===Ja&&(o.value=Xy,o.value=o.factory()),"object"==typeof o.value&&o.value&&function uw(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Q(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function im(r){const i=St(r),o=null!==i?i.factory:gr(r);if(null!==o)return o;if(r instanceof gn)throw new Ae(204,!1);if(r instanceof Function)return function sm(r){const i=r.length;if(i>0)throw function Jr(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new Ae(204,!1);const o=function hr(r){const i=r&&(r[ai]||r[wi]);if(i){const o=function Wi(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Ae(204,!1)}function au(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function am(r){return null!==r&&"object"==typeof r&&q in r}function lu(r){return"function"==typeof r}let Ut=(()=>{class r{static create(o,l){var c;if(Array.isArray(o))return vs({name:""},l,o,"");{const h=null!==(c=o.name)&&void 0!==c?c:"";return vs({name:h},o.parent,o.providers,h)}}}return r.THROW_IF_NOT_FOUND=$s,r.NULL=new Ot,r.\u0275prov=Ht({token:r,providedIn:"any",factory:()=>He(la)}),r.__NG_ELEMENT_ID__=-1,r})();function dm(r,i){Ri(Ad(r)[1],on())}let th=null;function cu(){if(!th){const r=Rt.Symbol;if(r&&r.iterator)th=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(th=l)}}}return th}function nh(r){return!!rh(r)&&(Array.isArray(r)||!(r instanceof Map)&&cu()in r)}function rh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function gm(r,i,o,l){const c=ve();return function Ur(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}(c,function is(){return tt.lFrame.bindingIndex++}(),i)&&(It(),Ys(function hn(){const r=tt.lFrame;return zo(r.tView,r.selectedIndex)}(),c,r,i,o,l)),gm}function uh(r,i=Je.Default){const o=ve();return null===o?He(r,i):ls(on(),o,Q(r),i)}function bm(){throw new Error("invalid")}function dh(r,i,o,l,c){const _=c?"class":"style";!function Jy(r,i,o,l,c){for(let h=0;h<o.length;){const _=o[h++],E=o[h++],C=i[_],S=r.data[_];null!==S.setInput?S.setInput(C,c,l,E):C[E]=c}}(r,o,i.inputs[_],_,l)}function tp(r,i,o,l){const c=ve(),h=It(),_=20+r,E=c[11],C=c[_]=fc(E,i,function $p(){return tt.lFrame.currentNamespace}()),S=h.firstCreatePass?function bv(r,i,o,l,c,h,_){const E=i.consts,S=yc(i,r,2,c,_r(E,h));return function Xg(r,i,o,l){let c=!1;if(Ma()){const h=function $y(r,i,o){const l=r.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const _=l[h];Cy(o,_.selectors,!1)&&(c||(c=[]),as(In(o,i),r,_.type),pr(_)?(em(r,o),c.unshift(_)):c.push(_))}return c}(r,i,o),_=null===l?null:{"":-1};if(null!==h){c=!0,Gy(o,r.data.length,h.length);for(let A=0;A<h.length;A++){const k=h[A];k.providersResolver&&k.providersResolver(k)}let E=!1,C=!1,S=ou(r,i,h.length,null);for(let A=0;A<h.length;A++){const k=h[A];o.mergedAttrs=Or(o.mergedAttrs,k.hostAttrs),tm(r,o,i,S,k),zy(S,k,_),null!==k.contentQueries&&(o.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(o.flags|=128);const B=k.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),E=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),S++}!function Ec(r,i){const l=i.directiveEnd,c=r.data,h=i.attrs,_=[];let E=null,C=null;for(let S=i.directiveStart;S<l;S++){const A=c[S],k=A.inputs,B=null===h||wy(i)?null:Zy(k,h);_.push(B),E=Ly(k,S,E),C=Ly(A.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=E,i.outputs=C}(r,o)}_&&function Wy(r,i,o){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new Ae(-301,!1);l.push(i[c],h)}}}(o,l,_)}return o.mergedAttrs=Or(o.mergedAttrs,o.attrs),c}(i,o,S,_r(E,_)),null!==S.attrs&&Wf(S,S.attrs,!1),null!==S.mergedAttrs&&Wf(S,S.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,S),S}(_,h,c,0,i,o,l):h.data[_];yr(S,!0);const A=S.mergedAttrs;null!==A&&ot(E,C,A);const k=S.classes;null!==k&&Rg(E,C,k);const B=S.styles;return null!==B&&ms(E,C,B),64!=(64&S.flags)&&Af(h,c,C,S),0===function Go(){return tt.lFrame.elementDepthCount}()&&ur(C,c),function Ra(){tt.lFrame.elementDepthCount++}(),va(S)&&(function Uf(r,i,o){!Ma()||(function nw(r,i,o,l){const c=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||In(o,i),ur(l,i);const _=o.initialInputs;for(let E=c;E<h;E++){const C=r.data[E],S=pr(C);S&&Ky(i,o,C);const A=Yr(i,r,E,o);ur(A,i),null!==_&&qy(0,E-c,A,C,0,_),S&&(Yn(o.index,i)[8]=A)}}(r,i,o,Zn(o,i)),128==(128&o.flags)&&function jy(r,i,o){const l=o.directiveStart,c=o.directiveEnd,_=o.index,E=function Cl(){return tt.lFrame.currentDirectiveIndex}();try{os(_);for(let C=l;C<c;C++){const S=r.data[C],A=i[C];Ko(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Hy(S,A)}}finally{os(-1),Ko(E)}}(r,i,o))}(h,c,S),function Zg(r,i,o){if(Au(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const _=r.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}(h,S,c)),null!==l&&function Yg(r,i,o=Zn){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],E=-1===_?o(i,r):r[_];r[c++]=E}}}(c,S),tp}function hh(){let r=on();yl()?function vl(){tt.lFrame.isParent=!1}():(r=r.parent,yr(r,!1));const i=r;!function Pa(){tt.lFrame.elementDepthCount--}();const o=It();return o.firstCreatePass&&(Ri(o,r),Au(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function od(r){return 0!=(16&r.flags)}(i)&&dh(o,i,ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function af(r){return 0!=(32&r.flags)}(i)&&dh(o,i,ve(),i.stylesWithoutHost,!1),hh}function fh(r,i,o,l){return tp(r,i,o,l),hh(),fh}function Am(r){return!!r&&"function"==typeof r.then}function Rm(r){return!!r&&"function"==typeof r.subscribe}const Sv=Rm;function np(r,i,o,l){const c=ve(),h=It(),_=on();return function Mm(r,i,o,l,c,h,_,E){const C=va(l),A=r.firstCreatePass&&$f(r),k=i[8],B=Qa(i);let G=!0;if(3&l.type||E){const ke=Zn(l,i),ze=E?E(ke):ke,Ee=B.length,nt=E?Lt=>E(Kt(Lt[l.index])):l.index;if(tn(o)){let Lt=null;if(!E&&C&&(Lt=function Rw(r,i,o,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const _=c[h];if(_===o&&c[h+1]===l){const E=i[7],C=c[h+2];return E.length>C?E[C]:null}"string"==typeof _&&(h+=2)}return null}(r,i,c,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=h,Lt.__ngLastListenerFn__=h,G=!1;else{h=rp(l,i,k,h,!1);const rn=o.listen(ze,c,h);B.push(h,rn),A&&A.push(c,nt,Ee,Ee+1)}}else h=rp(l,i,k,h,!0),ze.addEventListener(c,h,_),B.push(h),A&&A.push(c,nt,Ee,_)}else h=rp(l,i,k,h,!1);const ge=l.outputs;let Pe;if(G&&null!==ge&&(Pe=ge[c])){const ke=Pe.length;if(ke)for(let ze=0;ze<ke;ze+=2){const Hr=i[Pe[ze]][Pe[ze+1]].subscribe(h),Du=B.length;B.push(h,Hr),A&&A.push(c,l.index,Du,-(Du+1))}}}(h,c,c[11],_,r,i,!!o,l),np}function ph(r,i,o,l){try{return!1!==o(l)}catch(c){return Qy(r,c),!1}}function rp(r,i,o,l,c){return function h(_){if(_===Function)return l;const E=2&r.flags?Yn(r.index,i):i;0==(32&i[2])&&un(E);let C=ph(i,0,l,_),S=h.__ngNextListenerFn__;for(;S;)C=ph(i,0,S,_)&&C,S=S.__ngNextListenerFn__;return c&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function qm(r,i=""){const o=ve(),l=It(),c=r+20,h=l.firstCreatePass?yc(l,c,1,i,null):l.data[c],_=o[c]=function dc(r,i){return tn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Af(l,o,_,h),yr(h,!1)}const pa=void 0;var zw=["en",[["a","p"],["AM","PM"],pa],[["AM","PM"],pa,pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pa,"{1} 'at' {0}",pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pp(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let sl={};function r_(r){const i=function s_(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=qv(i);if(o)return o;const l=i.split("-")[0];if(o=qv(l),o)return o;if("en"===l)return zw;throw new Error(`Missing locale data for the locale "${r}".`)}function i_(r){return r_(r)[at.PluralCase]}function qv(r){return r in sl||(sl[r]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[r]),sl[r]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const ga="en-US";let gu=ga;class wE{}class br{resolveComponentFactory(i){throw function TC(r){const i=Error(`No component factory found for ${ce(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Vr=(()=>{class r{}return r.NULL=new br,r})();function Sh(){return $c(on(),ve())}function $c(r,i){return new Ah(Zn(r,i))}let Ah=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Sh,r})();function SC(r){return r instanceof Ah?r.nativeElement:r}class Rh{}let AC=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function IE(){const r=ve(),o=Yn(on().index,r);return function RC(r){return r[11]}(Kr(o)?o:r)}(),r})(),DE=(()=>{class r{}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:()=>null}),r})();class yp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const v_=new yp("13.3.3"),Wc={};function vp(r,i,o,l,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(Kt(h)),Rr(h))for(let E=10;E<h.length;E++){const C=h[E],S=C[1].firstChild;null!==S&&vp(C[1],C,S,l)}const _=o.type;if(8&_)vp(r,i,o.child,l);else if(32&_){const E=$e(o,i);let C;for(;C=E();)l.push(C)}else if(16&_){const E=yy(i,o);if(Array.isArray(E))l.push(...E);else{const C=_n(i[16]);vp(C[1],C,E,l,!0)}}o=c?o.projectionNext:o.next}return l}class Ep{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return vp(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Rr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Eg(i,l),Ni(o,l))}this._attachedToViewContainer=!1}wg(this._lView[1],this._lView)}onDestroy(i){Fy(this._lView[1],this._lView,null,i)}markForCheck(){un(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _s(r,i,o){rs(!0);try{nm(r,i,o)}finally{rs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tf(r,i){Rf(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=i}}class PC extends Ep{constructor(i){super(i),this._view=i}detectChanges(){Hf(this._view)}checkNoChanges(){!function iw(r){rs(!0);try{Hf(r)}finally{rs(!1)}}(this._view)}get context(){return null}}class wp extends Vr{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Nt(i);return new E_(o,this.ngModule)}}function MC(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class E_ extends wE{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Dy(r){return r.map(Iy).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return MC(this.componentDef.inputs)}get outputs(){return MC(this.componentDef.outputs)}create(i,o,l,c){const h=(c=c||this.ngModule)?function OC(r,i){return{get:(o,l,c)=>{const h=r.get(o,Wc,c);return h!==Wc||l===Wc?h:i.get(o,l,c)}}}(i,c.injector):i,_=h.get(Rh,lo),E=h.get(DE,null),C=_.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",A=l?function Qg(r,i,o){if(tn(r))return r.selectRootElement(i,o===At.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(C,l,this.componentDef.encapsulation):fc(_.createRenderer(null,this.componentDef),S,function TD(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(S)),k=this.componentDef.onPush?576:528,B=function lv(r,i){return{components:[],scheduler:r||gg,clean:Yy,playerHandler:i||null,flags:0}}(),G=Bf(0,null,null,1,0,null,null,null,null,null),ge=su(null,G,B,k,null,null,_,C,E,h);let Pe,ke;Ls(ge);try{const ze=function Tc(r,i,o,l,c,h){const _=o[1];o[20]=r;const C=yc(_,20,2,"#host",null),S=C.mergedAttrs=i.hostAttrs;null!==S&&(Wf(C,S,!0),null!==r&&(ot(c,r,S),null!==C.classes&&Rg(c,r,C.classes),null!==C.styles&&ms(c,r,C.styles)));const A=l.createRenderer(r,i),k=su(o,xy(i),null,i.onPush?64:16,o[20],C,l,A,h||null,null);return _.firstCreatePass&&(as(In(C,o),_,i.type),em(_,C),Gy(C,o.length,1)),Kd(o,k),o[20]=k}(A,this.componentDef,ge,_,C);if(A)if(l)ot(C,A,["ng-version",v_.full]);else{const{attrs:Ee,classes:nt}=function Pg(r){const i=[],o=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&o.push(h);else{if(!Rn(c))break;c=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ee&&ot(C,A,Ee),nt&&nt.length>0&&Rg(C,A,nt.join(" "))}if(ke=zo(G,20),void 0!==o){const Ee=ke.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const Lt=o[nt];Ee.push(null!=Lt?Array.from(Lt):null)}}Pe=function Sc(r,i,o,l,c){const h=o[1],_=function tw(r,i,o){const l=on();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),tm(r,l,i,ou(r,i,1,null),o));const c=Yr(i,r,l.directiveStart,l);ur(c,i);const h=Zn(l,i);return h&&ur(h,i),c}(h,o,i);if(l.components.push(_),r[8]=_,c&&c.forEach(C=>C(_,i)),i.contentQueries){const C=on();i.contentQueries(1,_,C.directiveStart)}const E=on();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(os(E.index),jf(o[1],E,0,E.directiveStart,E.directiveEnd,i),Hy(i,_)),_}(ze,this.componentDef,ge,B,[dm]),$d(G,ge,null)}finally{Bs()}return new AD(this.componentType,Pe,$c(ke,ge),ge,ke)}}class AD extends class bC{}{constructor(i,o,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new PC(c),this.componentType=i}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Ph{}class NC{}const Mh=new Map;class Oh extends Ph{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wp(this);const l=Qt(i);this._bootstrapComponents=f(l.bootstrap),this._r3Injector=ev(i,o,[{provide:Ph,useValue:this},{provide:Vr,useValue:this.componentFactoryResolver}],ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Ut.THROW_IF_NOT_FOUND,l=Je.Default){return i===Ut||i===Ph||i===la?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Nh extends NC{constructor(i){super(),this.moduleType=i,null!==Qt(i)&&function xC(r){const i=new Set;!function o(l){const c=Qt(l,!0),h=c.id;null!==h&&(function w_(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${ce(i)} vs ${ce(i.name)}`)}(h,Mh.get(h),l),Mh.set(h,l));const _=f(c.imports);for(const E of _)i.has(E)||(i.add(E),o(E))}(r)}(i)}create(i){return new Oh(this.moduleType,i)}}function C_(r){return i=>{setTimeout(r,void 0,i)}}const ko=class AE extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,h,_;let E=i,C=o||(()=>null),S=l;if(i&&"object"==typeof i){const k=i;E=null===(c=k.next)||void 0===c?void 0:c.bind(k),C=null===(h=k.error)||void 0===h?void 0:h.bind(k),S=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(C=C_(C),E&&(E=C_(E)),S&&(S=C_(S)));const A=super.subscribe({next:E,error:C,complete:S});return i instanceof Z.w0&&i.add(A),A}};function KC(){return this._results[cu()]()}class I_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=cu(),l=I_.prototype;l[o]||(l[o]=KC)}get changes(){return this._changes||(this._changes=new ko)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=er(i);(this._changesDetected=!function xl(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gc=(()=>{class r{}return r.__NG_ELEMENT_ID__=b_,r})();const D_=Gc,RE=class extends D_{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=su(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),$d(o,l,i),new Ep(l)}};function b_(){return Fh(on(),ve())}function Fh(r,i){return 4&r.type?new RE(i,r,$c(r,i)):null}let dl=(()=>{class r{}return r.__NG_ELEMENT_ID__=qC,r})();function qC(){return A_(on(),ve())}const T_=dl,S_=class extends T_{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Nr(this._hostTNode,this._hostLView);if(Gu(i)){const o=di(i,this._hostLView),l=Xt(i);return new Qr(o[1].data[l+8],o)}return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=PE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,h){const _=i&&!function wo(r){return"function"==typeof r}(i);let E;if(_)E=o;else{const k=o||{};E=k.index,l=k.injector,c=k.projectableNodes,h=k.ngModuleRef}const C=_?i:new E_(Nt(i)),S=l||this.parentInjector;if(!h&&null==C.ngModule){const B=(_?S:this.parentInjector).get(Ph,null);B&&(h=B)}const A=C.create(S,c,void 0,h);return this.insert(A.hostView,E),A}insert(i,o){const l=i._lView,c=l[1];if(function Sa(r){return Rr(r[3])}(l)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const k=l[3],B=new S_(k,k[6],k[3]);B.detach(B.indexOf(i))}}const h=this._adjustIndex(o),_=this._lContainer;!function vg(r,i,o,l){const c=10+l,h=o.length;l>0&&(o[c-1][4]=i),l<h-10?(i[4]=o[c],kl(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function pc(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(c,l,_,h);const E=Tg(h,_),C=l[11],S=Bd(C,_[7]);return null!==S&&function Ud(r,i,o,l,c,h){l[0]=c,l[6]=i,Rf(r,l,o,1,c,h)}(c,_[6],C,l,S,E),i.attachToViewContainerRef(),kl(Lh(_),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=PE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Eg(this._lContainer,o);l&&(Ni(Lh(this._lContainer),o),wg(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Eg(this._lContainer,o);return l&&null!=Ni(Lh(this._lContainer),o)?new Ep(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function PE(r){return r[8]}function Lh(r){return r[8]||(r[8]=[])}function A_(r,i){let o;const l=i[r.index];if(Rr(l))o=l;else{let c;if(8&r.type)c=Kt(l);else{const h=i[11];c=h.createComment("");const _=Zn(r,i);ki(h,Bd(h,_),c,function F0(r,i){return tn(r)?r.nextSibling(i):i.nextSibling}(h,_),!1)}i[r.index]=o=function Wt(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}(l,i,c,r),Kd(i,o)}return new S_(o,r,i)}class P_{constructor(i){this.queryList=i,this.matches=null}clone(){return new P_(this.queryList)}setDirty(){this.queryList.setDirty()}}class M_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<l;h++){const _=o.getByIndex(h);c.push(this.queries[_.indexInDeclarationView].clone())}return new M_(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==BE(i,o).matches&&this.queries[o].setDirty()}}class Uh{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Bh{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new Bh(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Vh{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Vh(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,o,O_(o,h)),this.matchTNodeWithReadOption(i,o,_o(o,i,h,!1,!1))}else l===Gc?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,_o(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Ah||c===dl||c===Gc&&4&o.type)this.addMatch(o.index,-2);else{const h=_o(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function O_(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function ZC(r,i,o,l){return-1===o?function OE(r,i){return 11&r.type?$c(r,i):4&r.type?Fh(r,i):null}(i,r):-2===o?function NE(r,i,o){return o===Ah?$c(i,r):o===Gc?Fh(i,r):o===dl?A_(i,r):void 0}(r,i,l):Yr(r,r[1],o,i)}function jh(r,i,o,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,_=o.matches,E=[];for(let C=0;C<_.length;C+=2){const S=_[C];E.push(S<0?null:ZC(i,h[S],_[C+1],o.metadata.read))}c.matches=E}return c.matches}function N_(r,i,o,l){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const _=jh(r,i,c,o);for(let E=0;E<h.length;E+=2){const C=h[E];if(C>0)l.push(_[E/2]);else{const S=h[E+1],A=i[-C];for(let k=10;k<A.length;k++){const B=A[k];B[17]===B[3]&&N_(B[1],B,S,l)}if(null!==A[9]){const k=A[9];for(let B=0;B<k.length;B++){const G=k[B];N_(G[1],G,S,l)}}}}}return l}function xE(r){const i=ve(),o=It(),l=Il();Dl(l+1);const c=BE(o,l);if(r.dirty&&es(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?N_(o,i,l,[]):jh(o,i,c,l);r.reset(h,SC),r.notifyOnChanges()}return!0}return!1}function kE(r,i,o,l){const c=It();if(c.firstCreatePass){const h=on();(function UE(r,i,o){null===r.queries&&(r.queries=new Bh),r.queries.track(new Vh(i,o))})(c,new Uh(i,o,l),h.index),function JC(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function LE(r,i,o){const l=new I_(4==(4&o));Fy(r,i,l,l.destroy),null===i[19]&&(i[19]=new M_),i[19].queries.push(new P_(l))}(c,ve(),o)}function FE(){return function QC(r,i){return r[19].queries[i].queryList}(ve(),Il())}function BE(r,i){return r.queries.getByIndex(i)}function Wh(...r){}const QE=new gn("Application Initializer");let Pp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Wh,this.reject=Wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Am(h))o.push(h);else if(Sv(h)){const _=new Promise((E,C)=>{h.subscribe({complete:E,error:C})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(He(QE,8))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const JE=new gn("AppId",{providedIn:"root",factory:function XE(){return`${Mp()}${Mp()}${Mp()}`}});function Mp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $_=new gn("Platform Initializer"),fI=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e0=new gn("appBootstrapListener");let t0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const W_=new gn("LocaleId",{providedIn:"root",factory:()=>_t(W_,Je.Optional|Je.SkipSelf)||function pI(){return"undefined"!=typeof $localize&&$localize.locale||ga}()}),n0=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let mI=(()=>{class r{compileModuleSync(o){return new Nh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=f(Qt(o).declarations).reduce((_,E)=>{const C=Nt(E);return C&&_.push(new E_(C)),_},[]);return new gI(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const yI=(()=>Promise.resolve(0))();function to(r){"undefined"==typeof Zone?yI.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Fo{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ZD(){let r=Rt.requestAnimationFrame,i=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function QD(r){const i=()=>{!function s0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Rt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,o0(r),r.isCheckStableRunning=!0,Op(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),o0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,h,_,E)=>{try{return vI(r),o.invokeTask(c,h,_,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),EI(r)}},onInvoke:(o,l,c,h,_,E,C)=>{try{return vI(r),o.invoke(c,h,_,E,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),EI(r)}},onHasTask:(o,l,c,h)=>{o.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,o0(r),Op(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+c,i,YD,Wh,Wh);try{return h.runTask(_,o,l)}finally{h.cancelTask(_)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const YD={};function Op(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function o0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function vI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function EI(r){r._nesting--,Op(r)}class JD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let wI=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),to(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())to(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(He(Fo))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac}),r})(),XD=(()=>{class r{constructor(){this._applications=new Map,Eu.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Eu.findTestabilityInTree(this,o,l)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();class eb{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function a0(r){Eu=r}let As,Eu=new eb;const G_=new gn("AllowMultipleToken");class CI{constructor(i,o){this.name=i,this.token=o}}function l0(r,i,o=[]){const l=`Platform: ${i}`,c=new gn(l);return(h=[])=>{let _=u0();if(!_||_.injector.get(G_,!1))if(r)r(o.concat(h).concat({provide:c,useValue:!0}));else{const E=o.concat(h).concat({provide:c,useValue:!0},{provide:Ic,useValue:"platform"});!function II(r){if(As&&!As.destroyed&&!As.injector.get(G_,!1))throw new Ae(400,"");As=r.get(bI);const i=r.get($_,null);i&&i.forEach(o=>o())}(Ut.create({providers:E,name:l}))}return function DI(r){const i=u0();if(!i)throw new Ae(401,"");return i}()}}function u0(){return As&&!As.destroyed?As:null}let bI=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const E=function TI(r,i){let o;return o="noop"===r?new JD:("zone.js"===r?void 0:r)||new Fo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Fo,useValue:E}];return E.run(()=>{const S=Ut.create({providers:C,parent:this.injector,name:o.moduleType.name}),A=o.create(S),k=A.injector.get(nr,null);if(!k)throw new Ae(402,"");return E.runOutsideAngular(()=>{const B=E.onError.subscribe({next:G=>{k.handleError(G)}});A.onDestroy(()=>{K_(this._modules,A),B.unsubscribe()})}),function SI(r,i,o){try{const l=o();return Am(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(k,E,()=>{const B=A.injector.get(Pp);return B.runInitializers(),B.donePromise.then(()=>(function Kw(r){Ze(r,"Expected localeId to be defined"),"string"==typeof r&&(gu=r.toLowerCase().replace(/_/g,"-"))}(A.injector.get(W_,ga)||ga),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,l=[]){const c=c0({},l);return function z_(r,i,o){const l=new Nh(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const l=o.injector.get(d0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ae(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(He(Ut))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function c0(r,i){return Array.isArray(i)?i.reduce(c0,r):Object.assign(Object.assign({},r),i)}let d0=(()=>{class r{constructor(o,l,c,h){this._zone=o,this._injector=l,this._exceptionHandler=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new x.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new x.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),to(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(_,E.pipe((0,J.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Ae(405,"");let c;c=o instanceof wE?o:this._injector.get(Vr).resolveComponentFactory(o),this.componentTypes.push(c.componentType);const h=function Np(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Ph),E=c.create(Ut.NULL,[],l||c.selector,h),C=E.location.nativeElement,S=E.injector.get(wI,null),A=S&&E.injector.get(XD);return S&&A&&A.registerApplication(C,S),E.onDestroy(()=>{this.detachView(E.hostView),K_(this.components,E),A&&A.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;K_(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(e0,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(He(Fo),He(Ut),He(nr),He(Pp))},r.\u0275prov=Ht({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function K_(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let f0=!0,p0=!1;function RI(){return p0=!0,f0}function PI(){if(p0)throw new Error("Cannot enable prod mode after platform setup.");f0=!1}let MI=(()=>{class r{}return r.__NG_ELEMENT_ID__=OI,r})();function OI(r){return function NI(r,i,o){if(Zi(r)&&!o){const l=Yn(r.index,i);return new Ep(l,l)}return 47&r.type?new Ep(i[16],i):null}(on(),ve(),16==(16&r))}class q_{constructor(){}supports(i){return nh(i)}create(i){return new ub(i)}}const Z_=(r,i)=>i;class ub{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Z_}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,h=null;for(;o||l;){const _=!l||o&&o.currentIndex<Q_(l,c,h)?o:l,E=Q_(_,c,h),C=_.currentIndex;if(_===l)c--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)c++;else{h||(h=[]);const S=E-c,A=C-c;if(S!=A){for(let B=0;B<S;B++){const G=B<h.length?h[B]:h[B]=0,ge=G+B;A<=ge&&ge<S&&(h[B]=G+1)}h[_.previousIndex]=A-S}}E!==C&&i(_,E,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!nh(i))throw new Ae(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,_,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],_=this._trackByFn(E,h),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,h,_,E)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,E),l=!0),o=o._next}else c=0,function Ac(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[cu()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,E=>{_=this._trackByFn(c,E),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,E,_,c)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,_,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new VI(o,l),h,c),i}_verifyReinsertion(i,o,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Y_),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class VI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cu{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Y_{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new Cu,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q_(r,i,o){const l=r.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class v0{constructor(){}supports(i){return i instanceof Map||rh(i)}create(){return new E0}}class E0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||rh(i)))throw new Ae(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,_=c._next;return h&&(h._next=_),_&&(_._prev=h),c._next=null,c._prev=null,c}const l=new w0(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class w0{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jI(){return new kp([new q_])}let kp=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||jI()),deps:[[r,new zs,new Fr]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new Ae(901,"")}}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:jI}),r})();function I0(){return new Fp([new v0])}let Fp=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||I0()),deps:[[r,new zs,new Fr]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(l)return l;throw new Ae(901,"")}}return r.\u0275prov=Ht({token:r,providedIn:"root",factory:I0}),r})();const Lp=l0(null,"core",[]);let D0=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(He(d0))},r.\u0275mod=Y({type:r}),r.\u0275inj=jt({}),r})()},3942:(qe,we,N)=>{N.d(we,{Z:()=>Ae});var y=N(2090),Z=N(4859),x=N(9681),oe=N(1877);class J{constructor(he,ye){this._delegate=he,this.firebase=ye,(0,x._addComponent)(he,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(he,ye=x._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(he);return!Be.isInitialized()&&"EXPLICIT"===(null===(We=Be.getComponent())||void 0===We?void 0:We.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ye})}_removeServiceInstance(he,ye=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(ye)}_addComponent(he){(0,x._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,x._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const Oe=function ce(Oe){const he={},ye={__esModule:!0,initializeApp:function Ce(Fe,te={}){const K=x.initializeApp(Fe,te);if((0,y.r3)(he,K.name))return he[K.name];const ne=new Oe(K,ye);return he[K.name]=ne,ne},app:Be,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function _e(Fe){const te=Fe.name,K=te.replace("-compat","");if(x._registerComponent(Fe)&&"PUBLIC"===Fe.type){const ne=(pe=Be())=>{if("function"!=typeof pe[K])throw re.create("invalid-app-argument",{appName:te});return pe[K]()};void 0!==Fe.serviceProps&&(0,y.ZB)(ne,Fe.serviceProps),ye[K]=ne,Oe.prototype[K]=function(...pe){return this._getService.bind(this,te).apply(this,Fe.multipleInstances?pe:[])}}return"PUBLIC"===Fe.type?ye[K]:null},removeApp:function We(Fe){delete he[Fe]},useAsService:function Le(Fe,te){return"serverAuth"===te?null:te},modularAPIs:x}};function Be(Fe){if(!(0,y.r3)(he,Fe=Fe||x._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Fe});return he[Fe]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function me(){return Object.keys(he).map(Fe=>he[Fe])}}),Be.App=Oe,ye}(J);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(ye){(0,y.ZB)(Oe,ye)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Oe}(),H=new oe.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=j;!function De(Oe){(0,x.registerVersion)("@firebase/app-compat","0.1.22",Oe)}()},9681:(qe,we,N)=>{N.r(we),N.d(we,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>vn,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>zr,_apps:()=>rt,_clearComponents:()=>St,_components:()=>qt,_getProvider:()=>oi,_registerComponent:()=>Ht,_removeServiceInstance:()=>jt,deleteApp:()=>li,getApp:()=>or,getApps:()=>wi,initializeApp:()=>ai,onLog:()=>xn,registerVersion:()=>fr,setLogLevel:()=>Pn});var y=N(5861),Z=N(4859),x=N(1877),oe=N(2090);class J{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function fe(Ve){const Ie=Ve.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(je)){const et=je.getImmediate();return`${et.library}/${et.version}`}return null}).filter(je=>je).join(" ")}}const re="@firebase/app",le=new x.Yd("@firebase/app"),vn="[DEFAULT]",Ze={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,qt=new Map;function Zt(Ve,Ie){try{Ve.container.addComponent(Ie)}catch(je){le.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ve.name}`,je)}}function zr(Ve,Ie){Ve.container.addOrOverwriteComponent(Ie)}function Ht(Ve){const Ie=Ve.name;if(qt.has(Ie))return le.debug(`There were multiple attempts to register component ${Ie}.`),!1;qt.set(Ie,Ve);for(const je of rt.values())Zt(je,Ve);return!0}function oi(Ve,Ie){const je=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Ve.container.getProvider(Ie)}function jt(Ve,Ie,je=vn){oi(Ve,Ie).clearInstance(je)}function St(){qt.clear()}const hr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Wi{constructor(Ie,je,et){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const sr="9.6.11";function ai(Ve,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const je=Object.assign({name:vn,automaticDataCollectionEnabled:!1},Ie),et=je.name;if("string"!=typeof et||!et)throw hr.create("bad-app-name",{appName:String(et)});const bt=rt.get(et);if(bt){if((0,oe.vZ)(Ve,bt.options)&&(0,oe.vZ)(je,bt.config))return bt;throw hr.create("duplicate-app",{appName:et})}const Ct=new Z.H0(et);for(const U of qt.values())Ct.addComponent(U);const V=new Wi(Ve,je,Ct);return rt.set(et,V),V}function or(Ve=vn){const Ie=rt.get(Ve);if(!Ie)throw hr.create("no-app",{appName:Ve});return Ie}function wi(){return Array.from(rt.values())}function li(Ve){return Je.apply(this,arguments)}function Je(){return(Je=(0,y.Z)(function*(Ve){const Ie=Ve.name;rt.has(Ie)&&(rt.delete(Ie),yield Promise.all(Ve.container.getProviders().map(je=>je.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function fr(Ve,Ie,je){var et;let bt=null!==(et=Ze[Ve])&&void 0!==et?et:Ve;je&&(bt+=`-${je}`);const Ct=bt.match(/\s|\//),V=Ie.match(/\s|\//);if(Ct||V){const U=[`Unable to register library "${bt}" with version "${Ie}":`];return Ct&&U.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),Ct&&V&&U.push("and"),V&&U.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void le.warn(U.join(" "))}Ht(new Z.wA(`${bt}-version`,()=>({library:bt,version:Ie}),"VERSION"))}function xn(Ve,Ie){if(null!==Ve&&"function"!=typeof Ve)throw hr.create("invalid-log-argument");(0,x.Am)(Ve,Ie)}function Pn(Ve){(0,x.Ub)(Ve)}const en="firebase-heartbeat-store";let kn=null;function Ci(){return kn||(kn=(0,oe.X3)("firebase-heartbeat-database",1,(Ve,Ie)=>{0===Ie&&Ve.createObjectStore(en)}).catch(Ve=>{throw hr.create("storage-open",{originalErrorMessage:Ve.message})})),kn}function At(){return(At=(0,y.Z)(function*(Ve){try{return(yield Ci()).transaction(en).objectStore(en).get(Bn(Ve))}catch(Ie){throw hr.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function Ge(Ve,Ie){return lt.apply(this,arguments)}function lt(){return(lt=(0,y.Z)(function*(Ve,Ie){try{const et=(yield Ci()).transaction(en,"readwrite");return yield et.objectStore(en).put(Ie,Bn(Ve)),et.complete}catch(je){throw hr.create("storage-set",{originalErrorMessage:je.message})}})).apply(this,arguments)}function Bn(Ve){return`${Ve.name}!${Ve.options.appId}`}class Ps{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Xe(je),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var Ie=this;return(0,y.Z)(function*(){const et=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Wn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==bt&&!Ie._heartbeatsCache.heartbeats.some(Ct=>Ct.date===bt))return Ie._heartbeatsCache.heartbeats.push({date:bt,agent:et}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ct=>{const V=new Date(Ct.date).valueOf();return Date.now()-V<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,y.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const je=Wn(),{heartbeatsToSend:et,unsentEntries:bt}=function Vn(Ve,Ie=1024){const je=[];let et=Ve.slice();for(const bt of Ve){const Ct=je.find(V=>V.agent===bt.agent);if(Ct){if(Ct.dates.push(bt.date),zn(je)>Ie){Ct.dates.pop();break}}else if(je.push({agent:bt.agent,dates:[bt.date]}),zn(je)>Ie){je.pop();break}et=et.slice(1)}return{heartbeatsToSend:je,unsentEntries:et}}(Ie._heartbeatsCache.heartbeats),Ct=(0,oe.L)(JSON.stringify({version:2,heartbeats:et}));return Ie._heartbeatsCache.lastSentHeartbeatDate=je,bt.length>0?(Ie._heartbeatsCache.heartbeats=bt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ct})()}}function Wn(){return(new Date).toISOString().substring(0,10)}class Xe{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,y.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function ro(Ve){return At.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var je=this;return(0,y.Z)(function*(){var et;if(yield je._canUseIndexedDBPromise){const Ct=yield je.read();return Ge(je.app,{lastSentHeartbeatDate:null!==(et=Ie.lastSentHeartbeatDate)&&void 0!==et?et:Ct.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var je=this;return(0,y.Z)(function*(){var et;if(yield je._canUseIndexedDBPromise){const Ct=yield je.read();return Ge(je.app,{lastSentHeartbeatDate:null!==(et=Ie.lastSentHeartbeatDate)&&void 0!==et?et:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Ie.heartbeats]})}})()}}function zn(Ve){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function Dt(Ve){Ht(new Z.wA("platform-logger",Ie=>new J(Ie),"PRIVATE")),Ht(new Z.wA("heartbeat",Ie=>new Ps(Ie),"PRIVATE")),fr(re,"0.7.21",Ve),fr(re,"0.7.21","esm2017"),fr("fire-js","")}("")},4859:(qe,we,N)=>{N.d(we,{H0:()=>ce,wA:()=>x,zt:()=>J});var y=N(5861),Z=N(2090);class x{constructor(j,H,Q){this.name=j,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class J{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Q=new Z.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:H});Ue&&Q.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ue=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(Ue)return null;throw De}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function re(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(H);try{const De=this.getOrInitializeService({instanceIdentifier:Ue});Q.resolve(De)}catch(De){}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,y.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[De,Ae]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&Ae.resolve(Ue);return Ue}onInit(j,H){var Q;const Ue=this.normalizeInstanceIdentifier(H),De=null!==(Q=this.onInitCallbacks.get(Ue))&&void 0!==Q?Q:new Set;De.add(j),this.onInitCallbacks.set(Ue,De);const Ae=this.instances.get(Ue);return Ae&&j(Ae,Ue),()=>{De.delete(j)}}invokeOnInitCallbacks(j,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Ue of Q)try{Ue(j,H)}catch(De){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===oe?void 0:le),options:H}),this.instances.set(j,Q),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(Ue){}var le;return Q||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new J(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(qe,we,N)=>{N.d(we,{Am:()=>le,Ub:()=>ce,Yd:()=>re,in:()=>Z});const y=[];var Z=(()=>{return(j=Z||(Z={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Z;var j})();const x={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},oe=Z.INFO,J={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},fe=(j,H,...Q)=>{if(H<j.logLevel)return;const Ue=(new Date).toISOString(),De=J[H];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[De](`[${Ue}]  ${j.name}:`,...Q)};class re{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=fe,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Z))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?x[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...H),this._logHandler(this,Z.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...H),this._logHandler(this,Z.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...H),this._logHandler(this,Z.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...H),this._logHandler(this,Z.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...H),this._logHandler(this,Z.ERROR,...H)}}function ce(j){y.forEach(H=>{H.setLogLevel(j)})}function le(j,H){for(const Q of y){let Ue=null;H&&H.level&&(Ue=x[H.level]),Q.userLogHandler=null===j?null:(De,Ae,...Oe)=>{const he=Oe.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(We){return null}}).filter(ye=>ye).join(" ");Ae>=(null!=Ue?Ue:De.logLevel)&&j({level:Z[Ae].toLowerCase(),message:he,args:Oe,type:De.name})}}}},5861:(qe,we,N)=>{function y(x,oe,J,fe,re,ce,le){try{var j=x[ce](le),H=j.value}catch(Q){return void J(Q)}j.done?oe(H):Promise.resolve(H).then(fe,re)}function Z(x){return function(){var oe=this,J=arguments;return new Promise(function(fe,re){var ce=x.apply(oe,J);function le(H){y(ce,fe,re,le,j,"next",H)}function j(H){y(ce,fe,re,le,j,"throw",H)}le(void 0)})}}N.d(we,{Z:()=>Z})}},qe=>{qe(qe.s=2923)}]);